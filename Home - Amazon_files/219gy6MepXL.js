(function(d){var l=window.AmazonUIPageJS||window.P,m=l._namespace||l.attributeErrors,a=m?m("DashiellWebUI"):l;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,l,m){d.when("sc-widget-menus","ready").execute("sc-dashiell-menu-init",function(a){a.init();return a});d.when("A","sc-drag-and-drop","ready").execute("dashiell-drag-and-drop",function(a,c){var b=a.$,e=b("input[name=SCSCDragNDrop-ElementSelector]"),g=b("input[name=SCSCDragNDrop-HandleSelector]"),f=b("input[name=SCSCDragNDrop-EventName]"),
b=b("input[name=SCSCDragNDrop-ZoneSelectors]"),n=null;if(e[0]&&g[0]&&b[0]&&e.val()&&g.val()&&b.val())return f[0]&&f.val()&&(n=f.val()),b=b.val(),b=b.substring(1,b.length-1).split(","),new c({drag:e.val(),handle:g.val(),drop:b,dropCallback:function(b){a.trigger(n)}})});d.when("A","ready").register("sc-RUP",function(a){var c={},b=a.$,e=(a=b('input[name="WidgetRUPPath"]')[0])?b(a).val():"/hz/dashiell/utilities/rup";c.setRUP=function(a){var f={};f[a.prefName]=a.prefValue;b.ajax({url:e,type:"POST",
contentType:"application/json",data:JSON.stringify(f),cache:!1,complete:function(b,f){a.cb&&a.cb(b,f)}})};return c});d.when("A","a-popover-util").register("sc-menu-variant",function(a,c){return{skin:function(b){return['<div class="a-popover a-declarative sc-menu" data-action="sc-menu-container"><div class="a-popover-wrapper sc-menu-wrapper"><div class="a-popover-inner"><div class="a-popover-content" id="a-popover-content-',b.attrs("id"),'"></div></div></div></div>'].join("")},positionStrategy:function(b){var a=
b.measure;b=a(b.$popover,b.$trigger.closest(".sc-handle-wrap"));return{top:b.triggerBottom-1,left:b.triggerRight-b.popoverWidth}},updateContent:function(b){"string"===typeof b?this.$popover.find(".a-popover-content").html(b):b&&this.$popover.find(".a-popover-content").html("").append(b)},updateDimensions:function(){this.$popover.css(c.getCSSHash(this.attrs()));this.isActive()&&this.updatePosition();return this},getContent:function(){return this.$popover?this.$popover.find(".a-popover-content"):null},
beforeShowMethod:function(){this.$trigger.closest(".sc-handle-wrap").addClass("sc-handle-active")},beforeHideMethod:function(){this.$trigger.closest(".sc-handle-wrap").removeClass("sc-handle-active")},hideMethod:function(){a.fadeOut(this.$popover,250,"linear")}}});d.when("A","a-popover-base-factory","sc-menu-variant","a-popover-util").register("sc-menu-factory",function(a,c,b,e){function g(f,a){a={type:"sc-menu",alone:!0,width:a.width,height:a.height,"max-width":a["max-width"],"max-height":a["max-height"],
"min-width":a["min-width"],"min-height":a["min-height"],dataStrategy:a.dataStrategy,name:a.name};return c.create(f,{attributes:a,variant:b,actionCheck:!0})}return{type:"sc-menu",create:g,get:function(a){var b=c.get(a,"sc-menu");b||"object"!==typeof a||(a=e.extractDeclarativeParams(a,"sc-menu"))&&(b=g(a.$trigger,a.attributes||{}));return b},remove:function(a){return c.remove(a,"sc-menu")}}});d.when("A","sc-menu-factory").register("sc-menu-handlers",function(a,c){function b(b){b&&!b.destroyTimer&&
(b.destroyTimer=a.delay(function(){b.hide()},250))}function e(a){a&&(clearTimeout(a.destroyTimer),a.destroyTimer=null,clearTimeout(a.parent.destroyTimer),a.parent.destroyTimer=null)}var g=a.$;a.declarative("a-sc-menu","click",function(a){var b=c.get(a.$declarativeParent);b.isActive()?b.hide():b.show();a.$event.preventDefault()});a.declarative("sc-menu-container","mouseenter",function(a){(a=c.get(a.$declarativeParent))&&e(a)});a.declarative("sc-menu-container","mouseleave",function(a){var e=c.get(a.$declarativeParent);
g(a.$event.relatedTarget);e&&e.isActive()&&b(e)});return{factory:c,close:function(a,c){a&&(e(a),c?b(a):a.hide())}}});d.when("A","a-popover-base","sc-menu-factory","sc-menu-handlers").register("sc-menu",function(a,c,b,e){return b});d.when("A","sc-widget-strings","sc-menu-handlers","sc-metrics-api","ready").register("sc-widget-menus",function(a,c,b,e){function g(a){return a.parents(".a-list-link").first().data("cardId")}function f(a){e.recordEvent({context:"dashiell",subcontext:a,action:"collapse"});
var b=h("#widget-"+a);b.addClass("sc-widget-collapsed");b.find(".sc-widget-content").addClass("a-hidden");b.find(".sc-widget-expand-collapse .sc-icon").removeClass("sc-icon-collapse").addClass("sc-icon-expand");h("#sc-w-menu-"+a).find('.a-declarative[data-action="sc-widget-collapse"] .sc-w-coll').text(c.expand)}function d(a){e.recordEvent({context:"dashiell",subcontext:a,action:"expand"});var b=h("#widget-"+a);b.removeClass("sc-widget-collapsed");b.find(".sc-widget-content").removeClass("a-hidden");
b.find(".sc-widget-expand-collapse .sc-icon").removeClass("sc-icon-expand").addClass("sc-icon-collapse");h("#sc-w-menu-"+a).find('.a-declarative[data-action="sc-widget-collapse"] .sc-w-coll').text(c.collapse)}function m(a,b){e.recordEvent({context:"dashiell",subcontext:b,action:"rate"});var c=void 0;null===c&&(c="no");l.open(a,void 0,"height=530,width=350,left="+(screen.width-350)/2+",top="+(screen.height-530)/2+",status=no,toolbar="+c+",menubar=no,location=no,resizable=yes,scrollbars=yes")}function p(c,
d,g){e.recordEvent({context:"dashiell",subcontext:c,action:"refresh"});var f=h('input[name="WidgetRefreshPath"]')[0],f=f?h(f).val():"/hz/dashiell/utilities/widget/",k=h("#widget-"+c);d=d?d.$declarativeParent.parents(".a-popover"):!1;a.trigger("sc-gateway:widgetRefresh",{widgetId:c});d&&b.close(d);k.append('<div class="sc-widget-overlay"></div>');h.ajax({type:"GET",dataType:"html",url:f+c,success:function(a){a=h(a);g(a.find(".sc-widget-content").html(),c)}})}function q(b,c){if(!b)return!1;var d=h("#widget-"+
c);d.find(".sc-widget-content").html(b);a.fadeOut(d.find(".sc-widget-overlay"),300,"ease-out",function(){d.find(".sc-widget-overlay").remove()});a.trigger("sc-gateway:widgetRefreshComplete",{widgetId:c});return!0}var k={},h=a.$;k.getWidgetId=g;k.refresh=p;k.afterRefresh=q;k.collapse=f;k.expand=d;k.openRatePopup=m;k.init=function(){a.declarative("sc-widget-collapse","click",function(b){b=b.data.widgetId?b.data.widgetId:g(b.$target);h("#widget-"+b).hasClass("sc-widget-collapsed")?d(b):f(b);a.trigger("sc-gateway:widgetCollapseChange")});
a.declarative("sc-widget-rate","click",function(a){var b=a.$target.parents(".a-list-link").first().data("url");a=g(a.$target);m(b,a)});a.declarative("sc-widget-refresh","click",function(a){var b=g(a.$target);p(b,a,q)})};return k});d.when("A","ready").register("sc-metrics-api",function(a){return{recordEvent:function(a){if(!(a&&a.context&&a.subcontext&&a.action))throw"sc-metrics-api recordEvent() called with null or missing properties";a="scgateway:"+a.context+":"+a.subcontext+":"+a.action;
var b=l.ue;b&&b.count&&b.count(a,(b.count(a)||0)+1)}}})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,u=g._namespace||g.attributeErrors,b=u?u("OlympusGatewayUI"):g;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,g,u){f.when("A","ready").register("sc-display-ad",function(b){var c=b.$,d,e,a,h,v,f,n=function(){var a=c("#"+e),b=c(g).height(),d=a.offset();return!a||!d||"undefined"===typeof d.top||d.top>b?!1:!0},w=function(){"undefined"!==typeof g.d16g&&g.d16g.requestAanAd({elemId:e,baseUrl:a,afterOnload:!0,client:h,
pt:"sellercentral",slot:d,pt2:"sellercentral",prid:(new Date).getTime()})},k=function(a){c.ajax({url:a,data:null,dataType:"script",cache:!0,success:w})},p=function(a){a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(g.location.href);return null!==a?a[1]:null};return{setAanSlot:function(a){d=a},setAdDivId:function(a){e=a},setBaseUrl:function(c){a=c},setClient:function(a){h=a},setNoAdCallback:function(a){v=a},setUrlSuffix:function(a){f=a},getAd:function(){var c=-1<navigator.userAgent.indexOf("Chrome/"),
e=p("slotoverride");n()?(null!==e&&(d=e),c?k(a+f):b.on.load(function(){setTimeout(k(a+f),200)})):"function"===typeof v&&v.call()}}});f.when("A","jQuery","sc-display-ad","ready").execute(function(b,c,d){c=b.$;var e=c("#ad-top-container");b=c('#ad-top-container input[name="aanSlot"]').val();var a=c('#ad-top-container input[name="baseUrl"]').val(),h=c('#ad-top-container input[name="client"]').val();c=c('#ad-top-container input[name="urlSuffix"]').val();d.setAdDivId("ad-top");d.setBaseUrl(a);d.setUrlSuffix(c);
d.setClient(h);d.setAanSlot(b);d.setNoAdCallback(function(){e.remove()});(function(a){var c=setInterval(function(){g.jQuery&&(clearInterval(c),a())},50)})(d.getAd)});f.when("A").register("sc-gateway-insert-cards",function(b){var c=b.$;b.on("sc-gateway:card-ready",function(d){d=c("#"+d);var b=d.find(".sc-widget-box"),a=d.find(".sc-menu-preload > .a-popover-preload"),h=d.data("zone");0<b.length&&(c("#"+{left:"gw-lefty",center:"gw-sentry",right:"gw-righty"}[h]).append(b),b=c("#sc-menu-drop-zone"),
1>b.length&&(b=c("body").first()),b.append(a));d.remove()})});f.when("A","jQuery","sc-responsive","sc-widget-menus","ready").register("sc-responsive-gateway",function(b,c,d,e){e={BREAKPOINTS:{mini_breakpoint:1,small_breakpoint:2,medium_breakpoint:2,large_breakpoint:2,xl_breakpoint:3,xxl_breakpoint:3,max_breakpoint:3},current_columns:0,widgets:{},initialize:function(){var a=this;a.widgets=a.buildWidgets();b.on("responsive:threshold",function(c){a.reflow_handler(c)});b.on("sc-gateway:card-ready",function(){a.widgets=
a.buildWidgets()});a.current_columns=a.BREAKPOINTS[d.current_classname];3>a.current_columns&&a.reflow(a.current_columns,!0)},reflow:function(a,d){var e=this.widgets.left,f=this.widgets.center,n=this.widgets.right,w=this.widgets.maxLength,k=this.widgets.left.length,p=this.widgets.center.length,m=this.widgets.right.length,r=0,t=0,l=0,l=!1;3!==this.current_columns&&3!==a&&(l=!0);this.current_columns=a;if(!l||d)if(c(".sc-responsive-unit").remove(),3===a)c(".gw-left-col").append(e),c(".gw-center-col").append(f),
c(".gw-right-col").append(n);else if(2===a||1===a)for(var q=function(a){try{c(".gw-center-col").append(a)}catch(b){g.ueLogError&&g.ueLogError(b,{logLevel:"ERROR",attribution:"sc-responsive-gateway::reflow",message:"Responsive reflow failed on widget "+a.id})}},l=0;l<w&&(k?(k--,q(e[r]),r++):m&&(m--,q(n[t]),t++),m?(m--,q(n[t]),t++):k&&(k--,q(e[r]),r++),p&&(p--,q(f[l])),k||m||p);l++);b.trigger("sc-gateway-reflow-complete",{columns:a})},reflow_handler:function(a){var c=this.BREAKPOINTS[a.breakpoint];
0<=c&&this.current_columns!==c&&this.reflow(this.BREAKPOINTS[a.breakpoint])},buildWidgets:function(){var a=c(".gw-left-col .sc-responsive-unit"),b=c(".gw-center-col .sc-responsive-unit"),d=c(".gw-right-col .sc-responsive-unit");return{left:a.addClass("gw-widget-left"),center:b.addClass("gw-widget-center"),right:d.addClass("gw-widget-right"),maxLength:Math.max(a.length,b.length,d.length)}}};e.initialize();return e});f.when("A","dashiell-drag-and-drop","ready").execute(function(b,c){b.on("sc-gateway-reflow-complete",
function(b){3!==b.columns||c.enabled?c.enabled&&c.destroy():c.enable()})});f.when("A","sc-RUP","sc-rup-string-builder","ready").execute("sc-rup-event-controllers",function(b,c,d){function e(){var a=(new d).getPref();c.setRUP({prefName:a.RUPKey,prefValue:a.RUPValue})}b.each(["sc-gateway:widgetCollapseChange","sc-gateway:widgetReorderChange"],function(a){b.on(a,e)})});f.when("A","ready").register("sc-rup-string-builder",function(b){return function(){var c=this,d=b.$;c.getPref=function(){var e=
"",a={},h={};d.extend(a,c._addWidgetToZones("#gw-lefty","left"));d.extend(a,c._addWidgetToZones("#gw-sentry","center"));d.extend(a,c._addWidgetToZones("#gw-righty","right"));b.each(a,function(a,c){e+=c+":"+a.join(",")+";"});return h={RUPKey:"sc_gateway_olympus-widgetCustomization",RUPValue:e}};c._addWidgetToZones=function(e,a){var h={t1:"t1"+a,t2:a},f={};f[h.t1]=[];f[h.t2]=[];b.each(d(e+" .sc-widget-box"),function(a,b){f=c._buildSlots(f,h,a,b)});return f};c._buildSlots=function(b,a,d,f){b[1>=f?a.t1:
a.t2].push(c._buildWidgetString(d));return b};c._buildWidgetString=function(b){var a=d(b).attr("id").split("-")[1];b=d(b).hasClass("sc-widget-collapsed")?1:0;return a+"-"+b}}});f.when("A","ready").register("sc-refresh-widgets",function(b){return function(){var c=b.$;this.init=function(){b.declarative("sc-widget-refresh","click",this._refreshWidget)};this._getWidgetId=function(b){return c(b).parents(".sc-w-menu").first().data("cardId")};this._refreshWidget=function(b,e){var a=this._getWidgetId(b.$currentTarget||
b),f=c("#widget-"+a).find(".widget-content");e=e||function(){};f.append('<div class="sc-w-loading"></div>');c.ajax({url:"/hz/home/widget",cache:!1,data:{id:a},complete:function(b){f.find(".sc-w-loading").remove();e(b,a)}})}}});f.when("sc-refresh-widgets").execute("sc-refresh-widgets-init",function(b){(new b).init()});f.when("A","sc-RUP","ready").register("sc-english-override",function(b,c){b.declarative("sc-english-override","click",function(b){c.setRUP({prefName:"View Strings In English",
prefValue:"false"===b.data.override,cb:function(){g.location.reload()}})})});f.when("A","jQuery","a-carousel-framework","ready").register("sc-carousel",function(b,c,d){var e={initialize:function(){b.on("sc-gateway-reflow-complete",this.onReflowComplete)},bindVideoButton:function(){c(".sc-carousel-holder .sc-video-card .a-button-inner a").bind("click",this.onVideoButtonClick)},onVideoButtonClick:function(a){a.target.href.split("?v=");a.stopPropagation();return!1},onReflowComplete:function(a){(a=d.getCarouselByName("gatewayCarousel"))&&
e.rebindListeners(a)},rebindListeners:function(a){var c=!1;a.dom.$container.delegate(".a-carousel-goto-nextpage","click dblclick",function(d){c||(c=!0,d.preventDefault(),a.gotoNextPage({accessibleSafe:!0}),b.delay(function(){c=!1},5))}).delegate(".a-carousel-goto-prevpage","click dblclick",function(d){c||(c=!0,d.preventDefault(),a.gotoPrevPage({accessibleSafe:!0}),b.delay(function(){c=!1},5))}).delegate(".a-carousel-goto-nextpage","keydown",function(c){if(c.which===b.constants.keycodes.ENTER||c.which===
b.constants.keycodes.SPACE)c.preventDefault(),a.gotoNextPage({accessibleSafe:!0})}).delegate(".a-carousel-goto-prevpage","keydown",function(c){if(c.which===b.constants.keycodes.ENTER||c.which===b.constants.keycodes.SPACE)c.preventDefault(),a.gotoPrevPage({accessibleSafe:!0})});a.dom.$container.find(".a-carousel-page-max").html(a.getAttr("totalPages"));var d=a.dom.$viewport;(b.capabilities.touch||b.capabilities.pointerPrefix)&&"none"!==a.getAttr("transitionStrategy")&&f.when("a-touch").execute(function(c){d.addClass("a-gesture a-gesture-horizontal").bind("pan-horizontal swipe-horizontal",
function(){return!1});b.on("a:swipe-horizontal:"+d[0].id,function(b){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onSwipe)a.strategies.transition.onSwipe(a,b)});if(!a.getAttr("disable_panning"))b.on("a:pan-horizontal:"+d[0].id,function(b){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onPan)a.strategies.transition.onPan(a,b)})});if((b.capabilities.isIE10||b.capabilities.isIE11Plus)&&"none"!==a.getAttr("transitionStrategy")){var e=function(a){a.stopPropagation();a.preventDefault();
document.body.removeEventListener("click",e,!0)};d.bind(b.action.start,function(a){d.bind("swipe-horizontal.a-ssiec pan-horizontal.a-ssiec",function(a){d.unbind(".a-ssiec");d.bind(b.action.end+".a-ssiec",function(a){d.unbind(".a-ssiec");document.body&&document.body.addEventListener("click",e,!0)})})})}}};e.initialize();return e});f.when("A","jQuery","ready").register("sc-video-player",function(b,c){return{showPlayer:function(b){b='<iframe id="video" width="'+(b.width||600)+'" height="'+(b.height||
400)+'" src="'+(b.videoId?"https://www.youtube.com/embed/"+b.videoId+"?rel0":"")+'" frameborder="0" allowfullscreen></iframe>';var e=c("#sc-video-holder"),a=c("#sc-video-overlay");event.stopPropagation();1>e.length&&(c("body").append('<div class="sc-carousel-video-holder" id="sc-video-holder" >'),e=c("#sc-video-holder"));1>a.length&&(c("body").append('<div class="sc-video-overlay" id="sc-video-overlay"></div>'),a=c("#sc-video-overlay"));e.html(b);e.fadeIn();a.fadeIn();a.bind("click",this.hidePlayer);
return!1},hidePlayer:function(){var b=c("#sc-video-overlay"),e=c("#sc-video-holder");b.fadeOut();e.fadeOut()}}});f.when("A","sc-RUP","sc-metrics-api").register("sc-reset-view",function(b,c,d){b.declarative("sc-reset-view","click",function(b){d.recordEvent({context:"homepage",subcontext:"resetView",action:"buttonClicked"});c.setRUP({prefName:"sc_gateway_olympus-widgetCustomization",prefValue:"",cb:function(){g.location.reload()}})})});f.when("A","jQuery","sc-metrics-api").register("OlympusGatewayUIWidgetMetricsHelper",
function(b,c,d){var e=function(a,b,c){d.recordEvent({context:a,subcontext:b,action:c})};return{passThrough:function(a){d.recordEvent(a)},recordRawEvent:function(a,b,c){e(a,b,c)},widgetRendered:function(a){e(a,"initialization","widgetRendered")},formSubmitted:function(a){e(a,"form","formSubmitted")}}});f.when("A","jQuery","OlympusGatewayUIWidgetMetricsHelper","dashiell-widget-fwkABy-jsp-rendered","ready").execute("displayAdWidget",function(b,c,d){d.widgetRendered("fwkABy");f.register("displayAdWidgetMetricsReady",
function(){return!0})});f.when("A","jQuery","OlympusGatewayUIWidgetMetricsHelper","dashiell-widget-fjhami-jsp-rendered","ready").execute("spooferWidget",function(b,c,d){var e=function(a,b){var c=b.$event;if("mousedown"===c.type){var e={context:"fjhami",subcontext:a,action:"unknown"};switch(c.which){case 1:e.action="linkClicked";break;case 2:e.action="linkMiddleClicked";break;case 3:e.action="linkRightClicked"}d.passThrough(e)}};d.widgetRendered("fjhami");b.declarative("spoofer-merchant-health",function(a){e("merchantHealth",
a)});b.declarative("sc-english-override",function(a){e("viewInEnglish",a)});f.register("spooferWidgetMetricsReady",function(){return!0})})});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,e=d._namespace||d.attributeErrors,a=e?e("OlympusRACEWidgetsUI"):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,e){c.when("A","jQuery","sc-metrics-api").register("OlympusRACEWidgetMetricsHelper",function(a,c,b){return{recordRawEvent:function(a,c,d){b.recordEvent({context:a,subcontext:c,action:d})},widgetRendered:function(a){b.recordEvent({context:a,subcontext:"initialization",action:"widgetRendered"})}}});
c.when("A","jQuery","OlympusRACEWidgetMetricsHelper","dashiell-widget-fLsHF2-jsp-rendered","ready").execute("notificationsWidget",function(a,d,b){b.widgetRendered("fLsHF2");a.declarative("notificationLinkClick","mousedown",function(a){switch(a.$event.which){case 1:b.recordRawEvent("fLsHF2","message","linkClicked");break;case 2:b.recordRawEvent("fLsHF2","message","linkMiddleClicked");break;case 3:b.recordRawEvent("fLsHF2","message","linkRightClicked")}});c.register("notificationsWidgetMetricsReady",
function(){return!0})});c.when("A","jQuery","OlympusRACEWidgetMetricsHelper","dashiell-widget-fLsIEm-jsp-rendered","ready").execute("headlinesWidget",function(a,d,b){b.widgetRendered("fLsIEm");a.declarative("headlineLinkClick","mousedown",function(a){switch(a.$event.which){case 1:b.recordRawEvent("fLsIEm","message","linkClicked");break;case 2:b.recordRawEvent("fLsIEm","message","linkMiddleClicked");break;case 3:b.recordRawEvent("fLsIEm","message","linkRightClicked")}});c.register("headlinesWidgetMetricsReady",
function(){return!0})});c.when("A","jQuery","OlympusRACEWidgetMetricsHelper","dashiell-widget-fLsHUN-jsp-rendered","ready").execute("sellingToolsWidget",function(a,d,b){b.widgetRendered("fLsHUN");a.declarative("sellingToolLinkClick","mousedown",function(a){switch(a.$event.which){case 1:b.recordRawEvent("fLsHUN","message","linkClicked");break;case 2:b.recordRawEvent("fLsHUN","message","linkMiddleClicked");break;case 3:b.recordRawEvent("fLsHUN","message","linkRightClicked")}});c.register("sellingToolsWidgetMetricsReady",
function(){return!0})})});
/* ******** */
(function(H){var z=window.AmazonUIPageJS||window.P,qa=z._namespace||z.attributeErrors,e=qa?qa("SellerCentralKPIToolbarUIAssets"):z;e.guardFatal?e.guardFatal(H)(e,window):e.execute(function(){H(e,window)})})(function(H,z,qa){H.when("A","a-popover","ready","kpi-rootJSP-ready").execute("kpiToolbarPopovers",function(e,a){var b=e.$,c={marketplaceSwitcher:{name:"kpiMarketplaceSwitcher",triggerSelector:"#kpiMarketplaceSwitcher .kpiWrapper",minWidth:300,maxWidth:550,dataStrategy:"preload",activate:"onclick",
popoverArrow:!1},orders:{name:"kpiOrders",triggerSelector:"#kpiOrdersSummary .kpiWrapper",minWidth:620,maxWidth:850,dataStrategy:"preload",activate:"onclick",popoverArrow:!1},salesSummary:{name:"kpiSalesSummary",triggerSelector:"#kpiSalesSummarySummary .kpiWrapper",minWidth:300,maxWidth:900,dataStrategy:"preload",activate:"onclick",popoverArrow:!1},buyerSellerMessaging:{name:"kpiBuyerSellerMessaging",triggerSelector:"#kpiBuyerSellerMessagingSummary .kpiWrapper.clickable",minWidth:600,maxWidth:600,
dataStrategy:"preload",activate:"onclick",popoverArrow:!1},accountHealth:{name:"kpiAccountHealth",triggerSelector:"#kpiAccountHealthSummary .kpiWrapper.clickable",minWidth:530,maxWidth:530,dataStrategy:"preload",activate:"onclick",popoverArrow:!1},estimatedLostSales:{name:"kpiEstimatedLostSales",triggerSelector:"#kpiEstimatedLostSalesSummary .kpiWrapper.clickable",minWidth:600,maxWidth:600,dataStrategy:"preload",activate:"onclick",popoverArrow:!1}},d=function(a){var d=a.popover.name;a=b(a.popover.$container);
var e=a.position().top;a.css("top",e+50);var g;a:{for(g in c)if(c.hasOwnProperty(g)&&c[g].name===d){g=c[g];break a}g=void 0}var e=g.minWidth,h=g.maxWidth;a.css("width",.95*z.innerWidth>h?h+"px":.95*z.innerWidth<h&&z.innerWidth>e?"95%":e+"px");a.css("max-width","95%");a.css("z-index","99");a=a.find(".a-popover-inner");"kpiSalesSummary"!==d?a.css("padding","20px 20px 20px 30px"):(a.css("padding","0px 20px 0px 0px"),a.find("button.a-button-close").css("margin-top","10px"));f();b(g.triggerSelector).addClass("kpi-active")},
f=function(){b(".kpiWrapper").removeClass("kpi-active")},g;for(g in c)if(c.hasOwnProperty(g)){var h=c[g],k=b(h.triggerSelector);k.children(".kpiErrorContent").length||(a.create(k,h),e.on("a:popover:afterUpdatePosition:"+h.name,d),e.on("a:popover:afterHide:"+h.name,f),k.click(function(c){var d=b(c.target).closest(".kpiWrapper");if(1===d.length){var e=b(d[0]);e.hasClass("kpi-active")?(a.get(e).hide(),setTimeout(function(){e.removeClass("kpi-active")},50)):a.get(e).hide().show();c.preventDefault()}}))}});
H.when("A","jQuery","ready").register("kpi-util",function(e,a){return{callControllerFunctionWithAjax:function(b,c,d,f){d.addClass("hidden");c.removeClass("hidden");a.ajax({url:"/home/kpi-summary-view-ajax",data:JSON.stringify(b),type:"POST",dataType:"html",contentType:"application/json",success:function(c){f.html(c);"SalesSummary"===b.kpiName&&(c=a('script[data-a-state*="kpi-sales-data"]').html(),c=JSON.parse(c),e.state.replace("kpi-sales-data",c),e.trigger("kpiChartDataReady",{}))},failure:function(a){console.log(a);
c.addClass(".hidden");d.html("<div>Currently Unavailable</div>");d.removeClass("hidden")},error:function(a,b,e){console.log(e);c.addClass(".hidden");d.html("<div>Currently Unavailable</div>");d.removeClass("hidden")}})}}});H.when("A","jQuery","3p-amcharts","a-popover","a-checkbox","kpi-util","currencyFormatter","ready").execute("salesSummaryScripts",function(e,a,b,c,d,f,g){function h(a,b){for(var c=a.length;c--;)a[c].includes(b)&&a.splice(c,1)}function k(){return e.state("kpi-sales-page-state").kpiRequest}
function l(a){e.state.replace("kpi-sales-page-state",{kpiRequest:a});n()}function m(){var b=k().selectedMarketplaces;a(".kpiLegendItem").each(function(c,e){var f=e.id,g=f.split("-")[3],f=d("#"+f+" .marketplaceCheckbox"),g=b.includes(g);f.check(g);g?a(e).removeClass("unselected"):a(e).addClass("unselected")});n()}function n(){d(".marketplaceCheckbox").isChecked()?d(".marketplaceSelectAllCheckbox").check(!0):d(".marketplaceSelectAllCheckbox").check(!1)}var p,q={},r={},t,u=function(){t=[];var c=Object.keys(e.state("kpi-sales-data")[0]);
h(c,"date");h(c,":Formatted");c.forEach(function(a){q[a]=new b.AmGraph});var c={ATVPDKIKX0DER:"#FF931E",A2EUQ1WTGCTBG2:"#3FA9F5",A1AM78C64UM0Y8:"#7AC943",A3P3J5A7D2ZVXI:"#7AC943",A1F83G8C2ARO7P:"#9E005D",A1PA6795UKMFR9:"#FCCC00",A13V1IB3VIYZZH:"#2E3192",A1RKKUPIHCS9HS:"#FF1D25",AJZF8LZ1EJVJN:"#FF1D25",APJ6JRA9NG5V4:"#00A99D",A3HOBANJMCMD83:"#00A99D",A2XZLSVIQ0F4JT:"#0000FF",A21TJRUUN4KGV:"#0000FF",A1VC38T7YXB528:"#603813"},d;for(d in q)q.hasOwnProperty(d)&&(a.extend(q[d],{id:d,title:d+" sales",type:"line",
balloon:{drop:!0,adjustBorderColor:!1},balloonFunction:function(a,b){return r[a.index][b.id]},bullet:"round",bulletSize:5,lineThickness:2,lineColor:c[d],useLineColorForBulletBorder:!0,valueField:d}),t.push(q[d]))};e.on("a:popover:show:kpiSalesSummary",function(){e.trigger("kpiChartDataReady",{})});e.on("a:dropdown:selected:kpi-sales-currency-dropdown",function(b){var c=a("#kpiSalesDetailView"),d=a("#kpiSalesChart"),e=a("#kpiSalesSpinner");b=b.value;var g=k();g.commonGlobalDataAttributes.currencyCode=
b;f.callControllerFunctionWithAjax(g,e,d,c);l(g)});e.on("a:button-group:kpi-sales-days-toggle-button-list:toggle",function(b){var c=a("#kpiSalesDetailView"),d=a("#kpiSalesChart"),e=a("#kpiSalesSpinner");b=Number(b.selectedButton.buttonName);var g=1<b?"daily":"hourly",h=k();h.payload={days:b,granularity:g};h.defaultPayload&&(h.defaultPayload=!1);f.callControllerFunctionWithAjax(h,e,d,c);l(h)});e.declarative("kpi-one-marketplaces-checkbox-clicked","click",function(b){b=b.data.marketplaceId;var c=k(),
e=c.selectedMarketplaces,f=a("#kpi-sales-legend-".concat(b));if(d("#kpi-sales-legend-"+b+" .marketplaceCheckbox").isChecked()){e.push(b);for(g=0;g<p.graphs.length;g++)b===p.graphs[g].id&&p.showGraph(p.graphs[g]);f.removeClass("unselected")}else{h(e,b);for(var g=0;g<p.graphs.length;g++)b===p.graphs[g].id&&p.hideGraph(p.graphs[g]);f.addClass("unselected")}c.selectedMarketplaces=e;l(c)});e.declarative("kpi-select-all-marketplaces-checkbox-clicked","click",function(b){b=e.state("kpi-sales-page-state").kpiRequest;
if(d(".marketplaceSelectAllCheckbox").isChecked()){d(".marketplaceCheckbox").check(!0);for(var c=0;c<p.graphs.length;c++){var f=p.graphs[c];p.showGraph(f);b.selectedMarketplaces.push(f.valueField)}a(".kpiLegendItem").removeClass("unselected")}else{d(".marketplaceCheckbox").check(!1);for(c=0;c<p.graphs.length;c++)p.hideGraph(p.graphs[c]);b.selectedMarketplaces=[];a(".kpiLegendItem").addClass("unselected")}l(b)});e.on("kpiChartDataReady",function(){m();var c=g.formatChartDataProvider(e.state("kpi-sales-data"));
r=c.formattedSales;u();var d=k(),f,h,l,q,z;"hourly"===(d.defaultPayload?"daily":d.payload.granularity)?(f="hh",h=!1):(f="DD",h=!0,l="YYYY-MM-DD",q=function(a){return a.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})},z=function(a,b,c){return b.toLocaleDateString()});p=b.makeChart("kpiSalesChart",{type:"serial",theme:"light",graphs:t,dataDateFormat:l,chartCursor:{valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",valueLineAlpha:.2,categoryBalloonFunction:q},
categoryField:"date",categoryAxis:{parseDates:h,minPeriod:f,autoGridCount:!1,gridCount:4,boldPeriodBeginning:!1,centerLabels:!0,equalSpacing:!0,labelFunction:z},dataProvider:c.chartData,valueAxes:[{axisAlpha:"0",position:"left",title:d.commonGlobalDataAttributes.currencyCode,titleBold:"false"}],export:{enabled:!1}});for(c=0;c<p.graphs.length;c++)d=p.graphs[c],f=d.lineColor,a(".legend [data-marketplaceID="+d.valueField+"] .colorCircle").css("background-color",f);p.write("kpiSalesChart");c=k().selectedMarketplaces;
for(d=0;d<p.graphs.length;d++)-1===c.indexOf(p.graphs[d].id)&&p.hideGraph(p.graphs[d]);n()})});H.when("A","jQuery","kpi-util","ready").execute("estimatedLostSalesSummaryScripts",function(e,a,b){e.on("a:dropdown:selected:kpi-estimated-lost-sales-currency-dropdown",function(c){var d=a("#kpiEstimatedLostSalesPopover"),f=a("#kpiEstimatedLostSalesData"),g=a("#kpiEstimatedLostSalesSpinner");c=c.value;var h;h=e.state("kpi-estimated-lost-sales-page-state").kpiRequest;h.commonGlobalDataAttributes.currencyCode=
c;b.callControllerFunctionWithAjax(h,g,f,d);e.state.replace("kpi-estimated-lost-sales-page-state",{kpiRequest:h})})});H.when("accounting").register("currencyFormatter",function(){return{formatChartDataProvider:function(e){var a={formattedSales:{}};e.forEach(function(b,c){a.formattedSales[c]={};Object.keys(b).forEach(function(d){if(/:Formatted/.test(d)){var e=d.split(":",1);a.formattedSales[c][e]=b[d];delete b[d]}})});a.chartData=e;return a}}});H.register("accounting",function(){function e(a){return h?
h(a):"[object Array]"===k.call(a)}function a(a,b){var c;a=a||{};b=b||{};for(c in b)b.hasOwnProperty(c)&&null==a[c]&&(a[c]=b[c]);return a}function b(a,b,c){var d=[],e,f;if(!a)return d;if(g&&a.map===g)return a.map(b,c);e=0;for(f=a.length;e<f;e++)d[e]=b.call(c,a[e],e,a);return d}function c(a,b){a=Math.round(Math.abs(a));return isNaN(a)?b:a}function d(a){var b=f.settings.currency.format;"function"===typeof a&&(a=a());return(""===a||a&&a.charCodeAt&&a.substr)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v",
"-%v"),zero:a}:a&&a.pos&&a.pos.match("%v")?a:""===b||b&&b.charCodeAt&&b.substr?f.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:b}var f={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},g=Array.prototype.map,h=Array.isArray,k=Object.prototype.toString,l=f.unformat=f.parse=function(a,c){if(e(a))return b(a,function(a){return l(a,c)});a=a||0;if("number"===typeof a)return a;
c=c||".";var d=new RegExp("[^0-9-"+c+"]",["g"]),d=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(d,"").replace(c,"."));return isNaN(d)?0:d},m=f.toFixed=function(a,b){b=c(b,f.settings.number.precision);var d=Math.pow(10,b);return(Math.round(f.unformat(a)*d)/d).toFixed(b)},n=f.formatNumber=function(d,g,h,p){if(e(d))return b(d,function(a){return n(a,g,h,p)});d=l(d);var y=a("[object Object]"===k.call(g)?g:{precision:g,thousand:h,decimal:p},f.settings.number),x=c(y.precision),w=0>d?"-":"",v=parseInt(m(Math.abs(d||
0),x),10)+"",z=3<v.length?v.length%3:0;return w+(z?v.substr(0,z)+y.thousand:"")+v.substr(z).replace(/(\d{3})(?=\d)/g,"$1"+y.thousand)+(x?y.decimal+m(Math.abs(d),x).split(".")[1]:"")},p=f.formatMoney=function(g,h,m,u,y,x){if(e(g))return b(g,function(a){return p(a,h,m,u,y,x)});g=l(g);var w=a("[object Object]"===k.call(h)?h:{symbol:h,precision:m,thousand:u,decimal:y,format:x},f.settings.currency),v=d(w.format);return(0<g?v.pos:0>g?v.neg:v.zero).replace("%s",w.symbol).replace("%v",n(Math.abs(g),c(w.precision),
w.thousand,w.decimal))};return f});H.when("A","jQuery","sc-metrics-api").register("kpiMetricsHelper",function(e,a,b){var c=function(a,c,e){b.recordEvent({context:a,subcontext:c,action:e})};return{recordRawEvent:function(a,b,e){c(a,b,e)},recordKpiClick:function(a,b,e){2===e?c(a,b,"linkMiddleClicked"):3===e?c(a,b,"linkRightClicked"):c(a,b,"linkClicked")},kpiOrdersRendered:function(){c("kpiOrders","initialization","widgetRendered")},kpiBSMRendered:function(){c("kpiBsm","initialization",
"widgetRendered")},kpiSalesRendered:function(){c("kpiSales","initialization","widgetRendered")},kpiAccountHealthRendered:function(){c("kpiAccountHealth","initialization","widgetRendered")},kpiEstimatedLostSalesRendered:function(){c("kpiEstimatedLostSales","initialization","widgetRendered")},kpiMarketplaceSwitcherRendered:function(){c("kpiMarketplaceSwitcher","initialization","widgetRendered")},kpiInfoRendered:function(){c("kpiInfo","initialization","widgetRendered")}}});H.when("A","jQuery",
"kpiMetricsHelper","scgateway-salesSummary","ready").register("salesKpiMetrics",function(e,a,b){e.on("a:popover:show:kpiSalesSummary",function(a){b.recordRawEvent("kpiSales","detailView","open")});e.on("a:popover:hide:kpiSalesSummary",function(a){b.recordRawEvent("kpiSales","detailView","close")});e.declarative("kpi-select-all-marketplaces-checkbox-clicked","click",function(a){b.recordRawEvent("kpiSales","detailView","selectAllCheckboxClicked")});e.declarative("kpi-one-marketplaces-checkbox-clicked",
"click",function(a){b.recordRawEvent("kpiSales","detailView","marketplaceCheckboxClicked")});e.on("a:dropdown:selected:kpi-sales-currency-dropdown",function(a){b.recordRawEvent("kpiSales","currencyDropdown","selected")});e.declarative("kpi-sales-date-range-1day","mouseup",function(a){b.recordKpiClick("kpiSales","dateRange1day",1)});e.declarative("kpi-sales-date-range-7days","mouseup",function(a){b.recordKpiClick("kpiSales","dateRange7days",1)});e.declarative("kpi-sales-date-range-15days","mouseup",
function(a){b.recordKpiClick("kpiSales","dateRange15days",1)});e.declarative("kpi-sales-date-range-30days","mouseup",function(a){b.recordKpiClick("kpiSales","dateRange30days",1)});e.declarative("kpi-sales-click","mouseup",function(a){b.recordKpiClick("kpiSales","salesClick",a.$event.which)});b.kpiSalesRendered()});H.when("A","jQuery","kpiMetricsHelper","scgateway-bsmSummary","ready").register("bsmKpiMetrics",function(e,a,b){e.on("a:popover:show:kpiBuyerSellerMessaging",function(a){b.recordRawEvent("kpiBsm",
"detailView","open")});e.on("a:popover:hide:kpiBuyerSellerMessaging",function(a){b.recordRawEvent("kpiBsm","detailView","close")});e.declarative("kpi-bsm-messages-over24","mouseup",function(a){b.recordKpiClick("kpiBsm","messagesOver24",a.$event.which)});e.declarative("kpi-bsm-messages-under24","mouseup",function(a){b.recordKpiClick("kpiBsm","messagesUnder24",a.$event.which)});b.kpiBSMRendered()});H.when("A","jQuery","kpiMetricsHelper","scgateway-ordersSummary","ready").register("kpiOrdersMetrics",
function(e,a,b){e.on("a:popover:show:kpiOrders",function(a){b.recordRawEvent("kpiOrders","detailView","open")});e.on("a:popover:hide:kpiOrders",function(a){b.recordRawEvent("kpiOrders","detailView","close")});e.declarative("kpi-orders-pending","mouseup",function(a){b.recordKpiClick("kpiOrders","pending",a.$event.which)});e.declarative("kpi-orders-unshipped","mouseup",function(a){b.recordKpiClick("kpiOrders","unshipped",a.$event.which)});e.declarative("kpi-orders-pending-fba","mouseup",function(a){b.recordKpiClick("kpiOrders",
"pendingFBA",a.$event.which)});e.declarative("kpi-orders-pending-total","mouseup",function(a){b.recordKpiClick("kpiOrders","pendingTotal",a.$event.which)});e.declarative("kpi-orders-unshipped-total","mouseup",function(a){b.recordKpiClick("kpiOrders","unshippedTotal",a.$event.which)});e.declarative("kpi-orders-pending-fba-total","mouseup",function(a){b.recordKpiClick("kpiOrders","pendingFBATotal",a.$event.which)});b.kpiOrdersRendered()});H.when("A","jQuery","kpiMetricsHelper","scgateway-estimatedLostSalesSummary",
"ready").register("estimatedLostSalesKpiMetrics",function(e,a,b){e.declarative("kpi-estimated-lost-sales","mouseup",function(a){b.recordKpiClick("kpiEstimatedLostSales","estimatedLostSales",a.$event.which)});e.on("a:popover:show:kpiEstimatedLostSales",function(a){b.recordRawEvent("kpiEstimatedLostSales","detailView","open")});e.on("a:popover:hide:kpiEstimatedLostSales",function(a){b.recordRawEvent("kpiEstimatedLostSales","detailView","close")});e.on("a:dropdown:selected:kpi-estimated-lost-sales-currency-dropdown",
function(a){b.recordRawEvent("kpiEstimatedLostSales","currencyDropdown","selected")});b.kpiEstimatedLostSalesRendered()});H.when("A","jQuery","kpiMetricsHelper","scgateway-accountHealthSummary","ready").register("accountHealthKpiMetrics",function(e,a,b){e.declarative("kpi-account-health-risk","mouseup",function(a){1===a.data.numberOfMarketplace&&b.recordKpiClick("kpiAccountHealth","accountHealthRisk",a.$event.which)});e.declarative("kpi-account-health-suspended","mouseup",function(a){1===
a.data.numberOfMarketplace&&b.recordKpiClick("kpiAccountHealth","accountHealthSuspended",a.$event.which)});e.declarative("kpi-account-health","mouseup",function(a){"AT_RISK"===a.data.regionalAccountHealthStatus&&b.recordKpiClick("kpiAccountHealth","accountHealthRisk",a.$event.which);"SUSPENDED"===a.data.regionalAccountHealthStatus&&b.recordKpiClick("kpiAccountHealth","accountHealthSuspended",a.$event.which)});e.on("a:popover:show:kpiAccountHealth",function(a){b.recordRawEvent("kpiAccountHealth","detailView",
"open")});e.on("a:popover:hide:kpiAccountHealth",function(a){b.recordRawEvent("kpiAccountHealth","detailView","close")});b.kpiAccountHealthRendered()});H.when("A","jQuery","kpiMetricsHelper","scgateway-kpiInfoSummary","ready").register("kpiInfoMetrics",function(e,a,b){e.declarative("kpi-info-learn-more","mouseup",function(a){b.recordKpiClick("kpiInfo","learnMore",a.$event.which)});b.kpiInfoRendered()});H.when("A","jQuery").execute("spectrumKpisScripts",function(e,a){var b={},c=function(){a(".kpiFlexItem").each(function(a,
c){var d=document.querySelector(c.id);d&&"true"===d.dataset.ajaxInKpi&&(b[d.dataset.kpiName]=c.id)});var c=Object.keys(b),e="",g=document.querySelector("kpiAssetUrls");if(null!==c&&""!==c.innerHTML){e=z.KPISpectrum?z.KPISpectrum.customerContext:document.querySelector("kpi-customer-contexts");if(!e||!g)return;e=e.nodeName?e.dataset.merchants:e;z.KPISpectrum={customerContext:e}}e=c.join(",")+"&customerContexts="+e;0<c.length&&(a.get("/kpi/spectrum/data?kpis="+e,function(e){e=a("<div/>").html(e);for(var f=
0;f<c.length;f++){var l=c[f],m=a(".kpiFlexItem#"+b[l]),n=e.find(".kpi-bar #"+l),l=e.find(".kpi-bar div.drawer."+l);m.replaceWith(n);a(".kpi-bar").append(l)}H.load.js(g.dataset.flowAssetJs)}),H.load.css(g.dataset.kpiAssetCss),H.load.js(g.dataset.kpiAssetAmchartJs),H.load.js(g.dataset.kpiAssetJs))};(function(){var a=setInterval(function(){var b=document.querySelector("kpi-customer-contexts"),e=document.querySelector(".kpiFlexItem");b&&e&&(clearInterval(a),c())},50)})()})});
/* ******** */
(function(h){var f=window.AmazonUIPageJS||window.P,k=f._namespace||f.attributeErrors,g=k?k("SCSCDragNDrop"):f;g.guardFatal?g.guardFatal(h)(g,window):g.execute(function(){h(g,window)})})(function(h,f,k){h.when("A").register("sc-drag-and-drop",function(g){return function(h){var a=this,c=g.$;a.destroy=function(){if(!a.isSupported)return null;a.$dragEls.attr("draggable",!1);a.$dragEls.removeClass("sc-dragndrop-el");a.$dragEls.find(a.o.handle).removeClass("sc-dragndrop-handle").removeClass("sc-dragndrop-handle-mask");
var b=c("a.sc-dragndrop-handle-mask");b.length&&b.remove();c(".sc-dragndrop-placeholder").remove();c(".sc-dragndrop-placeholder-last-mask").remove();c(".sc-dragndrop-empty-zone-el").remove();a.$dragEls.unbind("mousedown",a._mouseDown);a.$dragEls.unbind("dragstart",a._start);a.$dropEls.unbind("dragenter",a._enter);a.$dropEls.unbind("dragleave",a._leave);a.$dropEls.unbind("dragover",a._over);a.$dropEls.unbind("drop",a._drop);a.enabled=!1;return null};a.enable=function(){a._constructDragSelectors();
a._bindEvents();a._buildHandles();a._updateAllPlaceholders();a.enabled=!0};a._mouseDown=function(b){a.$handleTarget=c(b.target).is(".sc-dragndrop-handle-mask")?c(b.target):!1;a.$handleTarget||a.$dragEls.attr("draggable",!1)};a._start=function(b){a.$handleTarget?(b.originalEvent&&b.originalEvent.dataTransfer&&b.originalEvent.dataTransfer.setData&&b.originalEvent.dataTransfer.setData("text",""),c(".sc-dragndrop-placeholder-last-mask").css("display","block"),a.dragEnter=0,a.$dragEl=a._getWidgetEl(b.target)):
b.preventDefault()};a._enter=function(b){var d,e;b.preventDefault();a.dragEnter++;if(d=a._getWidgetEl(b.target))if(d[0]===a.$dragEl[0])a._hideAllPlaceholders();else if(e=d.data("dragId"),(b=c(b.target).hasClass("sc-dragndrop-placeholder-last-mask"))||d.data("dropId")!==a.$dragEl.data("dropId")||a.$dragEl.data("dragId")!==d.data("ignoreDragId"))d=b?c(".sc-dragndrop-placeholder-after-"+e):c(".sc-dragndrop-placeholder-"+e),d.is(":visible")||a._showPlaceholder(d)};a._leave=function(b){b.preventDefault();
a.dragEnter--;0===a.dragEnter&&(clearTimeout(a._leaveTimeout),a._hideAllPlaceholders())};a._setLeaveTimeout=function(){a._leaveTimeout&&clearTimeout(a._leaveTimeout);a._leaveTimeout=setTimeout(function(){a._hideAllPlaceholders()},200)};a._over=function(b){b.preventDefault();a._setLeaveTimeout();return!1};a._drop=function(b){b.preventDefault();if(!c(".sc-dragndrop-placeholder").is(":visible"))return!1;c(".sc-dragndrop-current-placeholder").replaceWith(a.$dragEl);a._handleEmptyDropZone();a.$dragEl=
null;a._updateAllPlaceholders();a.o.dropCallback(a.$dragEl)};a._showPlaceholder=function(b){a._hideAllPlaceholders();b.addClass("sc-dragndrop-current-placeholder").css("width",a.$dragEl.outerWidth()+"px").css("height",a.$dragEl.outerHeight()+"px").css("display","block");a._forceRepaint()};a._getAllPlaceholders=function(){return c(".sc-dragndrop-placeholder")};a._hideAllPlaceholders=function(){c(".sc-dragndrop-current-placeholder").removeClass("sc-dragndrop-current-placeholder");a._getAllPlaceholders().css("display",
"none").removeClass("sc-dragndrop-current-placeholder");a._forceRepaint()};a._forceRepaint=function(){c("html").hasClass("a-ie9")&&(f.scrollTo(0,(document.documentElement.scrollTop||document.body.scrollTop)+1),f.scrollTo(0,(document.documentElement.scrollTop||document.body.scrollTop)-1))};a._updateAllPlaceholders=function(){var b,d,e;a.$dragEls=c(".sc-dragndrop-el");c(".sc-dragndrop-placeholder").remove();c(".sc-dragndrop-placeholder-last-mask").remove();b=0;a.$dropEls.each(function(f){d=c(this);
e=d.find(".sc-dragndrop-el");e.each(function(d){var e=c(this);a._insertSinglePlaceholder(e,b);b++;e.data("dropId",f);d&&e.data("ignoreDragId",e.data("dragId")-1)});d.find(".sc-dragndrop-empty-zone-el").length||a._insertSinglePlaceholder(d.find(".sc-dragndrop-el").last(),e.last().data("dragId"),!0)});c(".sc-dragndrop-placeholder-last-mask").css("display","none")};a._insertSinglePlaceholder=function(a,d,e){var f;f=c("<span>").addClass("sc-dragndrop-placeholder").css("display","none");a.data("dragId",
d);e?(e=c("<span>").addClass("sc-dragndrop-placeholder-last-mask").css("height",a.outerHeight()/2).css("width",a.outerWidth()),a.append(e),f.addClass("sc-dragndrop-placeholder-after-"+d),f.insertAfter(a)):(f.addClass("sc-dragndrop-placeholder-"+d),f.insertBefore(a))};a._buildHandles=function(b){a.$dragEls.each(function(a){var b;a=c(this);c("html").hasClass("a-ie9")?(b=c("<a>").attr("href","#").addClass("sc-dragndrop-handle-mask").html(a.find(".sc-dragndrop-handle").text()),a.find(".sc-dragndrop-handle").append(b)):
a.find(".sc-dragndrop-handle").addClass("sc-dragndrop-handle-mask")})};a._getWidgetEl=function(a){a=c(a).hasClass("sc-dragndrop-el")?c(a):c(a).parents(".sc-dragndrop-el").first();return a.hasClass("sc-dragndrop-el")?a:!1};a._constructDragSelectors=function(){var b=[];g.each(a.o.drop,function(c,e){b[e]=a.o.drop[e]+" "+a.o.drag});a.dragSel=b.join(", ");a.dropSel=a.o.drop.join(", ")};a._handleEmptyDropZone=function(){var b;a.$dropEls.each(function(d,e){b=c(e);c(e).find(a.o.drag).length?b.find(a.$emptyZonePlaceholderEl).remove():
c("<span>").addClass("sc-dragndrop-empty-zone-el sc-dragndrop-el").appendTo(b)})};a._bindEvents=function(){a.$dragEls=c(a.dragSel);a.$dragEls.addClass("sc-dragndrop-el");a.$dragEls.find(a.o.handle).addClass("sc-dragndrop-handle");a.$dragEls.live("mousedown",a._mouseDown);a.$dragEls.live("dragstart",a._start);a.$dropEls=c(a.dropSel);a.$dropEls.addClass("sc-dragndrop-zone-el");a.$dropEls.live("dragenter",a._enter);a.$dropEls.live("dragleave",a._leave);a.$dropEls.live("dragover",a._over);a.$dropEls.live("drop",
a._drop);a.$dragEls.find(a.o.handle).live("mouseenter",function(){f.getSelection?f.getSelection().empty?f.getSelection().empty():f.getSelection().removeAllRanges&&f.getSelection().removeAllRanges():document.selection&&document.selection.empty();a.$dragEls.attr("draggable",!0)})};(function(b){var d;d=g.capabilities.dragDrop&&!c("html").hasClass(".a-lt-ie9")?!0:!1;d?(a.isSupported=!0,a.o=b,a.enable()):a.isSupported=!1})(h)}})});
/* ******** */
(function(e){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("B2BGatewayWidgetAssets"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,h){var b="BusinessProfile";e.when("A","jQuery","sc-metrics-api","dashiell-widget-fVaH3z-jsp-rendered").execute("myWidgetMetrics",function(e,a,k){e.declarative("switch-content-action","click",function(f){if(b!==f.data.section){var c=document.getElementById(b+"LeftPaneItemText");c.removeAttribute("class");
c.classList.add("a-size-base");c.classList.add("b2b-widget-leftPane-normal");c=document.getElementById(f.data.section+"LeftPaneItemText");c.removeAttribute("class");c.classList.add("a-size-base");c.classList.add("a-text-bold");c.classList.add("b2b-widget-leftPane-highlighted");for(var a=document.getElementsByClassName("rightPaneElem"),c=0;c<a.length;c++)a[c].style.display="none";a=document.getElementsByClassName(f.data.section);for(c=0;c<a.length;c++)a[c].style.display="block";b=f.data.section}});
var d=function(a,c,d){k.recordEvent({context:a,subcontext:c,action:d})};d("fVaH3z","initialization","widgetRendered");a("#widget-fVaH3z").delegate("#sellerProfile","mousedown touchstart",function(a){d("fVaH3z","sellerProfile","click")});a("#widget-fVaH3z").delegate("#managePricing","mousedown touchstart",function(a){d("fVaH3z","managePricing","click")});a("#widget-fVaH3z").delegate("#enhancedContent","mousedown touchstart",function(a){d("fVaH3z","enhancedContent","click")});a("#widget-fVaH3z").delegate("#credentials",
"mousedown touchstart",function(a){d("fVaH3z","credentials","click")})});var l={"pricing.info":"pricingPopover","profile.info":"profilePopover","credential.info":"credentialPopover","ec.info":"ecPopover"};e.when("jQuery","a-popover","ready").register("popover-generator",function(b,a){return{createPopovers:function(){b.each(l,function(b,d){var f=document.getElementById(b);null===a.get(f)&&a.create(f,{name:d,width:350,position:"triggerBottom",dataStrategy:"preload"})})}}});e.when("A","jQuery",
"a-carousel-framework","ready").execute("",function(b,a,e){var d;b.on("resize",function(){clearTimeout(d);d=b.delay(f,1E3,e)});var f=function(c){var b=a("#b2b-gateway-widget").find(".a-carousel-container");a.each(b,function(a,b){var d=c.getCarousel(b);d&&(d.measure(),d.updateDimensionsCache(d.getDimensions()))})}})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,a=e?e("SellerPaymentsWidgetUI"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,e){b.when("A").register("payments-account-generic-scripts",function(a){var d=a.$;a={updateRupeeSymbols:function(){d("#seller-payments-widget .currency.INR").each(function(){var a=d(this).html(),a=a.replace("₹","<span class='symbol'>&nbsp;</span>");d(this).html(a);d(this).parent("a").css("text-decoration",
"none")})}};a.updateRupeeSymbols();c.PaymentsAccountGenericScripts=a;return c.PaymentsAccountGenericScripts});b.when("A","jQuery","sc-metrics-api","dashiell-widget-fxZAQm-jsp-rendered","ready").register("seller-payments-metrics",function(a,d,c){d("#widget-fxZAQm .myp-linked-content").each(function(b,e){var g=d(this).attr("data-myp-metric"),f="myp-linked-content-action-"+b;a.declarative.create(e,f);a.declarative(f,"mousedown",function(a){a=a.$event;if("mousedown"===a.type){var b={context:"fxZAQm",
subcontext:g,action:"unknown"};switch(a.which){case 1:b.action="linkClicked";break;case 2:b.action="linkMiddleClicked";break;case 3:b.action="linkRightClicked"}c.recordEvent(b)}})});c.recordEvent({context:"fxZAQm",subcontext:"initialization",action:"widgetRendered"})})});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,n=f._namespace||f.attributeErrors,e=n?n("GettingStartedOlympusWidgetUI"):f;e.guardFatal?e.guardFatal(g)(e,window):e.execute(function(){g(e,window)})})(function(g,f,n){var e=function(){var a=null,b=null,h=null,f=null,p=function(){for(var b=$(".archmediesTask"),a=[],l=b.length-1;0<=l;l--){var h=new c($(b[l]));h.setOpenVideoCallback(function(b){e(b)});a.push(h)}return h},e=function(c){b.open({videoURL:c.getVideoURL(),CTAURL:c.getCTAURL(),CTAText:c.getCTAText()},
function(){if(!c.isTaskAlreadyCompleted()){c.setTaskCompleted();a.incrementTaskCompleted();null!=h&&h.update();var b=c.getCompletionPrompt();f.empty();f.append(b);b.show()}})};return{initilize:function(){f=$("#archimedesTopPanel");a=new d($("#progressBackground"));b=new k($("#archimedesVideoPlayer"));$("#profile-strength")[0]&&(h=new m($("#profile-strength"),$("#arch-profileText")));p()}}},d=function(a){this.progressBar=a;this.progressDiv=this.progressBar.find(".progressFill")[0];this.progressText=
$(this.progressBar.find(".progressText")[0]);this.textTemplate=this.progressBar.data("inprogress");this.completionText=this.progressBar.data("completed");this.initialText=this.progressBar.data("start");this.totalTask=this.progressBar.data("totaltasks");this.numCompletedTask=this.progressBar.data("completedtasks");this.percentage=0;this.updatePercentage();this.updateText()};d.prototype.incrementTaskCompleted=function(){this.setNumTaskCompleted(this.numCompletedTask+1)};d.prototype.setNumTaskCompleted=
function(a){this.numCompletedTask=a;this.updateText();this.updatePercentage()};d.prototype.getFormatedText=function(a){a=a.replace("[total]",this.totalTask);a=a.replace("[completed]",this.numCompletedTask);return a=a.replace("[remaining]",this.totalTask-this.numCompletedTask)};d.prototype.updateTextStyle=function(a){this.progressText.hasClass(a)||this.progressText.addClass(a)};d.prototype.updateText=function(){0==this.numCompletedTask?this.progressText.text(this.getFormatedText(this.initialText)):
(this.numCompletedTask==this.totalTask?this.progressText.text(this.getFormatedText(this.completionText)):this.progressText.text(this.getFormatedText(this.textTemplate)),this.updateTextStyle("progressStarted"))};d.prototype.updatePercentage=function(){var a=this.numCompletedTask/this.totalTask*100;this.animate(this.percentage,a);this.percentage=a};d.prototype.animate=function(a,b){var c=this,f=Math.abs(a-b),e=1/Math.max(f,1),d=function(){1<e?c.progressDiv.style.width=""+b+"%":(c.progressDiv.style.width=
""+(a+(b-a)*e)+"%",e+=.1,setTimeout(d,30))};d()};var c=function(a){this.videoSelect=this.taskPanel=a;this.actionButton=$(a.find(".actionButton")[0]);this.completionPrompt=$(a.find(".completionPrompt")[0]);this.ctaURL=this.taskPanel.data("clickurl");this.ctaText=this.taskPanel.data("clicktext");this.videoURL=this.taskPanel.data("videourl");this.openVideoCallback=function(){};this.openCTACallback=function(){};this.setup()};c.prototype.setup=function(){var a=this;this.videoSelect.context.onclick=function(b){b.stopPropagation();
a.onVideoclick()};this.videoSelect.keyup(function(b){13==b.keyCode&&(b.stopPropagation(),a.onVideoclick())});this.actionButton.context.onclick=function(b){b.stopPropagation();a.onCTAClick()}};c.prototype.setOpenVideoCallback=function(a){this.openVideoCallback=a};c.prototype.setOpenCTACallback=function(a){this.openCTACallback=a};c.prototype.onVideoclick=function(){this.openVideoCallback(this)};c.prototype.onCTAClick=function(){this.openCTACallback(this)};c.prototype.setTaskCompleted=function(){this.taskPanel.removeClass("taskInprogress").addClass("taskCompleted")};
c.prototype.getCTAURL=function(){return this.ctaURL};c.prototype.getCTAText=function(){return this.ctaText};c.prototype.getVideoURL=function(){return this.videoURL};c.prototype.getCompletionPrompt=function(){return this.completionPrompt};c.prototype.isTaskAlreadyCompleted=function(){return this.taskPanel.hasClass("taskCompleted")};var k=function(a){this.videoPanel=a;this.videoPlayer=a.find(".player")[0];this.ctaButton=a.find(".videoButton")[0];this.archimedesLoader=$("#archimedesloader");this.isVideoCompleted=
!1;this.onCompletionCallback=this.ctaURL=null;a=a.find(".closeButton")[0];var b=this;this.ctaButton.onclick=function(){b.onCTAClick()};a.onclick=function(){b.close()};this.addEventLister()};k.prototype.close=function(){this.unloadVideo();this.videoPanel.hide();this.archimedesLoader.hide();if(null!=this.onCompletionCallback){if(this.isVideoCompleted)this.onCompletionCallback();this.onCompletionCallback=null}this.isVideoCompleted=!1};k.prototype.unloadVideo=function(a){this.videoPanel.hide();this.videoPlayer.src=
"";this.videoPlayer.onload=function(){}};k.prototype.loadVideo=function(a){var b=this;this.archimedesLoader.show();this.videoPlayer.onload=function(){b.archimedesLoader.hide();b.videoPanel.show()};this.videoPlayer.src=a};k.prototype.open=function(a,b){this.loadVideo(a.videoURL);this.ctaButton.innerText=a.CTAText;this.ctaURL=a.CTAURL;this.onCompletionCallback=b};k.prototype.onCTAClick=function(){f.location=this.ctaURL;this.videoPanel.hide();this.archimedesLoader.show()};k.prototype.onVideoEvent=function(a){this.isVideoCompleted=
a.origin==="https://"+f.location.hostname&&"VIDEO_COMPLETED"===a.data.type};k.prototype.addEventLister=function(){var a=this,b=function(b){a.onVideoEvent(b)};f.addEventListener?f.addEventListener("message",b,!1):f.attachEvent("onmessage",b);$(document).keyup(function(b){27==b.keyCode&&a.close()})};var m=function(a,b){this.profileText=b;this.profileValue=a.find(".profileValue")[0];this.textTemplate=a.data("template");this.dataUrl=a.data("dataurl");var c=a.data("currentpercentile");this.updateProfileText(c)};
m.prototype.update=function(){var a=this;$.get(this.dataUrl,function(b){a.updateProfileText(b.percentile)})};m.prototype.updateProfileText=function(a){var b=this.textTemplate.replace("[sellerPercentile]",a);this.profileText.text(b);this.profileValue.innerText=""+a+"%"};g.load.js("https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/test/2.0.1175.0/js/airy.skin.js");g.load.css("https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/test/2.0.1175.0/css/beacon.css");g.when("A",
"jQuery","ready","sg-widget").execute("load-gs-widget",function(a,b){function c(){b(".gs-widget").each(function(a,c){var l=b(c).attr("data-widget-uri");l&&l.length&&b.get(l,function(a){b(c).html(a)}).done(function(){m("LN_GS_VU_")})});0<b(".help-overlay-background").length&&b(".help-overlay-background").remove();0<b(".help-overlay").length&&b(".help-overlay").remove();var a=b("#swipe-widget-content").attr("data-url");a&&b.get(a,function(a){b("#swipe-widget-content").html(a)}).done(function(){m("LN_SWIPE_VU_");
n()});var a=b("#archimedes-widget-content").attr("data-url"),d=b("#hygiene-tasks-widget-content").attr("data-url");a&&d&&b.when(b.get(a,"html"),b.get(d,"html")).then(function(a,c){b("#archimedes-widget-content").html(a[0]);b("#hygiene-tasks-widget-content").html(c[0]);b("#archimedes-hygiene-tasks-spinner").remove()}).done(function(){f.$=b;e().initilize()})}var d=function(a){a.play();b("#video-ungating-popover-start-conditional-text").hide()},k=function(a){b("#video-ungating-popover-container .airy").remove();
b("#video-ungating-popover-completed-content").hide();b("#video-ungating-popover-default-content").show();b("#video-ungating-popover-failed-content").hide();b("#video-ungating-popover-start-conditional-text").show();b("#video-ungating-popover-heading").html(a);b("#video-ungating-popover-category-name").html(a);b("#video-ungating-completed-popover-category-name").html(a)},g=function(){if(0!==b(".help-overlay").length){var a=b(".help-overlay")[0];a.style.setProperty("left","-"+(a.offsetWidth+12)+"px")}},
n=function(){if(0!==b(".help-overlay").length){g();var c=document.createElement("div");c.setAttribute("class","help-overlay-background");c.setAttribute("id","help-overlay-background");var d=document.getElementsByTagName("body")[0];d.insertBefore(c,d.firstChild);a.on.resize(function(){g()})}else b("#widget-fwCaKG").css("z-index","auto");b(".help-overlay-background, .help-overlay-button, .help-overlay-close").click(function(a){a.preventDefault();b(".help-overlay-background").remove();b(".help-overlay").remove();
b("#widget-fwCaKG").css("z-index","auto")})},m=function(c){b(".ungating-popover-link").click(function(){var a=b(this).attr("data-video-url"),f=b(this).attr("data-category-name"),e=b(this).attr("data-category-label"),g=!1;k(f);b.get("/hz/info?ref_="+c+e);var h=Airy.embed({parentId:"video-ungating-popover-container",isAutoplayEnabled:!1,shouldPlayHintStartHidden:!0,mediaSourceInfo:a,desiredMode:"html",swfUrl:"https://images-na.ssl-images-amazon.com/images/G/01/vap/video/airy2/test/2.0.1175.0/flash/AiryBasicRenderer.swf",
bindings:{play:function(a,d){b.get("/hz/info?ref_="+c+e+"_S")},videoComplete:function(a,d){b.get("/hz/info?ref_="+c+e+"_C");1==g?b("#video-ungating-popover-completed-content").show():b("#video-ungating-popover-failed-content").show()}}});h.addCuePoint({callback:function(a,c,d){b.post("/home/get-started/apply-category",{categoryName:e}).done(function(a){g=a})},type:"percent",values:[90]});b("#video-ungating-overlay-start-listing-button").click(function(){b.get("/hz/info?ref_="+c+e+"_list")});setTimeout(function(){b(".video-ungating-overlay-start").fadeOut("slow");
d(h)},5E3);b(".video-ungating-overlay-close").click(function(){var a=b(this).parents(".video-ungating-overlay");b(a).hide();b(a).hasClass("video-ungating-overlay-start")&&d(h)})});a.on("a:popover:afterHide:UngatingModalDialog",function(a){location.reload()})};c();a.on("sc-gateway:widgetRefreshComplete",function(a){"fAKO7Q"!==a.valueOf().widgetId&&"fwCaKG"!==a.valueOf().widgetId||c()})})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("GuildOlympusWidgetAssets"):g;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,g,h){f.when("A","jQuery","ready").execute("guild:widget:view-switcher",function(b,c){function d(b){b?a.removeClass("a-hidden"):a.addClass("a-hidden")}function e(a){a?k.removeClass("a-hidden"):k.addClass("a-hidden")}var a=c("#marketplaceView"),k=c("#primaryView");b.declarative("guild:widget:marketplace-view",
"click",function(a){e(!1);d(!0)});b.declarative("guild:widget:primary-view","click",function(a){d(!1);e(!0)})});f.when("A","jQuery","guild:widget:metrics:helper","guild:widget:rendered","ready").register("guild:widget:metrics:setup",function(b,c,d){c.each("siorLink siorLinkEvergreen artisanProfileEvergreen viewProductEvergreen addProductEvergreen styleGuideView2 artisanProfileView2 addProductView2 styleGuideView1 artisanProfileView1 addProductView1 gettingStartedEvergreenFooter styleGuideEvergreenFooter".split(" "),
function(a,b){c("#"+b).bind("mouseup",function(a){d.recordGuildClick(b,a.which)})});c("#learnMoreFooter").delegate("a","mouseup",function(a){d.recordGuildClick("learnMoreFooter",a.which)});b.declarative("guild:widget:marketplace-view","mouseup",function(a){d.recordGuildClick("marketplaceViewLink",a.which)});b.declarative("guild:widget:primary-view","mouseup",function(a){d.recordGuildClick("primaryViewLink",a.which)});var e=c("#isUnifiedMarketplace").attr("value");b=b.state("marketplaceMap");e&&b&&
c.each(b,function(a,b){var e=a+"-listings";c("#"+e).bind("mouseup",function(a){d.recordGuildClick(e,a.which)});var f=a+"-profile";c("#"+f).bind("mouseup",function(a){d.recordGuildClick(f,a.which)});var g=a+"-listings-init";c("#"+g).bind("mouseup",function(a){d.recordGuildClick(g,a.which)});var h=a+"-profile-init";c("#"+h).bind("mouseup",function(a){d.recordGuildClick(h,a.which)})});d.guildWidgetRendered()});f.when("A","jQuery","sc-metrics-api").register("guild:widget:metrics:helper",
function(b,c,d){var e=function(a,b,c){d.recordEvent({context:a,subcontext:b,action:c})};return{recordGuildClick:function(a,b){2!==b?e("fGU6S8",a,"linkClicked"):e("fGU6S8",a,"linkMiddleClicked")},guildWidgetRendered:function(){e("fGU6S8","initialization","widgetRendered")}}})});
/* ******** */
(function(t){var r=window.AmazonUIPageJS||window.P,z=r._namespace||r.attributeErrors,b=z?z("UnifiedSellingCoachWidgetUI"):r;b.guardFatal?b.guardFatal(t)(b,window):b.execute(function(){t(b,window)})})(function(t,r,z){t.when().register("uscw-tab-rotation",function(){return{shouldCycleTabs:function(){return!0},shouldRotatePermanently:function(){return!1},cycleTime:function(){return 5E3}}});t.when("jQuery","a-carousel-framework","sc-metrics-api","weblabDetection").register("uscw-utils",function(b,a,l,
m){function f(a,c,d,b,e){"undefined"===typeof a&&(a=0);if("undefined"===typeof c)throw"Could not format number: Please indicate the number of decimal places";if("undefined"===typeof d)throw"Could not format number: Please indicate the currency symbol, or pass an empty string";if("undefined"===typeof b)throw"Could not format number: Please indicate the thousands delimiter";if("undefined"===typeof e)throw"Could not format number: Please indicate the decimal delimiter";var k=0>a?"-":"",n=parseInt(a=
Math.abs(+a||0).toFixed(c),10)+"",f=3<(f=n.length)?f%3:0;return d+k+(f?n.substr(0,f)+b:"")+n.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+b)+(c?e+Math.abs(a-n).toFixed(c).slice(2):"")}function h(a){var c=b("#decimalSeparator").attr("data-decimal-separator");a=a.replace(/\s/g,"");return","===c?(a=a.replace(/[^0-9\,]+/g,""),a=a.replace(",","."),parseFloat(a)):parseFloat(a.replace(x,""))}function g(a){b.ajax(a).done(function(a){}).fail(function(c,d,b){n(c,a.tryCount,a.retryLimit)?(a.tryCount++,a.timeout*=
2,g(a)):(r.console&&console.log("USCW.attribution.failed: "+d+": "+b),c="Attribution failed. Request -> "+JSON.stringify(a)+". Data -> "+JSON.stringify(c)+". textStatus -> "+d+". Error -> "+b,e(c,b))})}function e(a,c){var d={logLevel:"FATAL",attribution:"UnifiedSellingCoachWidget2",message:a};if(r.ueLogError)try{r.ueLogError(c,d)}catch(b){d={logLevel:"FATAL",attribution:"UnifiedSellingCoachWidget2",message:"Received an error while trying to log a message -> "+a};try{r.ueLogError(b,d)}catch(e){}}}
function d(c){var d=c.attr("aria-posinset")-1,e=a.getCarousel(c);if(e){var k=e.getAttr("pageSize"),n=e.getAttr("set_size"),f=e.getAttr("fetchedItems");b(c).empty();f[d]=!1;for(var g=c,d=d+1;d<n&&f[d];++d){f[d-1]=f[d];f[d]=!1;var u=g.next();u.find(".uscw-nudge-box").detach().appendTo(g);g=u}g.addClass("a-carousel-card-empty");g.removeClass("sc-widget-shoveler-item");--n;e.setAttr("set_size",n);f.pop();e.setAttr("fetchedItems",f,{silent:!0});b(c).parent().children(":last").remove();e.setAttr("totalPages",
Math.ceil(n/k));var h;c=e.dom.$carousel;c.children("li").each(function(a,c){0===a&&(h=b(c).height());0===b(c).children().length&&b(c).css("height",h)});0>=n?(b(c).closest(".uscw-nudge-carousel-box").addClass("aok-hidden"),b("#uscw-noNudgeString").removeClass("uscw-hidden")):(b(c).closest(".uscw-nudge-carousel-box").removeClass("aok-hidden"),b("#uscw-noNudgeString").addClass("uscw-hidden"),e.strategies.ajax.wantCurrentPage(e),e.strategies.display.repaint(e))}}function p(a){var c=a.closest("ul").find(".uscw-list-card"),
d=a.parents(".uscw-nudge-carousel-box"),k=0<d.find(".loaded-cards").children().length,n=!d.data("paginationtoken");3>=c.length&&(k?C(d):k||n||d.data("ajaxinprogress")||(d.data("ajaxinprogress",!0),v(d,function(a){try{var k=b(a).filter("#paginationToken").data("token");d.data("paginationtoken",k);var y=d.find(".loaded-cards");b(a).filter("li").each(function(){y.append(this)});k&&1!==y.children().length||D(y);0===y.children().length&&(d.data("paginationtoken",""),D(d.find(".uscw-scroll-list")));C(d)}catch(n){r.console&&
(console.log("USCW.pagination.ajax.success: error: "+n),e("USCW.pagination.ajax.success: error",n))}finally{d.data("ajaxinprogress",!1),1>=c.length&&(d.find(".scroller-wrapper").addClass("uscw-hidden"),f.removeClass("uscw-hidden"))}})));b(a).remove();var f=d.find("#uscw-noNudgeString");1>=c.length&&!d.data("ajaxinprogress")?(d.find(".scroller-wrapper").addClass("uscw-hidden"),f.removeClass("uscw-hidden")):f.addClass("uscw-hidden")}function q(a){a.find(".uscw-matchButton-disabled").addClass("uscw-hidden");
a.find(".uscw-matchButton-enabled").removeClass("uscw-hidden")}function c(a){a.find(".uscw-matchButton-disabled").removeClass("uscw-hidden");a.find(".uscw-matchButton-enabled").addClass("uscw-hidden")}function w(a){a.find(".uscw-updateButton-disabled").addClass("uscw-hidden");a.find(".uscw-updateButton-enabled").removeClass("uscw-hidden")}function k(a){a.find(".uscw-updateButton-disabled").removeClass("uscw-hidden");a.find(".uscw-updateButton-enabled").addClass("uscw-hidden")}function u(){return b(".uscw-widget-tab-selected").prop("id")}
function n(a,c,d){return(503===a.status||504===a.status||0===a.readyState)&&c<d}function D(a){a=a.children().last();1===a.find(".a-spinner").length&&a.remove()}function C(a){var c=a.find(".uscw-scroll-list");a=a.find(".loaded-cards");D(c);a.children().each(function(){c.append(this)});a.empty()}function v(a,c){b.ajax({url:"/home/uscw/nextPage",method:"GET",timeout:15E3,retryLimit:3,tryCount:0,dataType:"html",data:{ie:Math.random(),cardTemplateCategory:a.data("paginationcategory"),nudgeTypesRequired:a.data("paginationfilters"),
startIndex:1,pageSize:5,nextPageToken:a.data("paginationtoken")}}).done(c).fail(function(c,d,k){if(n(c,this.tryCount,this.retryLimit))this.tryCount++,this.timeout*=2,b.ajax(this);else throw c.responseText&&(c.responseText=c.responseText.substring(0,50)),c="USCW.pagination.ajax.error: failed pagination: "+d+". XHR -> "+JSON.stringify(c)+". Error -> "+k,r.console&&console.log(c+": "+k),a.data("ajaxinprogress",!1),e(c,k),k;})}var G=[],A="T2"===m.getRedesignWeblabTreatment(),x=/[^0-9\.]+/g;return{isNumber:function(a){a=
h(a);return!isNaN(a)&&isFinite(a)&&0<=parseFloat(a)},decimalPlaces:function(a){var c=b("#decimalSeparator").attr("data-decimal-separator"),d=0;1<a.split(c).length&&(d=a.split(c)[1].length);return d},setInternationalSeparator:function(a,c){"undefined"===typeof c&&(c=2);return","===b("#decimalSeparator").attr("data-decimal-separator")?f(a,c,"",".",","):f(a,c,"",",",".")},removeInternationalSeparator:function(a){return h(a)},enableMatchButton:function(a){q(a)},disableMatchButton:function(a){c(a)},enableUpdateButton:function(a){w(a)},
disableUpdateButton:function(a){k(a)},getSelectedTab:function(){return u()},attributeNudges:function(a){var c=[],d=[];(A?a.find(".uscw-scroll-list").children("li"):a.dom.$carousel.children("li")).filter(function(){if(A){var c=a.find(".a-scroller")[0],d=c?c.getBoundingClientRect().top:0,c=c?c.getBoundingClientRect().bottom:0,e=this.getBoundingClientRect();return e.top>d&&e.top<c||e.bottom>d&&e.bottom<c}return"hidden"!==b(this).css("visibility")}).each(function(){b(this).find(".uscw-attribution").each(function(){var a=
b(this).data("nudge-identifier"),e=b(this).data("legacy-attribution");a&&-1===b.inArray(a,G)&&(e?d.push(a):c.push(a),G.push(a))})});var e=u();if(0<c.length){var k={selectedTab:e},k={type:"POST",timeout:15E3,retryLimit:3,tryCount:0,url:"/home/uscw/nudgesDelivered?"+b.param(k),data:JSON.stringify({channel:"RACE_B",nudgeIds:c}),datatype:"json",contentType:"application/json",headers:{Accept:"text/plain; charset=utf-8"}};g(k)}0<d.length&&(k={activityType:"NudgeDelivered",nudgeTypes:d.join(","),selectedTab:e},
k={url:"/home/uscw/recordNudgeActivity?"+b.param(k),type:"POST",timeout:15E3,retryLimit:3,tryCount:0,contentType:"application/x-www-form-urlencoded"},g(k))},sendActionTrackingMessage:function(a,c,d){b.ajax({url:"/hz/sellingcoach/tracking",tryCount:0,retryLimit:3,method:"GET",data:{ref_:"undefined"===typeof d?"":d,pageType:"UnifiedSellingCoachWidget",subPageType:a+"_"+c},timeout:1E4,success:function(){},error:function(a,c,d){n(a,this.tryCount,this.retryLimit)&&(this.tryCount++,this.timeout*=2,b.ajax(this))}});
l.recordEvent({context:"fuJi9w",subcontext:c,action:a})},logError:function(a,c){e(a,c)},isSpinner:function(a){a.find(".a-spinner")},removeSpinner:function(a){D(a)},appendCards:function(a){C(a)},loadCards:function(a,c){v(a,c)},removeCard:function(a){A?p(a):d(a)},makeAttributionCall:function(a){g(a)},validateAndFormatNumber:function(a){var c=b(a).find(".uscw-nudgeUpdateInput").val(),d=(a=0<b(a).find(".uscw-inventory-sliding-content").length)?0:2,e="invalid";this.isNumber(c)&&(this.decimalPlaces(c)>=
d?(e=parseFloat(this.removeInternationalSeparator(c)),e=a?e:this.setInternationalSeparator(e.toFixed(d))):(a=c.replace(x,""),e=0<this.decimalPlaces(c)?parseFloat(a):a));return e},changeInputAndButtonStatus:function(a,d){var e=0<b(d).find(".uscw-inventory-sliding-content").length;a+="";b(d).find(".uscw-nudgeUpdateInput").val(a);a!==d.context.defaultValue?(w(d),e||c(d)):(k(d),e||q(d));e=d.find(".uscw-error-alert");e.find(".a-alert-content");e.hide();b(d).find(".uscw-nudgeUpdateInput").removeClass("a-form-error")},
shouldRetry:function(a,c,d){return n(a,c,d)},displayNudgeCount:function(a,c){999<c?c="999+":0>c&&(c="0");var d=b.find("."+a+"-nudgeCount");"undefined"!==typeof d&&b(d).text(c)},isArrowKey:function(a){return 37<=a&&40>=a}}});t.when("A","jQuery","p-detect","a-carousel-framework","a-carousel-stretchygoodness","uscw-utils").register("uscw-nudges-display",function(b,a,l,m,f,h){function g(a,d,e,f){a.getAttr("show_partial_next")&&(d-=e/10);var n=a.getAttr("minimum_gutter_width");a.getAttr("set_size");a=
0;for(var g=!0;0<d;)a++,d=f&&g?d-e:d-(e+n),g=!1;0>d&&a--;return b.isFiniteNumber(a)&&0<a?a:1}function e(a,d,e,f,n,g,h){"stretch"===a.getAttr("single_page_align")&&f>g&&(f=g);d-=e*f;a.getAttr("show_partial_next")?(a=d-n*(f+1),h&&(a+=n),h=a/e,d-=e*(.5<h?.5:h)):h&&(d+=n);e=Math.ceil(d/(f+1));if(!b.isFiniteNumber(e)||e<n)e=n;return e}function d(a){if(a.getAttr("auto_adjust_height"))if(a.getAttr("animating"))a.once("animating",function(){d(a)});else{var e=a.getAttr("maxHeight"),k=a.getDimensions();e&&
b.isFiniteNumber(e)||(e=1);var f=e,n=a.getAttr("pageSize"),g=n*(a.getAttr("pageNumber")-1),n=g+n-1,k=k.items,h=k.length,p;for(a.getAttr("show_partial_next")&&n++;g<=n&&g<h;g++)(p=k[g])&&p.outerHeight>f&&(f=k[g].outerHeight||k[g].height);f>e&&(a.updateDimensionsCache({viewport:{height:f,outerHeight:f}}),a.setAttr("maxHeight",f),1===e?a.dom.$viewport.height(f):b.animate(a.dom.$viewport,{height:f},a.getAttr("height_animation_speed"),"linear"))}else a.dom.$viewport.css("height","")}function p(c){c.onChange("pageNumber",
function(){c.getAttr("hide_off_screen")&&c.dom.$carousel.children("li").css("visibility","")});c.onChange("pageSize",function(a,b){a>b&&d(c)});c.onChange("loading",function(a){a||d(c)});c.onChange("firstVisibleItem",function(){d(c)});c.onChange("animating",function(d){if(!d&&c.getAttr("hide_off_screen")){var b=c.getAttr("firstVisibleItem")-1,e=b+c.getAttr("pageSize")-1;c.getAttr("show_partial_next")&&e++;c.dom.$carousel.children("li").each(function(c,d){var f=c>=b&&c<=e;a(d).css("visibility",f?"":
"hidden")})}});c.onChange("single_page_align minimum_gutter_width",function(){q(c)});c.onChange("minimum_gutter_width",function(){q(c)})}function q(a){var d=a.getDimensions(),b=d.viewport.width,d=d.getFirstCardWidth(),f=a.getAttr("minimum_gutter_width"),n=a.getAttr("set_size"),p=a.getAttr("first_item_flush_left"),m=g(a,b,d,p),l=e(a,b,d,m,f,n,p);a.setAttr("currentGutter",l);a.setAttr("pageSize",m);var q=a.dom.$carousel,r=q.children("li"),f=r.length,x=a.getAttr("totalPages"),y=a.getAttr("pageNumber"),
B=a.getAttr("firstVisibleItem");y>x&&(B=(x-1)*m+1,y=x);x=Math.max(1,n-m+1);B=Math.max(1,Math.min(B,x));y=Math.ceil((B-1)/m)+1;a.setAttr("firstVisibleItem",B);a.setAttr("pageNumber",y);var E=B-1,F=E+m-1;a.getAttr("show_partial_next")&&F++;var I=a.getAttr("hide_off_screen"),J=l+"px",K=d+"px",t;r.each(function(a,c){t=!I||a>=E&&a<=F;c.style.marginLeft=p&&0===a?0:J;c.style.visibility=t?"":"hidden";c.style.width=K});var H;a.getAttr("first_item_flush_left")?(l=r.first().outerWidth(!0),1<r.length&&(H=r.eq(1).outerWidth(!0)),
x=(f-1)*H+l):(l=H=r.first().outerWidth(!0),x=f*H);m>=n?(x=b,y=a.getAttr("single_page_align"),q.toggleClass("a-text-right","right"===y),q.toggleClass("a-text-center","center"===y),"center"===y&&r.first().css("margin-left",0)):q.removeClass("a-text-right a-text-center");x=m>=n?b:x;q.css("width",x+"px");b={carousel:{width:x,outerWidth:q.outerWidth()},items:[]};for(n=0;n<f;n++)b.items.push({width:d,outerWidth:0===n?l:H});a.updateDimensionsCache(b);a.gotoIndex(B,{animationDuration:0});h.attributeNudges(a);
a.triggerEvent("repaint")}m.registerStrategy("display","uscw-nudges-display",{repaint:q,init:function(a){var e=a.getAttr("minimum_gutter_width");b.isFiniteNumber(e)||(e=4,a.setAttr("minimum_gutter_width",e));a.setAttr("currentGutter",e);e=a.getAttr("height_animation_speed");b.isFiniteNumber(e)||a.setAttr("height_animation_speed",200);a.setAttr("first_item_flush_left",!!a.getAttr("first_item_flush_left"));a.setAttr("show_partial_next",!!a.getAttr("show_partial_next"));q(a);"none"!==a.getAttr("transitionStrategy")&&
d(a);e=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(e.viewport.height,e.items[0]?e.items[0].height:0)+"px");e=a.getAttr("firstVisibleItem");1<e&&(a.setAttr("firstVisibleItem",e),e=Math.ceil(e/a.getAttr("pageSize")),a.gotoPage(e));p(a)},resize:function(a,d){d.viewport&&d.viewport.width!==z&&q(a)}})});t.when("A","jQuery","p-detect","a-carousel-framework","a-carousel-stretchygoodness").register("uscw-tabs-display",function(b,
a,l,m,f){function h(a){if(a.getAttr("auto_adjust_height"))if(a.getAttr("animating"))a.once("animating",function(){h(a)});else{var e=a.getAttr("maxHeight"),f=a.getDimensions();e&&b.isFiniteNumber(e)||(e=1);var c=e,g=a.getAttr("pageSize"),k=g*(a.getAttr("pageNumber")-1),g=k+g-1,f=f.items,u=f.length,n;for(a.getAttr("show_partial_next")&&g++;k<=g&&k<u;k++)(n=f[k])&&n.outerHeight>c&&(c=f[k].outerHeight||f[k].height);c>e&&(a.updateDimensionsCache({viewport:{height:c,outerHeight:c}}),a.setAttr("maxHeight",
c),1===e?a.dom.$viewport.height(c):b.animate(a.dom.$viewport,{height:c},a.getAttr("height_animation_speed"),"linear"))}else a.dom.$viewport.css("height","")}function g(d){d.onChange("pageNumber",function(){d.getAttr("hide_off_screen")&&d.dom.$carousel.children("li").css("visibility","")});d.onChange("pageSize",function(a,b){a>b&&h(d)});d.onChange("loading",function(a){a||h(d)});d.onChange("firstVisibleItem",function(){h(d)});d.onChange("animating",function(b){if(!b&&d.getAttr("hide_off_screen")){var e=
d.getAttr("firstVisibleItem")-1,c=e+d.getAttr("pageSize")-1;d.getAttr("show_partial_next")&&c++;d.dom.$carousel.children("li").each(function(d,b){var f=d>=e&&d<=c;a(b).css("visibility",f?"":"hidden")})}});d.onChange("single_page_align minimum_gutter_width",function(){e(d)});d.onChange("minimum_gutter_width",function(){e(d)})}function e(a){var b=a.getDimensions().viewport.width,e=b/4;a.getAttr("minimum_gutter_width");var c=a.getAttr("set_size"),f=a.getAttr("first_item_flush_left");a.setAttr("currentGutter",
0);a.setAttr("pageSize",4);var k=a.dom.$carousel,g=k.children("li"),n=g.length,h=a.getAttr("totalPages"),m=a.getAttr("pageNumber"),l=a.getAttr("firstVisibleItem");m>h&&(l=4*(h-1)+1,m=h);h=Math.max(1,c-4+1);l=Math.max(1,Math.min(l,h));m=Math.ceil((l-1)/4)+1;a.setAttr("firstVisibleItem",l);a.setAttr("pageNumber",m);var r=l-1,t=r+4-1;a.getAttr("show_partial_next")&&t++;var x=a.getAttr("hide_off_screen"),y=b/4+"px",B;g.each(function(a,c){B=!x||a>=r&&a<=t;c.style.marginLeft=f&&0===a?0:"0px";c.style.visibility=
B?"":"hidden";c.style.width=y});var E;a.getAttr("first_item_flush_left")?(h=g.first().outerWidth(!0),1<g.length&&(E=g.eq(1).outerWidth(!0)),m=(n-1)*E+h):(h=E=g.first().outerWidth(!0),m=n*E);if(4>=c){var m=b,F=a.getAttr("single_page_align");k.toggleClass("a-text-right","right"===F);k.toggleClass("a-text-center","center"===F);"center"===F&&g.first().css("margin-left",0)}else k.removeClass("a-text-right a-text-center");m=4>=c?b:m;k.css("width",m+"px");b={carousel:{width:m,outerWidth:k.outerWidth()},
items:[]};for(c=0;c<n;c++)b.items.push({width:e,outerWidth:0===c?h:E});a.updateDimensionsCache(b);a.gotoIndex(l,{animationDuration:0});a.triggerEvent("repaint")}m.registerStrategy("display","uscw-tabs-display",{repaint:e,init:function(a){var f=a.getAttr("minimum_gutter_width");b.isFiniteNumber(f)||(f=0,a.setAttr("minimum_gutter_width",f));a.setAttr("currentGutter",f);f=a.getAttr("height_animation_speed");b.isFiniteNumber(f)||a.setAttr("height_animation_speed",200);a.setAttr("first_item_flush_left",
!!a.getAttr("first_item_flush_left"));a.setAttr("show_partial_next",!0);e(a);"none"!==a.getAttr("transitionStrategy")&&h(a);f=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(f.viewport.height,f.items[0]?f.items[0].height:0)+"px");g(a)},resize:function(a,b){e(a)}})});t.when("A","jQuery","a-carousel-framework","uscw-utils","weblabDetection","ready").register("uscw-actions",function(b,a,l,m,f){function h(d){a(d).show();c&&clearTimeout(c);
c=setTimeout(function(){a(d).fadeOut(250)},4E3)}function g(c,d){var b=a.trim(a(d).find(".uscw-sku").text()),e=/SKU:\s+(.+)$/.exec(b),b="";null!==e&&(b=e[1]);var b={skuFieldText:b},f=a(d).find(".uscw-spinner-overlay");f.show();return a.ajax({url:"/home/uscw/update",type:"POST",data:JSON.stringify({nudgeModel:c,validation:b,selectedTab:m.getSelectedTab()}),contentType:"application/json",processData:!1,timeout:1E4}).always(function(a){f.hide()})}function e(c,d){a(c).fadeOut(250,function(){a(d).fadeIn(250)})}
function d(a){var c=a+"-nudgeCount",d=b.state(c);"undefined"===typeof d&&(b.state.parse(),d=b.state(c));"undefined"!==typeof d&&(d=d.nudgeCount-1,b.state(c,{nudgeCount:d}),m.displayNudgeCount(a,d))}function p(a,c){if(!c)throw"USCW: Argument is null or empty: "+a;}var q="T2"===f.getRedesignWeblabTreatment(),c,w;b.declarative("uscw-update","click",function(c){var b=c.data;p("event data",b);p("updated attribute",b.attributeToUpdate);p("nudge model",b.nudgeModel);var f=c.$target.closest(".uscw-nudge-box"),
h=a(f).find(".uscw-nudgeUpdateInput").val();if(""!==h){var l=b.nudgeModel;l.attributes["#UPDATED_ATTRIBUTE"]=m.removeInternationalSeparator(h);g(l,f).done(function(b){var g=f.find(".uscw-card-front"),h=f.find(".uscw-card-action-success");setTimeout(function(){e(g,h)},150);w=setTimeout(function(){a(f).find(".uscw-spinner-overlay").show();setTimeout(function(){var a=q?c.$target.closest(".uscw-list-card"):c.$target.closest(".a-carousel-card");0<a.length&&(m.removeCard(a),q&&d(l.category),m.sendActionTrackingMessage("updateOktimeout",
c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"]))},200)},1E4);c.successCallback&&c.successCallback(b)}).fail(function(d,b,e){r.console&&console.log("USCW:Update card failed");a(f).find(".uscw-nudgeUpdateInput").addClass("a-form-error");c.failCallback&&c.failCallback(d);d.responseText&&(d.responseText=d.responseText.substring(0,50));b=a(f).find(".uscw-error-alert-message");a(b).text(d.responseText);b=f.find(".uscw-error-alert");b.find(".a-alert-content");b.show();d="Failed to update nudge "+
JSON.stringify(l)+". Data -> "+JSON.stringify(d)+". Error -> "+e;m.logError(d,e);throw e;})}});b.declarative("uscw-undo","click",function(c){var d=c.data;p("event data",d);p("updated attribute",d.attributeToUpdate);p("nudge model",d.nudgeModel);var b=c.$target.closest(".uscw-nudge-box"),f=d.nudgeModel;f.attributes["#UPDATED_ATTRIBUTE"]=f.attributes[d.attributeToUpdate];"#INVENTORY_QUANTITY"===d.attributeToUpdate?a(b).find(".uscw-nudgeUpdateInput").val(m.setInternationalSeparator(f.attributes[d.attributeToUpdate],
0)):a(b).find(".uscw-nudgeUpdateInput").val(m.setInternationalSeparator(f.attributes[d.attributeToUpdate]));g(f,b).done(function(c){w&&clearTimeout(w);h(a("#uscw-alert-undo"));var d=b.find(".uscw-card-front"),f=b.find(".uscw-card-action-success");setTimeout(function(){e(f,d)},150)}).fail(function(a){r.console&&console.log("USCW:Undo card ajax has failed");m.sendActionTrackingMessage("undoError",c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])});m.sendActionTrackingMessage("undo",c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"]);
q&&b.find(".uscw-pricingButton").length&&(m.disableUpdateButton(b),m.enableMatchButton(b))});b.declarative("uscw-hide","click",function(c){var b=c.data;p("event data",b);p("nudge model",b.nudgeModel);var e=b.nudgeModel,f=q?c.$target.closest(".uscw-list-card"):c.$target.closest(".a-carousel-card");a(f).find(".uscw-spinner-overlay").show();setTimeout(function(){m.removeCard(f);"false"!==c.data.showToast&&h(a("#uscw-alert-skip"))},200);b={selectedTab:m.getSelectedTab()};return a.ajax({url:"/home/uscw/hide?"+
a.param(b),type:"POST",data:JSON.stringify(e),contentType:"application/json",processData:!1,timeout:1E4,tryCount:0,retryLimit:3,success:function(a){d(e.category)},error:function(d,b,f){if(m.shouldRetry(d,this.tryCount,this.retryLimit))this.tryCount++,this.timeout*=2,a.ajax(this);else throw m.logError("Hide card ajax has failed -> "+f,f),m.sendActionTrackingMessage("hideError",c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"]),d.responseText&&(d.responseText=d.responseText.substring(0,50)),d="Failed to hide nudge "+
JSON.stringify(e)+". XHR -> "+JSON.stringify(d)+". Error -> "+f,m.logError(d,f),f;}})});b.declarative("uscw-ok","click",function(c){var b=c.data;p("event data",b);p("nudge model",b.nudgeModel);var e=b.nudgeModel,f=q?c.$target.closest(".uscw-list-card"):c.$target.closest(".a-carousel-card");a(f).find(".uscw-spinner-overlay").show();setTimeout(function(){m.removeCard(f);q||d(e.category);"false"!==c.data.showToast&&h(a("#uscw-alert-skip"))},200)});b.declarative("uscw-remove","click",function(a){m.removeCard(a.$target.closest(".a-carousel-card"));
m.sendActionTrackingMessage("ok",a.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])});b.declarative("uscw-list-item","click",function(c){if(c.data.asin){var d=a("#uscw-reftags").data("reftag-onebyone"),d=d.replace("?",c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"]);r.open("/hz/productsearch?q="+c.data.asin+"&ref_="+d,"_blank")}});b.declarative("uscw-convert-item","click",function(c){if(c.data.sku){var d=a("#uscw-reftags").data("reftag-restockfba"),d=d.replace("?",c.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"]);
r.open("/gp/ssof/workflow/sendinventory.html?mSku.0="+c.data.sku+"&ref_="+d,"_blank")}})});t.when("A","jQuery","uscw-utils","weblabDetection","ready").register("uscw-inventory",function(b,a,l,m){b.declarative("uscw-inventory-change","keyup input propertychange",function(a){var b=a.$target.closest(".uscw-nudge-box");l.isArrowKey(a.$event.keyCode)||("T2"===m.getRedesignWeblabTreatment()&&l.enableUpdateButton(b),a=l.validateAndFormatNumber(b),"invalid"!==a&&l.changeInputAndButtonStatus(a,b))});b.declarative("uscw-update-inventory-mfn",
"click",function(f){var h=f.$target.closest(".uscw-nudge-box"),g=a(h).find(".uscw-nudgeUpdateInput").val();""!==g&&(h.find(".uscw-card-action-success").find(".uscw-attribute-updated-label").text(g),b.trigger("a:declarative:uscw-update:click",f))});b.declarative("uscw-inventory-slide-up","click",function(b){b=b.$target.closest(".uscw-nudge-box");if("T2"!==m.getRedesignWeblabTreatment()){var h=b.find(".uscw-inventory-sliding-content");h.addClass("uscw-inventory-sliding-content-up")}else h=b.find(".fba-details.uscw-card-text-content"),
a(h[0]).toggleClass("inventorySlideUpHidden"),b=b.find(".uscw-inventory-current-inventory-container.uscw-hand-cursor"),a(b[0]).toggleClass("uscw-expand");l.sendActionTrackingMessage("Shown","FBADetails")});"T2"!==m.getRedesignWeblabTreatment()&&b.declarative("uscw-inventory-slide-down","click",function(a){a.$target.closest(".uscw-nudge-box").find(".uscw-inventory-sliding-content").removeClass("uscw-inventory-sliding-content-up")})});t.when("A","jQuery","uscw-utils","weblabDetection","ready").register("uscw-pricing",
function(b,a,l,m){function f(b){var e=a(b).find(".uscw-nudgeUpdateInput"),d=a(b).find("#uscw-seller-price").text();e.val(d);e=l.validateAndFormatNumber(b);"invalid"!==e&&a(b).find(".uscw-nudgeUpdateInput").val(e);h||(b.find(".uscw-pricing-match-button-text").hide(),b.find(".uscw-pricing-update-button-text").show(),b.find(".uscw-pricing-bottom-content").show(),b.find(".uscw-pricing-sliding-content").addClass("uscw-pricing-sliding-content-up"),e=a(b).find("#uscw-cancel-button"),a(b).find("#uscw-hide-button").hide(),
e.show(),e=b.find(".uscw-pricing-your-price"),a(e).css("color","black"),b.find(".edit-icon").hide(),(e=b.find(".uscw-card-badge-holder"))&&e.hide(),(b=b.find(".uscw-card-badge-container"))&&b.hide())}var h="T2"===m.getRedesignWeblabTreatment();b.declarative("uscw-pricing-slide","click",function(a){var b=a.$target.closest(".uscw-nudge-box");f(b);l.sendActionTrackingMessage("edit",a.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])});b.declarative("uscw-cancel-action","click",function(b){var e=b.$target.closest(".uscw-nudge-box");
e.find(".uscw-pricing-sliding-content").removeClass("uscw-pricing-sliding-content-up");e.find(".uscw-pricing-bottom-content").hide();var d=a(e).find("#uscw-cancel-button");a(e).find("#uscw-hide-button").show();d.hide();if(h)f(e);else{var d=a(e).find(".uscw-nudgeUpdateInput"),m=a(e).find("#uscw-match-price").text();d.val(m);l.validateAndFormatNumber(e)}d=e.find(".uscw-pricing-your-price");a(d).css("color","");e.find(".edit-icon").show();e.find(".uscw-pricing-match-button-text").show();e.find(".uscw-pricing-update-button-text").hide();
h?(l.disableUpdateButton(e),l.enableMatchButton(e)):(d=e.find(".uscw-updateButton-enabled"),m=e.find(".uscw-updateButton-disabled"),d.removeClass("uscw-hidden"),m.addClass("uscw-hidden"));(d=e.find(".uscw-card-badge-holder"))&&d.show();(e=e.find(".uscw-card-badge-container"))&&e.show();l.sendActionTrackingMessage("editCancel",b.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])});b.declarative("uscw-pricing-change","keyup input propertychange",function(a){var b=a.$target.closest(".uscw-nudge-box");
l.isArrowKey(a.$event.keyCode)||(a=l.validateAndFormatNumber(b),"invalid"!==a&&l.changeInputAndButtonStatus(a,b))});b.declarative("uscw-match-price","click",function(g){var e=g.$target.closest(".uscw-nudge-box");if(""!==a(e).find(".uscw-nudgeUpdateInput").val()){var d=e.find(".uscw-card-action-success"),m="updatePrice",q="updatePriceErr";if(h?0>=g.$target.closest(".uscw-updateButton-enabled").length:!e.find(".uscw-pricing-sliding-content").hasClass("uscw-pricing-sliding-content-up"))m="matchPrice",
q="matchPriceErr",a(e).find(".uscw-nudgeUpdateInput").val(a(e).find("#uscw-match-price").text());g.failCallback=function(a){f(e);l.sendActionTrackingMessage(q,g.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])};g.successCallback=function(a){var b=a.attributes["#TOTAL_PRICE"];d.find(".uscw-total-price-label").text(l.setInternationalSeparator(b));b=a.attributes["#SELLER_PRICE"];d.find(".uscw-attribute-updated-label").text(l.setInternationalSeparator(b));a=a.attributes["#SHIPPING_PRICE"];d.find(".uscw-seller-shipping-label").text(l.setInternationalSeparator(a));
l.sendActionTrackingMessage(m,g.data.nudgeModel.attributes["#NUDGE_TYPE_UNIQUE_ID"])};b.trigger("a:declarative:uscw-update:click",g)}})});t.when("A","jQuery","uscw-tabs-display","uscw-nudges-display","uscw-utils","a-carousel-framework","dashiell-widget-fuJi9w-jsp-rendered","uscw-ajax","uscw-transition").execute("",function(b,a,l,m,f,h){var g;b.on("resize",function(){clearTimeout(g);g=setTimeout(function(){var c=a("#uscw-widget").find(".a-carousel-container");a.each(c,function(a,c){var d=h.getCarousel(c);
d&&(d.measure(),d.updateDimensionsCache(d.getDimensions()))})},1E3)});var e=!1,d=!1,p=2/3,q=function(){a(".uscw-youtube").length&&(d||(a.getScript("https://www.youtube.com/iframe_api"),d=!0),a(".uscw-youtube-iframe").filter(function(){return!a(this).attr("src")}).each(function(){var c=a(this).data("url");a(this).attr("src",c)}))};b.declarative("uscw-widget-mouseenter","mouseenter",function(){e=!0});var c=function(){a(".uscw-card-scroller ul").each(function(){5>a(this).children().length-1?f.removeSpinner(a(this).children()):
a(this).parents(".uscw-card-scroller").scroll(x)})},w=function(){a(".mula-attribution").click(function(c){c=a(c.currentTarget);k(c)})},k=function(c){var d=c.data("activity"),b=a("#"+c.data("carouselid")),e=c.data("effectivedate"),k="",n=f.getSelectedTab();if(b&&0!==b.length){if(b.find("li").filter(function(){return"hidden"!==a(this).css("visibility")}).each(function(){a(this).find(".uscw-attribution").each(function(){var c=a(this).data("nudgetype");""!==k&&(k+=",");k+=c})}),""===k)return}else k=c.data("nudgetype");
c={url:"/home/uscw/recordNudgeActivity?"+a.param({activityType:d,nudgeTypes:k,effectiveDate:e,selectedTab:n}),type:"POST",timeout:15E3,retryLimit:3,tryCount:0};f.makeAttributionCall(c)},u=function(c){switch(c){case "uscw-tab-carousel-tab-Inventory":return a("#uscw-reftags").data("reftag-tabinv");case "uscw-tab-carousel-tab-Fulfillment":return a("#uscw-reftags").data("reftag-tabful");case "uscw-tab-carousel-tab-Pricing":return a("#uscw-reftags").data("reftag-tabprc");case "uscw-tab-carousel-tab-Selection":return a("#uscw-reftags").data("reftag-tabsel");
case "uscw-tab-carousel-tab-scwglobalselling":return a("#uscw-reftags").data("reftag-tabgls");case "uscw-tab-carousel-tab-Sponsored":return a("#uscw-reftags").data("reftag-tabadv");default:return"xx"}},n,D;b.declarative("uscw-tab-carousel-tab-click","click",function(a){C(a.data.tab_id,!1,"Select")});var C=function(c,d,b){try{if(n!==c){var e=c+"-carousel";n&&a("#"+n).removeClass("uscw-widget-tab-selected");D&&a("#"+D).hide();var k,g=n;k=a("#uscw-reftags").data("reftag-prefix")+"_"+u(g)+"_uscw2_"+u(c);
a("#"+c).addClass("uscw-widget-tab-selected");n=c;d?a("#"+e).fadeIn(500):a("#"+e).show();D=e;var h=a("#"+e).find("#uscw-last-updated-date"),m=h.data("lastupdatedmillis"),l=new Date(parseInt(m,10));"uscw-tab-carousel-tab-Pricing"===c||"uscw-tab-carousel-tab-Inventory"===c?h.text(l.toLocaleDateString()+" "+l.toLocaleTimeString()):h.text(l.toLocaleDateString());b&&f.sendActionTrackingMessage(b,e,k);f.attributeNudges(a("#"+e))}}catch(p){throw f.logError("USCW: tab clicked Error -> "+p,p),p;}},v,t=function(){var c=
a(".uscw-has-nudges").first().data("category"),d=a(".uscw-filler-content_page").first().data("category"),b=a(".uscw-widget-tab");v=b.first().attr("id");c?v="uscw-tab-carousel-tab-"+c:d&&(v="uscw-tab-carousel-tab-"+d);v&&(C(v,!1,"defaultTabSelect"),c=h.getCarouselByName("uscw-tab-carousel"))&&(d=c.getAttr("pageSize"),b=b.index(a("#"+v)),c.gotoPage(Math.floor(b/d)+1))};b.declarative("uscw-tab-arrow-left","click",function(a){f.sendActionTrackingMessage("tabArrowLeft","Carousel")});b.declarative("uscw-tab-arrow-right",
"click",function(a){f.sendActionTrackingMessage("tabArrowRight","Carousel")});b.declarative("uscw-carousel-arrow-left","click",function(a){f.sendActionTrackingMessage("carouselArrowLeft",a.data.carousel_category)});b.declarative("uscw-carousel-arrow-right","click",function(a){f.sendActionTrackingMessage("carouselArrowRight",a.data.carousel_category)});t();q();(function(){try{0<a("#uscw-nudge-carousel-ajax-container").length&&a.ajax({url:"/home/uscw/getNudgeCarouselContent?ie="+Math.random(),tryCount:0,
retryLimit:2,method:"GET",timeout:15E3,success:function(d){a("#uscw-nudge-carousel-ajax-container").empty().append(d);q();w();d=a(".uscw-widget-tab");var k;for(k=0;k<d.size();k++){var n=d.get(k).getAttribute("data-categoryName"),g=n+"-nudgeCount",h=b.state(g);"undefined"===typeof h&&(b.state.parse(),h=b.state(g));"undefined"!==typeof h&&f.displayNudgeCount(n,h.nudgeCount)}e||t();c()},error:function(c,d,b){f.shouldRetry(c,this.tryCount,this.retryLimit)?(this.tryCount++,this.timeout*=2,a.ajax(this)):
a("#uscw-loading-error-message").removeClass("uscw-hidden")}})}catch(d){throw f.logError("ActionCenter: Widget loading... Error -> "+d,d),d;}})();var A=function(c){var d=c.scrollHeight-c.clientHeight,b;b=a(c).find("li").last();b=f.isSpinner(b)?b.height():0;return d-b<=c.scrollTop},x=function(c){var d=c.target,b=a(d).parents(".uscw-nudge-carousel-box");c=0<b.find(".loaded-cards").children().length;var e=!b.data("paginationtoken");f.attributeNudges(b);!c&&e?(c=b.find(".uscw-scroll-list"),f.removeSpinner(c),
a(d).unbind("scroll")):A(d)&&c?f.appendCards(b):d.scrollTop/(d.scrollHeight-d.clientHeight)>p&&!c&&!e&&!b.data("ajaxinprogress")&&(b.data("ajaxinprogress",!0),f.loadCards(b,function(c){try{var e=a(c).filter("#paginationToken").data("token");b.data("paginationtoken",e);var k=b.find(".loaded-cards");a(c).filter("li").each(function(){k.append(this)});e&&1!==k.children().length||f.removeSpinner(k);0===k.children().length&&(b.data("paginationtoken",""),f.removeSpinner(b.find(".uscw-scroll-list")));A(d)&&
f.appendCards(b)}catch(n){r.console&&console.log("USCW.pagination.ajax.success: error: "+n)}finally{b.data("ajaxinprogress",!1)}}))}});t.when("A","jQuery","uscw-utils","ready").execute("widgetPreferences",function(b,a,l){b.declarative("uscw-save-preferences","click",function(b){var h=b.data;b=b.$target.closest(".uscw-preferences-card");var g=a(b).find(".uscw-preferences-pane-section"),e=a(b).find(".uscw-preferences-success-pane-section"),d=a(b).find(".uscw-preferences-success-witherror-pane-section"),
m=a(b).find(".uscw-preferences-fatal-pane-section"),q=h.category,c=q.charAt(0).toUpperCase(),w=a(g).find(".uscw-preferences-textinput").val(),k=a(g).find(".uscw-preferences-pane-multiselect").val();a(g).find(".uscw-preferences-nodata-header").hide();a(g).find(".uscw-preferences-normal-header").show();a(g).find(".uscw-preferences-textinput").removeClass("a-form-error");a(g).find(".uscw-preferences-pane-multiselect").removeClass("a-form-error");var u=a(b).find(".uscw-spinner-overlay");u.show();a.ajax({url:"/home/uscw/savePreference",
type:"POST",data:JSON.stringify({nudgeCategory:q,brandInput:w,categoryInput:k}),contentType:"application/json; charset=utf-8",timeout:1E4}).done(function(b){u.hide();switch(b.STATUS){case "RESULT_NOINPUT_ERROR":a(g).find(".uscw-preferences-normal-header").hide();a(g).find(".uscw-preferences-nodata-header").show();a(g).find(".uscw-preferences-textinput").addClass("a-form-error");a(g).find(".uscw-preferences-pane-multiselect").addClass("a-form-error");b=a("#uscw-reftags").data("reftag-prefix")+"_NINP_uscw2_prf"+
c;l.sendActionTrackingMessage("update_pref_noinput",c,b);break;case "RESULT_SUCCESS":a(g).hide();a(e).show();var f=h.successString.replace("{#}",b.brand),f=f.replace("{#}",b.productCategory);a(e).find("#uscw_success_conf").text(f);b=a("#uscw-reftags").data("reftag-prefix")+"_SCCS_uscw2_prf"+c;l.sendActionTrackingMessage("update_pref_success",c,b);break;case "RESULT_SUCCESS_WITHERROR":a(g).hide();a(d).show();f=h.successString.replace("{#}",b.brand);f=f.replace("{#}",b.productCategory);a(d).find("#uscw_success_conf_warn").text(f);
b=h.warningString.replace("{brand_name}",b.brand_error);a(d).find("#uscw_success_conf_warn2").text(b);b=a("#uscw-reftags").data("reftag-prefix")+"_SCSU_uscw2_prf"+c;l.sendActionTrackingMessage("update_pref_unknown",c,b);break;default:a(g).hide(),a(m).show(),b=a("#uscw-reftags").data("reftag-prefix")+"_ERR_uscw2_prf"+c,l.sendActionTrackingMessage("update_pref_error",c,b)}}).fail(function(b,d,e){u.hide();l.logError("USCW: ERROR Pref update ->"+q+" >> "+w+" -- "+k,e);a(g).hide();a(m).show();b=a("#uscw-reftags").data("reftag-prefix")+
"_ERR_uscw2_prf"+c;l.sendActionTrackingMessage("update_pref_unknown",c,b)})});b.declarative("uscw-ok-preferences","click",function(b){var h=b.data;b=b.$target.closest(".uscw-preferences-card");var g=h.category,e=g.charAt(0).toUpperCase(),d=a(b).find(".uscw-preferences-pane-section"),h=a(b).find(".uscw-preferences-success-pane-section"),m=a(b).find(".uscw-preferences-success-witherror-pane-section"),q=a(b).find(".uscw-preferences-fatal-pane-section"),c=a(b).find(".uscw-spinner-overlay");c.show();a(h).hide();
a(m).hide();a(q).hide();a(d).show();a.ajax({url:"/home/uscw/refreshPreferencePage",type:"POST",data:JSON.stringify({nudgeCategory:g}),contentType:"application/json; charset=utf-8",timeout:1E4,tryCount:0,retryLimit:3}).done(function(b){c.hide();b=a(b).find(".uscw-preferences-pane-section");a(d).replaceWith(b);b=a("#uscw-reftags").data("reftag-prefix")+"_dis_uscw2_prf"+e;l.sendActionTrackingMessage("update_pref_dismiss",e,b)}).fail(function(b,d,f){l.shouldRetry(b,this.tryCount,this.retryLimit)?(this.tryCount++,
this.timeout*=2,a.ajax(this)):(c.hide(),l.logError("USCW: ERROR Pref update refresh ->"+g,f),b=a("#uscw-reftags").data("reftag-prefix")+"_dser_uscw2_prf"+e,l.sendActionTrackingMessage("update_pref_dismerr",e,b))})});b.declarative("nudge-attribute-preference-brand-changed-action","keyup input propertychange",function(a){m(a)});b.declarative("nudge-attribute-preference-category-changed-action","keyup input propertychange click",function(a){m(a)});var m=function(b){b=b.$target.closest(".uscw-preferences-card");
var h=a(b).find(".uscw-preferences-pane-section");b=a(h).find(".uscw-preferences-textinput").val();var g=a(h).find(".uscw-preferences-pane-multiselect").val(),e=a(h).find(".uscw-saveprefs-button"),h=a(h).find(".uscw-saveprefs-button-disabled");""!==b||null!==g&&0!==g.length?(a(e).removeClass("uscw-hidden"),a(h).addClass("uscw-hidden")):(a(e).addClass("uscw-hidden"),a(h).removeClass("uscw-hidden"))}});t.when("A","a-carousel-framework","a-carousel-ajax-standard","uscw-utils","weblabDetection").register("uscw-ajax",
function(b,a,l,m,f){function h(a){var b=a.getAttr("set_size")+1;a.setAttr("set_size",b);return b}var g="C"===f.getRedesignWeblabTreatment()?10:5;b=b.extend({},l);b.getItems=function(a,b,f){if(!a.getAttr("ajaxInProgress")){a.setAttr("ajaxInProgress",!0);var l=a.getAttr("internalOffset");l||(l=g,a.setAttr("internalOffset",l));var c,w=[];a.dom.$carousel.children("li").each(function(a,b){0===a&&(c=$(b).height());0===$(b).children().length&&($(b).css("height",c),w.push(b))});var k=f.offset;$.ajax({url:"/home/uscw/nextPage",
method:"GET",timeout:15E3,retryLimit:3,tryCount:0,dataType:"html",data:{ie:Math.random(),cardTemplateCategory:a.getAttr("paginationCategory"),nudgeTypesRequired:a.getAttr("paginationFilters"),startIndex:l,pageSize:g,nextPageToken:a.getAttr("paginationToken")},success:function(c){try{for(var b=a.getAttr("fetchedItems"),d=a.getAttr("set_size"),g=0;g<k;++g)if(!b[g]){k=g;break}var v=0;$(c).filter(".uscw-nudge-box").each(function(){var c=k+v;c>=d&&(d=h(a));b[c]=this;v++});a.setAttr("internalOffset",l+=
v);var t=$(c).filter("#paginationToken").data("token");a.setAttr("paginationToken",t);if(t&&f.offset+v>=d)d=h(a);else if((!t||0===v)&&f.offset+v<d)for(c=0;c<w.length;c++)m.removeCard($(w[c]));a.setAttr("fetchedItems",b);$(".a-carousel-card").css("backface-visibility","visible");var A;a.dom.$carousel.children("li").each(function(a,c){0===a&&(A=$(c).height());$(c).css("height",A)})}catch(x){r.console&&console.log("USCW.pagination.ajax.success: error: "+x)}finally{a.setAttr("ajaxInProgress",!1)}},error:function(c,
b,d){if(m.shouldRetry(c,this.tryCount,this.retryLimit))this.tryCount++,this.timeout*=2,$.ajax(this);else throw c.responseText&&(c.responseText=c.responseText.substring(0,50)),c="USCW.pagination.ajax.error: failed pagination: "+b+". XHR -> "+JSON.stringify(c)+". Error -> "+d,r.console&&console.log(c+": "+d),a.setAttr("ajaxInProgress",!1),m.logError(c,d),d;}})}};b.init=function(a){a.setAttr("ajax",{url:"/home/not used here"});return l.init(a)};a.registerStrategy("ajax","uscw-ajax",b)});t.when("A","a-carousel-framework",
"a-carousel-transition-slide").register("uscw-transition",function(b,a,l){b=b.extend({},l);b.gotoPage=function(a,b,h){h=h||{};(h.animationDuration===z||0<h.animationDuration)&&!h.silent&&a.setAttr("animating",!0);var g=a.getAttr("pageSize"),e=a.getAttr("set_size"),d=a.getAttr("pageNumber"),e=Math.max(1,e-g+1),l=a.getAttr("firstVisibleItem");b<d?l-=g:b>d&&(l+=g);1>=l?b=l=1:l>=e&&(l=e,b=a.getAttr("totalPages"));a.setAttr("pageNumber",b);a.setAttr("firstVisibleItem",l);this.gotoIndex(a,l,h)};b.gotoIndex=
function(a,b,h){h=h||{};(h.animationDuration===z||0<h.animationDuration)&&!h.silent&&a.setAttr("animating",!0);a.setAttr("firstVisibleItem",b);a.getDimensions();var g=h.callback,e=!1,e=a.getItemOffset(b);h.callback=g;!1!==e&&this.gotoPixel(a,e,h)};a.registerStrategy("transition","uscw-transition",b)});t.register("weblabDetection",function(){return{getRedesignWeblabTreatment:function(){return"T2"}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("AGSGateWayWidgetAssets"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","jQuery","sc-metrics-api").register("ClientSideMetricsHelper",function(c,b,a){var d=function(b,d,c){a.recordEvent({context:b,subcontext:d,action:c})};return{recordRawEvent:function(b,c,a){d(b,c,a)},widgetRendered:function(b){d(b,"initialization","widgetRendered")},bindWidgetHyperlinks:function(c,
a){b("#"+a).delegate("a","click",function(b){d(c,a,"linkClicked")})},bindLastUpdatedHover:function(c,a){var e=b("#"+a);e.length&&e.bind("mouseenter",function(b){d(c,a,"hoverOnLastUpdatedDate")})},bindGenerateReportHyperlink:function(c,a){var e=b("#"+a);e.length&&e.click(function(b){d(c,a,"generateReportLinkClicked")})}}});b.when("A","jQuery","ClientSideMetricsHelper","scgateway-expandInternationallyWidget","ready").execute("eiWidgetMetrics",function(c,b,a){a.widgetRendered("fqDNwk");a.bindWidgetHyperlinks("fqDNwk",
"eiWidgetLink");a.bindLastUpdatedHover("fqDNwk","lastUpdatedPopoverTrigger");a.bindGenerateReportHyperlink("fqDNwk","genBILReport")})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,c=f?f("ICPSellerCentralWidgetAssets"):e;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,e,f){d.when("A","jQuery","sc-metrics-api","scgateway-icpGatewayWidget").execute("FBAICPGatewayWidgetMetrics",function(c,a,d){var b=function(b,a,c){d.recordEvent({context:b,subcontext:a,action:c})};b("g0CZro","initialization","widgetRendered");a("#widget-g0CZro").delegate("#est_lost_sales_kpi",
"mousedown touchstart",function(a){b("g0CZro","est_lost_sales_kpi","click")});a("#widget-g0CZro").delegate("#out_of_stock_kpi","mousedown touchstart",function(a){b("g0CZro","out_of_stock_kpi","click")});a("#widget-g0CZro").delegate("#excess_units_kpi","mousedown touchstart",function(a){b("g0CZro","excess_units_kpi","click")});a("#widget-g0CZro").delegate("#days_of_inventory_kpi","mousedown touchstart",function(a){b("g0CZro","days_of_inventory_kpi","click")});a("#widget-g0CZro").delegate("#recommend_removal_notify",
"mousedown touchstart",function(a){b("g0CZro","recommend_removal_notify","click")});a("#widget-g0CZro").delegate("#low_traffic_notify","mousedown touchstart",function(a){b("g0CZro","low_traffic_notify","click")});a("#widget-g0CZro").delegate("#low_conversion_notify","mousedown touchstart",function(a){b("g0CZro","low_conversion_notify","click")});a("#widget-g0CZro").delegate("#stranded_inv_notify","mousedown touchstart",function(a){b("g0CZro","stranded_inv_notify","click")});a("#widget-g0CZro").delegate("#ltsf_notify",
"mousedown touchstart",function(a){b("g0CZro","out_of_stock_kpi","click")});a("#widget-g0CZro").delegate("#icp_dashboard_link","mousedown touchstart",function(a){b("g0CZro","icp_dashboard_link","click")})})});
/* ******** */
(function(g){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("SellerPollingWidgetUIAssets"):h;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,h,l){g.when("A","jQuery","seller-polling-utils","scgateway-sellerPollingWidget").execute(function(c,a,d){var b=a("#sc_seller_poll_qType").val(),m=a("#sc_seller_poll_qId").val();0!==a("#sellerPollCustomResponse").length&&d.textCounter("#sellerPollCustomResponse","sc_seller_poll_counter");d.toggleSubmit(b,
"#sc_seller_poll_submit");c.declarative("sc-seller-poll-toggle-submit","keyup click change",function(m){0!==a("#sellerPollCustomResponse").length&&d.textCounter("#sellerPollCustomResponse","sc_seller_poll_counter");d.toggleSubmit(b,"#sc_seller_poll_submit")});c.declarative("sc-seller-poll-submit-poll","click",function(c){!1===a("#sc_seller_poll_submit .a-button-inner .a-button-input").prop("disabled")&&(a("#sc_seller_poll_submit .a-button-inner .a-button-input").prop("disabled",!0),a("#sc_seller_poll_submit").addClass("a-button-disabled"),
d.submitPoll("#sc_seller_poll_submit",b,m))})});g.when("A","jQuery","sc-metrics-api","scgateway-sellerPollingWidget").execute("sellerPollingWidgetMetrics",function(c,a,d){var b=function(a,b,e){d.recordEvent({context:a,subcontext:b,action:e})};b("fotzTi","initialization","widgetRendered");a("#widget-fotzTi").delegate("#sc_seller_poll_submit .a-button-inner input","click",function(a){b("fotzTi","pollSubmitButton","buttonClicked")});a("#widget-fotzTi").delegate("#sc_seller_poll_learn_more","click",function(a){b("fotzTi",
"learnMoreLink","linkClicked")})});g.when("A","jQuery","a-button").register("seller-polling-utils",function(c,a){var d={textCounter:function(b,d){var c=document.getElementById(d),e=a(b).attr("maxLength"),f=a(b).val(),e=e-f.length;0>e&&(e=0);c.innerHTML=e},toggleSubmit:function(b,d){var c=!1;if("text"===b&&""!==a("#sellerPollCustomResponse").val())c=!0;else for(var e=a('input[name="sellerpollAnswerValue"]'),f=0;f<e.length;f++)if(e[f].checked){c=!0;break}c?(a(d).removeClass("a-button-disabled"),a(d+
" .a-button-inner .a-button-input").prop("disabled",!1)):(a(d).addClass("a-button-disabled"),a(d+" .a-button-inner .a-button-input").prop("disabled",!0))},submitPoll:function(b,c,g){b=[];var e="";if(0!==a("#sellerPollCustomResponse").length&&""!==a("#sellerPollCustomResponse").val())var e=a("#sellerPollCustomResponse").attr("maxlength"),f=a("#sellerPollCustomResponse").val(),e=f.substring(0,Math.min(e,f.length));else e="";if("text"===c&&""!==a("#sellerPollCustomResponse").val())f={},f.customString=
e,b[0]=f;else{for(var h=a('input[name="sellerpollAnswerValue"]'),k=0;k<h.length;k++)h[k].checked&&(f={},f.pollAnswerId=h[k].value,0!==a("#sellerPollCustomResponse").length&&""!==a("#sellerPollCustomResponse").val()?(f.isCustomString="true",f.customString=""):f.isCustomString="false",b[b.length]=f);b[0].customString=e}0<b.length?(a("#sc_seller_poll_popover_loading").removeClass("a-hidden"),a.ajax({type:"POST",dataType:"text",url:"/home/seller-polling/submit",data:{pollQuestionId:g,pollAnswerList:JSON.stringify(b),
questionType:c},success:function(b){d.toggleQuestion();a("#sellerpoll_results").html(b)},error:function(){d.showServiceErrorInPoll()}})):d.showErrorInPoll()},toggleQuestion:function(){a("#sellerpollError").hide();a("#sellerpollServiceError").hide();a("#sellerpollQuestion").hide();a("#sc_seller_poll_submit_button").hide();a("#sellerpoll_thankyoustring").show()},showErrorInPoll:function(){a("#sellerpollQuestion").show();a("#sc_seller_poll_submit_button").show();a("#sellerpoll_thankyoustring").hide();
a("#sellerpollError").show()},showServiceErrorInPoll:function(){a("#sellerpollQuestion").hide();a("#sc_seller_poll_submit_button").hide();a("#sellerpoll_thankyoustring").hide();a("#sellerpollServiceError").show()}};return d})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SellerForumsOlympusWidgetAsset"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","sc-metrics-api").execute(function(a,b){a.declarative("question","click",function(a){b.recordEvent({context:a.data.widgetId,subcontext:"questionLink",action:"clicked"})});a.declarative("forums-home","click",function(a){b.recordEvent({context:a.data.widgetId,subcontext:"forumsHomeLink",
action:"clicked"})})})});
/* ******** */
(function(a){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,c=f?f("VASSCHomePageAssets"):e;c.guardFatal?c.guardFatal(a)(c,window):c.execute(function(){a(c,window)})})(function(a,e,f){a.when("A","jQuery","sc-metrics-api").register("VasClientSideMetricsHelper",function(c,a,b){return{widgetRendered:function(a){b.recordEvent({context:a,subcontext:"initialization",action:"widgetRendered"})}}});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasDeliveryServiceWidget",
"ready").execute("vasDeliveryServiceWidget",function(c,d,b){b.widgetRendered("fGTdWU");a.register("vasDeliveryServiceWidgetMetricsReady",function(){return!0})});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasSellerProfileWidget","ready").execute("vasSellerProfileWidget",function(c,d,b){b.widgetRendered("fGTeYk");a.register("vasSellerProfileWidgetMetricsReady",function(){return!0})});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasContactWidget","ready").execute("vasContactWidgetWidget",
function(c,d,b){b.widgetRendered("fGTdA9");a.register("vasContactWidgetMetricsReady",function(){return!0})});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasSettingsWidget","ready").execute("vasSettingsWidget",function(c,d,b){b.widgetRendered("fGTeQj");a.register("vasSettingsWidgetMetricsReady",function(){return!0})});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasHomePageTrainingWidget","ready").execute("vasHomePageTrainingWidget",function(c,d,b){b.widgetRendered("fGTaWi");
a.register("vasHomePageTrainingWidgetMetricsReady",function(){return!0})});a.when("A","jQuery","VasClientSideMetricsHelper","scGatewayVasWelcomeWidget","ready").execute("vasWelcomeWidget",function(c,d,b){b.widgetRendered("fGTeAt");a.register("vasWelcomeWidgetMetricsReady",function(){return!0})});a.when("jQuery").register("scVasDeliveryServiceWidgetCore",function(a){var d=function(b,d){var e=a("#"+b);0<e.length&&(a("#scVasDeliveryServiceWidgetBody").removeClass("aok-hidden"),a("#scVasDeliveryServiceWidgetLoader").addClass("aok-hidden"),
d?(e.removeClass("aok-hidden").html(d.count||0),e.closest("a").attr("href",d.redirectionLink)):e.removeClass("aok-hidden").html(0))},b=function(a){d("vas-unconfirmed-jobs-count",a.unconfirmedJobs);d("vas-unserviced-jobs-count",a.notYetServicedJobs);d("vas-completed-jobs-count",a.completedJobs)};return{getDeliveryServiceJobStats:function(){a.ajax({url:"/hz/local-services/delivery-service/jobStats",contentType:"application/json",success:function(a){b(a)},error:function(a,c){b({})}})},populateResponse:b}});
a.when("scVasDeliveryServiceWidgetCore","scGatewayVasDeliveryServiceWidget","ready").execute(function(a){a.getDeliveryServiceJobStats()})});
/* ******** */
(function(C){var y=window.AmazonUIPageJS||window.P,H=y._namespace||y.attributeErrors,a=H?H("IBAMerchantPortalWebUI"):y;a.guardFatal?a.guardFatal(C)(a,window):a.execute(function(){C(a,window)})})(function(C,y,H){C.register("iba-widgets");C.when("A","lwa-metrics","sc-metrics-api","dashiell-widget-g1mGCV-jsp-rendered").execute(function(a,g,b){function e(a){var d=a.error;a.error=function(a,b){403===a.status?c():"function"===typeof originalError&&d.apply(this,arguments)};u.ajax(a)}function c(){var a=u("#lwa-main").attr("data-lwa-home-url")||
"https://login.amazon.com";y.location.href=a}function d(a){u("#lwaAppDetailPage").find("#lwa-main").hide();u("#lwaAppDetailPage").find("#spinner").show()}function k(a){u("#lwaAppDetailPage").find("#spinner").hide();u("#lwaAppDetailPage").find("#lwa-main").show()}function l(a){e({type:"GET",url:a.url,success:function(d){u("#lwa-main").html(d);k(u("#lwa-main"));"function"===typeof a.success&&a.success()},timeout:75E3,error:function(d,c){"timeout"===c?t("replaceMain","ajaxTimeout"):"function"===typeof a.error?
a.error.apply(this,arguments):y.location.reload();t("replaceMain","ajaxFailed")}})}function n(a){var c=u("#lwa-apps-list"),b=u("#lwa-main");if("true"!==c.attr("data-disabled")){c.attr("data-disabled","true");var e=u(".lwa-apps-list-app-selected").removeClass("lwa-apps-list-app-selected");k(b);Q(!1);d(b);ya(a);a.addClass("lwa-apps-list-app-selected");l({url:a.attr("data-href"),success:function(){c.attr("data-disabled","false");X();g.initPopup();g.initDatepicker();g.initMetrics()},error:function(){a.removeClass("lwa-apps-list-app-selected");
e.addClass("lwa-apps-list-app-selected");ya(e);c.attr("data-disabled","false");k(b)}})}}function d(a){var d=u("<div>").addClass("lwa-loading");a.hide();a.after(d)}function k(a){a.siblings(".lwa-loading").remove();a.show()}function h(a){a.find("input[type!=hidden],textarea,select").first().focus()}function q(a){m(a);a.each(function(){this.reset();u(this).find(".lwa-default-option").click()})}function p(a){u(a).filter(".lwa-replaceable").each(function(a,d){var c;c=d.id;c=null===c?null:c.replace(/\./g,
"\\.");u("#"+c).replaceWith(d)})}function m(a){a.find(".lwa-error-container").empty();a.find(".lwa-error-message-box").hide()}function w(a,d){var c,k=a.find(".lwa-error-container"),e=a.find(".lwa-error-message-box"),l=u("<h4>"),f=u("<ul>").addClass("multiple"),n;try{c=u.parseJSON(d.responseText),c.hasOwnProperty("payload")&&(n=c.statusCode,c=c.payload)}catch(g){c=!1}if(409===n)r(c);else{k.append(l);if(c&&c.errorMessageTitle)if(l.text(c.errorMessageTitle),l=c.errorList,"undefined"!==typeof l){for(c=
0;c<l.length;c++)u("<li></li>").text(l[c].errorMessage).appendTo(f);k.append(f)}else c.errorMarkup&&k.append(c.errorMarkup);else l.text(u("#lwa-main").attr("data-default-error-message"));e.show();b.recordEvent({context:"g11n2i",subcontext:"lwa.setErrors",action:"failed"})}}function t(a,d){b.recordEvent({context:"g1mGCV",subcontext:"lwa."+a,action:d})}function r(a){var d=u("#lwa-template-container > .lwa-write-conflict-template").clone();d.find(".lwa-write-conflict-message").text(a.message);u.AmazonPopover.displayPopover({title:d.attr("data-popover-title"),
localContent:d,location:"centered",width:550,modal:!0,showCloseButton:!1,closeEventExclude:["CLICK_OUTSIDE"],onShow:function(a){u(a).delegate(".lwa-write-conflict-refresh-button","click",function(d){d.preventDefault();a.close();n(u(".lwa-apps-list-app-selected"))})}})}function F(a){"function"===typeof FormData||"object"===typeof FormData?z(a):x(a)}function I(a,d){var c={"/app/add":"app_register","/app/application":"app_save",websiteClient:"website_save","androidClient/add":"android_add","androidClient/save":"android_save",
"iOsClient/add":"ios_add","iOsClient/save":"ios_save"},b;for(b in c)if(-1<a.indexOf(b)){t(c[b],d);break}}function z(a){var d=new XMLHttpRequest;d.open("POST",a.url,!0);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.timeout=75E3;d.ontimeout=function(d){I(a.url,"ajaxTimeout")};d.onreadystatechange=function(b){4===this.readyState&&200===this.status?"function"===typeof a.success&&a.success(this.responseText,d):4===this.readyState&&(403===this.status?c():"function"===typeof a.error&&a.error(d))};
var b=new FormData(a.form);d.send(b)}function x(a){var d="lwa-upload-target-"+L++,b=u('<iframe name="'+d+'">');b.get(0);var k=u(a.form);b.attr("id",d);b.attr("style","display:none");u("body").append(b);k.attr("target",d);b.get(0).onreadystatechange=function(){if("complete"===this.readyState||4===this.readyState)try{var d=b.contents(),k=d.find("body").contents();if(0<k.filter(".lwa-replaceable").length)"function"===typeof a.success&&a.success(k);else{var l=d.text();try{var f=u.parseJSON(l);if(403===
f.status||403===f.statusCode){c();return}if(302===f.statusCode){e({type:"GET",url:f.payload.location,success:function(d,c,b){"function"===typeof a.success&&a.success(d,b)},timeout:75E3,error:function(d,c){"timeout"===c?t("submitMultipartFormIFrame","ajaxTimeout"):"function"===typeof a.error&&a.error(d);t("submitMultipartFormIFrame","ajaxFailed")}});return}}catch(n){}"function"===typeof a.error&&a.error({responseText:l})}b.remove()}catch(g){"function"===typeof a.error&&a.error({responseText:""}),b.remove()}};
k.submit()}function B(a){var d=a.hasClass("lwa-is-appstore-app")&&a.hasClass("lwa-not-self-signed");a.find(".lwa-android-key-property .lwa-edit-input").attr("disabled",d).val("")}function Q(a){var d=u("#lwaAppDetailPage"),c=u("#lwaAppRegistrationForm");a?(c.show(),d.hide()):(c.hide(),d.show())}function ya(a){u("#lwa-apps-list").find("ul").children().find(".a-box").each(function(a,d){u(d).removeClass("a-color-alternate-background")});u(a).find(".a-box").addClass("a-color-alternate-background")}function X(){u("#lwa-create-application-widget-button").show()}
var u=a.$,J=J||{};u("body").delegate(".lwa-apps-list-app","click",function(a){a.preventDefault();a=u(a.target).closest(".lwa-apps-list-app");n(a)});u("body").delegate(".lwa-add-button","click",function(a){a.preventDefault();a=u(a.target).closest(".lwa-list-section");a.addClass("lwa-add-mode");h(a.find(".lwa-add-container form").first())});u("body").delegate(".lwa-cancel-add-button","click",function(a){var d=u(a.target);a.preventDefault();a=d.closest(".a-expander-container");0!=a.find(".lwa-replaceable").length?
d.closest(".lwa-list-section").removeClass("lwa-add-mode"):a.find(".a-expander-header").click();q(d.closest("form"))});u("body").delegate(".lwa-create-button","click",function(a){var c=u(a.target),b=c.closest("form"),e=c.closest(".lwa-list-section");a.preventDefault();m(b);d(b);F({url:b.attr("action"),form:b.get(0),success:function(a){k(b);e.removeClass("lwa-add-mode");e.removeClass("lwa-list-empty");q(b);k(b);var d=e.find(".lwa-list");null!==d&&d.append(a)},error:function(a){k(b);w(b,a);I(this.url,
"ajaxFailed")}})});u("body").delegate(".lwa-website-create-button","click",function(a){var c=u(this),b=c.attr("data-url"),l=c.closest(".lwa-list-section"),f=l.find(".lwa-list"),n=c.find("form input").attr("value"),g=c.closest(".a-expander-prompt");"true"!==c.attr("disabled")&&(a.preventDefault(),c.attr("disabled","true"),g.click(),d(f),m(f),e({url:b,type:"POST",data:{__token_:n},success:function(a){k(f);l.removeClass("lwa-list-empty");null!==f&&f.append(a)},timeout:75E3,error:function(a,d){"timeout"===
d&&t("createWebsite","ajaxTimeout");k(f);w(f,a);c.attr("disabled","false");g.click();t("createWebsite","ajaxFailed")}}))});u("body").delegate(".lwa-edit-button","click",function(a){var d=u(a.target);a.preventDefault();d.closest(".lwa-editable-content").addClass("lwa-edit-mode");h(d.closest("form"))});u("body").delegate(".lwa-cancel-button","click",function(a){a.preventDefault();var d=u(a.target);a=d.closest(".lwa-editable-content");d=d.closest("form");a.removeClass("lwa-edit-mode");a.find(".lwa-edit-new-input").remove();
q(d)});u("body").delegate(".lwa-save-button","click",function(a){a.preventDefault();var c=u(this).closest("form");m(c);d(c);F({url:c.attr("action"),form:c.get(0),success:function(d){k(c);Q(!1);p(d);q(u(a.target).closest("form"));X();u("#lwa-welcome-message").hide();u("#lwa-main").show();Boolean(c.find('input[name="isNewAppCreation"]').val())&&(g.initPopup(),g.initDatepicker(),g.initMetrics())},error:function(a,d){k(c);w(c,a);I(this.url,"ajaxFailed")}})});u("body").delegate("#lwa-tab-settings","mousedown",
function(a){a.preventDefault();u("#lwa-tab-settings").addClass("lwa-tab-active");u("#lwa-tab-metrics").removeClass("lwa-tab-active");u("#lwa-container-metrics").addClass("hide");u("#lwa-container-settings").removeClass("hide")});u("body").delegate("#lwa-tab-metrics","mousedown",function(a){a.preventDefault();u("#lwa-tab-metrics").addClass("lwa-tab-active");u("#lwa-tab-settings").removeClass("lwa-tab-active");u("#lwa-container-settings").addClass("hide");u("#lwa-container-metrics").removeClass("hide");
J&&J.metrics&&J.metrics.displayChart()});J.setErrors=w;u("body").delegate(".lwa-url-widget-add-link","click",function(a){a.preventDefault();a=u(this).closest(".lwa-url-widget");var d=u("<input>"),c=a.attr("data-field-name"),b=a.attr("data-maxlength"),k=a.attr("data-placeholder-value");a.attr("data-remove-link-text");var e=u("<a></a>"),l=u("<li></li>");d.addClass("lwa-url-input").addClass("lwa-edit-input").attr("type","url").attr("name",c).attr("maxlength",b).attr("placeholder",k||"");l.addClass("lwa-edit-new-input").append(d).append(e);
a.find(".lwa-url-widget-add-link-container").before(l);u("#lwa-website-client-cancel-button").hide().show()});var L=0;u("body").delegate(".lwa-appstore-android-switch-button","click",function(a){a=u(this).closest(".lwa-editable-content");a.toggleClass("lwa-is-appstore-app","true"===this.value);B(a)});u("body").delegate(".lwa-self-signed-switch","click",function(a){a=u(this).closest(".lwa-editable-content");a.toggleClass("lwa-not-self-signed","true"!==this.value);B(a)});u("body").delegate("#lwa-apa-banner-do-not-show-again-link",
"click",function(){e({type:"GET",url:u(this).attr("data-closeUrl"),success:function(){u("#lwa-apa-banner-switcher").hide()},timeout:75E3,error:function(a,d){"timeout"===d&&t("closeBanner","ajaxTimeout")}})});u("body").delegate("#lwa-apa-banner-switch-link","click",function(){e({type:"GET",url:u(this).attr("data-getAPAMarketplaceUrl"),cache:!1,dataType:"json",success:function(a){y.location.href=u("#lwa-apa-banner-switch-link").attr("data-setMarketplaceUrl")+a.marketplaceId},timeout:75E3,error:function(a,
d){"timeout"===d&&t("switchBanner","ajaxTimeout")}})});Q(!1);u("body").delegate("#lwa-create-application-widget-button","click",function(a){a.preventDefault();Q(!0);u("#lwa-create-application-widget-button").hide()});u("body").delegate(".lwa-selectable-select-all-button","click",function(a){a.preventDefault();a=u(u(this).closest(".lwa-selectable")).find(".lwa-selectable-value div")[0];if(document.body.createTextRange){var d=document.body.createTextRange();d.moveToElementText(a);d.select()}else if(y.getSelection){var d=
y.getSelection(),c=document.createRange();c.selectNodeContents(a);d.removeAllRanges();d.addRange(c)}})});C.when("A","moment-js","3p-amcharts","jQueryUI-datepicker","dashiell-widget-g1mGCV-jsp-rendered").register("lwa-metrics",function(a,g,b){function e(){var a=[];if(r&&r.graphs)for(var d=0;d<r.graphs.length;d++)r.graphs[d].hidden||a.push(r.graphs[d].valueField);return a}function c(){I=!1;n(e());h()}function d(a){x.update(g(a.startDate),g(a.endDate),!0);c()}function k(){r=new b.AmSerialChart;
r.pathToImages="https://images-na.ssl-images-amazon.com/images/G/01/cs/sellerCS/default/images/amcharts/";r.zoomOutOnDataUpdate=!1;r.zoomOutButton={backgroundAlpha:0};r.zoomOutText="";r.categoryField="date";r.balloon.bulletSize=5;r.minSelectedTime=432E6;r.autoMargins=!1;r.marginLeft=40;r.marginBottom=40;var a=r.categoryAxis;a.parseDates=!0;a.minPeriod="12hh";a.dashLength=2;a.gridAlpha=.1;a.axisColor="#DADADA";a.equalSpacing=!0;r.removeChartCursor();a=new b.ChartCursor;a.cursorPosition="mouse";a.zoomable=
"true";r.addChartCursor(a);l(function(a){var d=new b.ValueAxis;d.axisAlpha=.2;d.dashLength=1;d.integersOnly=!0;r.addValueAxis(d);for(var c=0;c<a.length&&c<t.length;c++){var k=new b.AmGraph;k.valueAxis=d;k.valueField=a[c];k.bullet="round";k.bulletBorderColor="#FFFFFF";k.bulletBorderThickness=2;k.lineThickness=2;k.lineColor=t[c];k.type="line";0!==c&&(k.hidden=!0);r.addGraph(k)}n(a,function(){r.write("lwa-metrics-chart")})})}function l(a){m.ajax({url:q()+"/metrics/list",data:{startDate:x.startDate.valueOf(),
endDate:x.endDate.valueOf()},success:function(d){m("#lwa-metrics-table-list").replaceWith(d);var c=[];m("#lwa-metrics-table-list .lwa-metrics-table-title").each(function(){0===c.length&&m(this).css({color:t[0]});m(this).attr("active-color",t[c.length]);c.push(m(this).attr("metric-name"))});a(c)},error:p})}function n(a,c){if(!a||0===a.length)return!1;z.startLoading();m.ajax({url:q()+"/metrics/data",dataType:"json",traditional:!0,data:{metrics:a,startDate:x.startDate.valueOf(),endDate:x.endDate.valueOf()},
success:function(a){if(a&&a.hasOwnProperty("data")){r.removeListener(r,"zoomed",d);for(var b=0;b<a.data.length;b++)a.data[b].date=new Date(a.data[b].date);F=a.data;r.dataProvider=F;r.validateData();r.zoomOut();r.addListener("zoomed",d);"function"===typeof c&&c();z.doneLoading()}},error:p})}function h(a){z.startLoading();m.ajax({url:q()+"/metrics/totals",dataType:"json",data:{startDate:x.startDate.valueOf(),endDate:x.endDate.valueOf()},success:function(d){if(!d||!d.hasOwnProperty("data")||!d.data)return!1;
d=d.data;m("#lwa-metrics-table-list");for(var c=0;c<d.length;c++)m('.lwa-metrics-table-total[metric-name="'+d[c].metricName+'"]').text(d[c].total);"function"===typeof a&&a(d);z.doneLoading()},error:p})}function q(){return m(m(".lwa-apps-list-app-selected").get(0)).attr("data-href")}function p(a){z.$spinner.hide();w.setErrors(z.$messageContainer,a);z.$closeButton.show();z.open();z.$messageContainer.show()}var m=a.$,w=w||{};w.metrics=w.metrics||{};var t="#FF6600 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #999999 #333333 #DDDDDD #FCD202 #00CC00".split(" "),
r={},F=[],I=!1,z={$closeButton:{},$messageContainer:{},$popup:{},$popupButton:{},$spinner:{},LOADING_TIMEOUT_INTERVAL:2E4,loadingQueue:0,loadingTimeout:null,init:function(){this.$closeButton=m("#lwa-metrics-message-close-button");this.$spinner=m("#lwa-metrics-loading-spinner-container");this.$popup=m("#lwa-metrics-popup-content");this.$messageContainer=m("#lwa-metrics-popup-error")},open:function(){this.$popup.fadeIn("fast").css({"z-index":"50"})},close:function(){this.$popup.fadeOut("fast").css({"z-index":"-1"})},
doneLoading:function(){1===this.loadingQueue?(clearTimeout(this.loadingTimeout),this.loadingQueue=0,this.$spinner.fadeOut("fast"),0===this.$messageContainer.has("h4").length&&this.close()):this.loadingQueue--},startLoading:function(){null!==this.loadingTimeout&&clearTimeout(this.loadingTimeout);0===this.loadingQueue&&(this.open(),0===this.$messageContainer.has("h4").length&&this.$spinner.fadeIn("fast"));this.loadingTimeout=setTimeout(this.doneLoading,this.LOADING_TIMEOUT_INTERVAL);this.loadingQueue++}},
x={startDate:"",endDate:"",update:function(a,d,c){if(r&&r.chartCursor){432E6>=Math.abs(a.valueOf()-d.valueOf())?(r.chartCursor.zoomable=!1,d=Math.abs(d.valueOf()-a.valueOf())/2+a.valueOf(),a=g(d),a.subtract(2,"day").subtract(12,"hour"),d=g(d),d.add(2,"day").add(12,"hour")):r.chartCursor.zoomable=!0;var b=g();d>b&&(b=Math.abs(d.valueOf()-b.valueOf()),d.subtract(b,"millisecond"),a.add(b,"millisecond"))}var b=m("#lwa-metrics-datepicker-endDate"),k=m("#lwa-metrics-datepicker-startDate"),e=g(d).subtract(5,
"days");k.datepicker("option","maxDate",e.format("MM/DD/YY"));e=g(a).add(5,"days");b.datepicker("option","minDate",e.format("MM/DD/YY"));c&&(k.val(a.format("MM/DD/YY")),b.val(d.format("MM/DD/YY")),c=new Date(d),k.datepicker("setDate",new Date(a)),b.datepicker("setDate",c));c=a.format("MM/DD/YY")+" - "+d.format("MM/DD/YY");m("#lwa-metrics-daterange-text").text(c);this.endDate=d;this.startDate=a;I=!0}};m(document).mousedown(function(a){0<m(a.target).closest("#lwa-metrics-daterange-content,.ui-datepicker").length||
(m("#lwa-metrics-daterange-dropdown").slideUp("fast"),I&&c())});m("body").delegate("#lwa-metrics-daterange-button","click",function(a){a.preventDefault();m("#lwa-metrics-daterange-dropdown").slideToggle("fast");m(this).blur()});m("body").delegate(".lwa-metrics-datepicker","change",function(a){a=m("#lwa-metrics-datepicker-endDate").datepicker("getDate");var d=m("#lwa-metrics-datepicker-startDate").datepicker("getDate");x.update(g(d),g(a),!1)});m("body").delegate(".lwa-metrics-checkbox","change",function(a){a.preventDefault();
a=m(this);for(var d=a.attr("metric-name"),b=null,k=0;k<r.graphs.length;k++)if(r.graphs[k].valueField===d){b=r.graphs[k];break}null!==b&&(d=a.siblings(".lwa-metrics-table-title"),a.is(":checked")?(d.css({color:d.attr("active-color")}),r.showGraph(b),c()):(d.css({color:""}),r.hideGraph(b)))});m("body").delegate(".lwa-metrics-daterange-option","change",function(a){m(".lwa-metrics-daterange-option-selected").removeClass("lwa-metrics-daterange-option-selected");m(this).parent(".lwa-metrics-daterange-option-label").addClass("lwa-metrics-daterange-option-selected")});
m("body").delegate(".lwa-metrics-daterange-option-nonreactive","change",function(a){a.preventDefault();I=!0;return!1});m("body").delegate(".lwa-metrics-daterange-option-reactive","change",function(a){a=m(this);m("#lwa-metrics-daterange-dropdown").slideUp("fast");var d=parseInt(a.attr("startDate"),10)||0,b=parseInt(a.attr("endDate"),10)||0,k=a.attr("unit")||"day",e=g();e.add(d,k);e.set({hour:0,minute:0,second:0,millisecond:0});d=g();d.add(b,k);(b=parseInt(a.attr("startDate-day"),10))&&(e=g(e).add(-1,
"month").endOf("month").add(b,"day"));"last"===a.attr("endDate-day")&&(d=g(d).endOf("month"));x.update(e,d,!0);c()});m("body").delegate("#lwa-metrics-export-button","click",function(a){a.preventDefault();a="?format=csv&startDate="+x.startDate.valueOf()+"&endDate="+x.endDate.valueOf();for(var d=e(),c=0;c<d.length;c++)a+="&metrics="+d[c];y.open(q()+"/metrics/export"+a);m("#lwa-metrics-export-dropdown").slideUp("fast")});m("body").delegate("#lwa-metrics-message-close-button","click",function(a){z.close();
z.$closeButton.hide();z.$messageContainer.hide()});return{initPopup:function(){z.init()},initDatepicker:function(){m.datepicker.setDefaults(m.datepicker.regional[""]);m("#lwa-metrics-datepicker-endDate").datepicker({autoSize:!0,showOtherMonths:!0,dateNamesMin:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dateFormat:"mm/dd/y",defaultDate:"+0",maxDate:"+0",minDate:"-7d",inline:!0});m("#lwa-metrics-datepicker-startDate").datepicker({autoSize:!0,showOtherMonths:!0,dateNamesMin:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
dateFormat:"mm/dd/y",defaultDate:"-5d",minDate:"-6m",maxDate:"+0",inline:!0});x.update(g().subtract(1,"week"),g(),!0)},initMetrics:function(){k()}}});C.when("lwa-metrics","ready").execute(function(a){a.initPopup();a.initDatepicker();a.initMetrics()});C.when("A","jQuery","sc-metrics-api","dashiell-widget-g1mGCV-jsp-rendered").register("IBAMerchantPortalWebUIWidgetMetricsHelper",function(a,g,b){var e=function(a,d,k){b.recordEvent({context:a,subcontext:"lwa.".concat(d),action:k})};return{widgetRendered:function(a){e(a,
"initialization","widgetRendered")},widgetRenderingFailed:function(a){e(a,"fail.initialization","widgetRenderingFailed")},recordClick:function(c,d,b){a.declarative(c,"mouseup",function(a){2!==a.which?e(d,b,"linkClicked"):e(d,b,"linkMiddleClicked")})}}});var a={LWAApplicationHomepage:"g11n2i",LWAFindAnswers:"g1mGm1",LWAHeadlines:"g1mGCV",LWAUpsell:"g1mGvV"},h=[];C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","dashiell-widget-g11n2i-jsp-rendered","ready").register("g11n2iWidgetMetrics",function(f){h.push(a.LWAApplicationHomepage);
f.widgetRendered(a.LWAApplicationHomepage)});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","dashiell-widget-g1mGm1-jsp-rendered","ready").register("g1mGm1WidgetMetrics",function(f){h.push(a.LWAFindAnswers);f.widgetRendered(a.LWAFindAnswers)});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","dashiell-widget-g1mGCV-jsp-rendered","ready").register("g1mGCVWidgetMetrics",function(f){h.push(a.LWAHeadlines);f.widgetRendered(a.LWAHeadlines)});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","dashiell-widget-g1mGvV-jsp-rendered",
"ready").register("g1mGvVWidgetMetrics",function(f){h.push(a.LWAUpsell);f.widgetRendered(a.LWAUpsell)});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("appRegistrationMetrics",function(f){f.recordClick("application-register-action",a.LWAApplicationHomepage,"registerNewApplicationButton")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("startHereMetrics",function(f){f.recordClick("payment-documentation-redirect-action",a.LWAUpsell,"startHereButton")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper",
"ready").register("showSecretMetrics",function(f){f.recordClick("show-secret-action",a.LWAApplicationHomepage,"showSecretButton")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("documentationLinkMetrics",function(f){f.recordClick("lwa-developer-resources-documentation-action",a.LWAFindAnswers,"documentationLink")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("supportLinkMetrics",function(f){f.recordClick("lwa-developer-resources-support-action",a.LWAFindAnswers,
"supportLink")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("forumsLinkMetrics",function(f){f.recordClick("lwa-developer-resources-forums-action",a.LWAFindAnswers,"forumsLink")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("faqLinkMetrics",function(f){f.recordClick("lwa-developer-resources-faq-action",a.LWAFindAnswers,"faqLink")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").register("glossaryLinkMetrics",function(f){f.recordClick("lwa-developer-resources-glossary-action",
a.LWAFindAnswers,"glossaryLink")});C.when("IBAMerchantPortalWebUIWidgetMetricsHelper","ready").execute(function(f){setTimeout(function(){for(var g in a)-1===h.indexOf(a[g])&&f.widgetRenderingFailed(a[g])},2E3)})});
/* ******** */
(function(t){var r=window.AmazonUIPageJS||window.P,z=r._namespace||r.attributeErrors,b=z?z("SellerCentralActionCenterUI"):r;b.guardFatal?b.guardFatal(t)(b,window):b.execute(function(){t(b,window)})})(function(t,r,z){t.when("A","jQuery","sellercentralactioncentercard").register("action-center",function(b,a){function l(d){var c=a("#ac-spinner-overlay").children().clone();a(d).prepend(c)}function m(d,c,b,k,u){b=b||a.noop;k=k||a.noop;u=u||a();l(u);a.ajax({url:"/home/action-center/perform-action",type:"POST",
contentType:"application/json",processData:!1,timeout:1E4,tryCount:0,retryLimit:3,data:JSON.stringify(d),success:c,error:function(c,d,k){this.tryCount++;this.tryCount<this.retryLimit?(this.timeout*=2,a.ajax(this)):b(k)},complete:function(c,d){a(u).find(".ac-spinner-overlay-wrapper").remove();k(c,d)}})}function f(d,c,b){if(!c)throw c=a("#empty-content-message").text(),p(c,b),"AC: Argument is null or empty: "+d;}function h(a,c){var d={logLevel:"FATAL",attribution:"ActionCenter",message:a};if(r.ueLogError)try{r.ueLogError(c,
d)}catch(k){d={logLevel:"FATAL",attribution:"ActionCenter",message:"Received an error while trying to log a message -> "+a};try{r.ueLogError(k,d)}catch(b){}}}function g(a,c,d){var k={};k.actionName=a;k.token=c;k.actionParameters=d;return k}function e(a){a.animate({opacity:0,height:0},250,function(){a.remove()})}function h(a,c){var d={logLevel:"FATAL",attribution:"ActionCenter",message:a};if(r.ueLogError)try{r.ueLogError(c,d)}catch(k){d={logLevel:"FATAL",attribution:"ActionCenter",message:"Received an error while trying to log a message -> "+
a};try{r.ueLogError(k,d)}catch(b){}}}function d(d){a.ajax({url:"/hz/sellingcoach/tracking",tryCount:0,retryLimit:3,method:"GET",data:{pageType:"ActionCenter",subPageType:d},timeout:1E4,success:function(){},error:function(c,d,k){this.tryCount++;this.tryCount<this.retryLimit&&(this.timeout*=2,a.ajax(this))}})}function p(a,c){var d=c.find(".ac-error-alert");d.find(".ac-error-alert-message").text(a);d.removeClass("ac-hidden")}a.ajax({url:"/home/action-center/content",method:"GET",timeout:15E3,retryLimit:3,
tryCount:0,cache:!1,success:function(d){a("#ac-spinner").hide();a("#ac-container").append(d)},error:function(d,c,b){h("Error fetching action center content -> "+c,b);this.tryCount++;this.tryCount<this.retryLimit&&(this.timeout*=2,a.ajax(this))}});b.declarative("action-center-snooze","click",function(q){var c=q.$target.closest(".ac-notice");q.$target.prop("disabled",!0);var w=c.find("#notice-token")[0].value;f("notice-token",w,c);var k={};k.dedupeString=w+b.now;w=g("Snooze",w,k);m(w,function(a){e(c);
c.find(".ac-error-alert").addClass("ac-hidden")},function(d){c.find(".ac-error-alert");var k=a("#bsm-snooze-error").text();p(k,c);h("USCW: Unable to snooze task. ",d)},function(){q.$target.prop("disabled",!1)},c);d("Snooze")});b.declarative("action-center-next-page","click",function(b){var c=b.$target.closest(".ac-section"),e=c.find(".ac-rendered-notices");c.find(".ac-pagination-link").hide();c.find(".ac-pagination-spinner").removeClass("ac-hidden");a.ajax({url:"/home/action-center/content/next",
method:"GET",timeout:15E3,retryLimit:3,tryCount:0,cache:!1,data:{nextToken:c.data("next-token")},success:function(d){e.append(d);(d=a(d).filter(".ac-next-token").data("next-token"))?(c.data("next-token",d),c.find(".ac-pagination-link").show()):(c.data("next-token",""),c.find(".ac-pagination-link").hide())},error:function(c,d,b){this.tryCount++;this.tryCount<this.retryLimit&&(this.timeout*=2,a.ajax(this))},complete:function(a,d){c.find(".ac-pagination-spinner").addClass("ac-hidden")}});d("NextPage")});
return{performAction:function(a,c,d,k,b){return m(a,c,d,k,b)},removeNotice:function(a){return e(a)},createActionRequest:function(a,c,d){return g(a,c,d)},getTaskContainer:function(a){return a.$target.closest(".ac-notice")},validateNotEmpty:function(a,c,d){return f(a,c,d)},logError:function(a,c){return h(a,c)},findNoticeToken:function(a){return a.find("#notice-token")[0].value},showErrorMessage:function(a,c){return p(a,c)},hideErrorMessage:function(a){a.find(".ac-error-alert").addClass("ac-hidden")},
sendActionTrackingMessage:function(a){return d(a)}}});t.when("A","jQuery","action-center").register("bsm",function(b,a,l){b.declarative("bsm-start-reply","click",function(a){a=l.getTaskContainer(a);a.find(".bsm-initial").addClass("ac-hidden");a.find(".bsm-reply").removeClass("ac-hidden");l.sendActionTrackingMessage("BSMOpenReply")});b.declarative("bsm-cancel-reply","click",function(a){a=l.getTaskContainer(a);a.find(".bsm-reply").addClass("ac-hidden");a.find(".bsm-initial").removeClass("ac-hidden");
l.sendActionTrackingMessage("BSMCancelReply")});b.declarative("bsm-send-reply","click",function(m){var f=l.getTaskContainer(m);m.$target.prop("disabled",!0);var h=f.find(".bsm-reply-input > textarea")[0].value;l.validateNotEmpty("reply text",h,f);var g=l.findNoticeToken(f);l.validateNotEmpty("notice token",g,f);var e=f.find("#buyer-id")[0].value;l.validateNotEmpty("buyer id",e,f);var d=f.find("#message-id")[0].value;l.validateNotEmpty("message id",d,f);var p=f.find("#message-subject")[0].value;l.validateNotEmpty("message subject",
p,f);var q={};q.messageID=d;q.messageDate=b.now;q.buyerId=e;q.body=h;q.entryPoint="ActionCenter";q.ipAddress="IP_ADDRESS";q.subject=p;h=l.createActionRequest("BSMSendReply",g,q);l.performAction(h,function(a){l.removeNotice(f);l.hideErrorMessage(f)},function(c){var d=a("#bsm-reply-error").text();l.showErrorMessage(d,f);l.logError("AC: Unable to send reply to buyer message. ",c)},function(){m.$target.prop("disabled",!1)},f);l.sendActionTrackingMessage("BSMSendReply")});b.declarative("bsm-no-response-needed",
"click",function(m){var f=l.getTaskContainer(m);m.$target.prop("disabled",!0);var h=l.findNoticeToken(f);l.validateNotEmpty("notice token",h,f);var g=f.find("#message-id")[0].value;l.validateNotEmpty("message id",g,f);var e={};e.messageID=g;e.receivedDate=b.now;e.requiresResponse=!1;h=l.createActionRequest("BSMNoResponseNeeded",h,e);l.performAction(h,function(a){l.removeNotice(f);l.hideErrorMessage(f)},function(d){var b=a("#bsm-remove-error").text();l.showErrorMessage(b,f);l.logError("AC: Unable to remove task. ",
d)},function(){m.$target.prop("disabled",!1)},f);l.sendActionTrackingMessage("BSMNoResponseNeeded")});b.declarative("ac-reply-change","keyup input propertychange",function(a){var b=l.getTaskContainer(a);a=b.find(".bsm-text-counter");b=b.find(".bsm-reply-input > textarea")[0].value;a.text(4E3-b.length)})})});
/* ******** */
(function(e){var b=window.AmazonUIPageJS||window.P,a=b._namespace||b.attributeErrors,c=a?a("MESellerCentralWidgetsUIAssets"):b;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,b,a){a=function(a,b,d){this.widgetId=a;this.widgetName=b;this.linkIds=d;this.renderAndElementsClicks=function(){var a=this;e.when("A","jQuery","MESellerCentralGatewayWidgetMetricsHelper","dashiell-widget-"+this.widgetId+"-jsp-rendered","ready").execute(this.widgetName,function(b,c,d){d.widgetRendered(a.widgetId);
b=a.linkIds.length;for(c=0;c<b;c++)d.bindWidgetElementClick(a.widgetId,a.linkIds[c]);e.register(a.widgetName+"WidgetMetricsReady",function(){return!0})})}};b=[];b.push(new a("g4vcTP","sandboxView",["sc_pyop_sandboxContentExpander"]));b.push(new a("g4vcxU","reports",["sc_pyop_sampleReport","sc_pyop_reportDoc"]));b.push(new a("g4vdim","switchProdView",["sc_pyop_switchMarketplaceButton"]));b.push(new a("g4vcbm","documentation",["sc_pyop_integrationGuide","sc_pyop_apiReferenceGuide"]));b.push(new a("g4E1wI",
"gettingStarted","REGISTER_LWA RETRIEVE_MWS_KEYS INTEGRATE_EXISTING_SITE TEST_INTEGRATION GO_LIVE sc_pyop_switchToLWA sc_pyop_accesskeypage sc_pyop_getmwskeys sc_pyop_contactus sc_pyop_integrationpage sc_pyop_apaguide sc_pyop_testaccount sc_pyop_integrationguide sc_pyop_accountsettings".split(" ")));b.push(new a("fXa77z","helpAndFAQ",["sc_pyop_frequentlyAskedQuestions","sc_pyop_contactUsLink"]));b.push(new a("g3V991","importantDocumentation",["sc_pyop_acceptableUsePolicy","sc_pyop_privacyNotice"]));
b.push(new a("g4vdwe","switchSandboxView",["sc_pyop_switchMarketplaceButton"]));for(a=0;a<b.length;a++)b[a].renderAndElementsClicks();e.when("A","jQuery","sc-metrics-api").register("MESellerCentralGatewayWidgetMetricsHelper",function(a,b,d){return{widgetRendered:function(a){d.recordEvent({context:a,subcontext:"initialization",action:"widgetRendered"})},bindWidgetElementClick:function(a,c){b(document).delegate("#"+c,"mouseup",function(b){d.recordEvent({context:a,subcontext:c,action:"elementClicked"})})}}})});
/* ******** */
(function(h){var v=window.AmazonUIPageJS||window.P,w=v._namespace||v.attributeErrors,c=w?w("SWADigitalOlympusGatewayWidgetUI"):v;c.guardFatal?c.guardFatal(h)(c,window):c.execute(function(){h(c,window)})})(function(h,v,w){h.when("A","a-button","a-modal","a-switch","swa-gateway-constants","swa-gateway-utils","swa-gateway-ajax-utils","swa-gateway-product-utils","swa-pagination","ready").register("swa-product-widget-actions",function(c,k,m,A,b,f,p,n,t){function e(a,d){401===a.status||403===a.status?(f.showSessionTimeoutErrorBanner(),
n.recordEvent("action_error_session_timeout")):(f.showDefaultErrorBanner(),n.recordEvent(d.action+"_"+d.level+"_action_error"))}function r(a,d,l,b){f.showSpinner();p.post({url:a,data:d,success:function(a,b,e){l(d)},error:function(a,l,e,c){b(a,d)},complete:function(){f.hideSpinner()}})}function q(a,d){g(a).find(".a-expander-content:visible").closest(".a-section-expander-container").not(d).find(".a-link-expander").click()}var g=c.$,u=g("#swa-new-product-section-paginated"),z=g("#swa-new-product-section-unpaginated"),
y=g("#swa-product-subscriptions-in-progress-product-list");c.declarative("swa-sellerportal-action-popup-close","click",function(a){f.closePopup(a.data.popupName)});c.declarative("swa-sellerportal-deactivate-popup-close","click",function(a){a=a.data;m.get(g("#swa-popover-"+a.level+"-"+(a.level===b.LEVEL_PRODUCT?a.productId:a.tierId)+"-deactivate-open")).hide()});c.declarative("swa-sellerportal-activate-popup-close","click",function(a){a=a.data;m.get(g("#swa-popover-"+a.level+"-"+(a.level===b.LEVEL_PRODUCT?
a.productId:a.tierId)+"-activate-open")).hide()});c.declarative("swa-sellerportal-product-action","click",function(a){a=a.data;f.closePopup(a.popupName);if(a.productId===b.PRODUCT_NEW&&a.action===b.ACTION_DELETE)n.removeProductWidget(b.PRODUCT_NEW),n.recordEvent("delete_new_product");else{var d={productId:a.productId,action:a.action,level:a.level,origin:b.ORIGIN_GATEWAY};a.action===b.ACTION_DELETE&&(a.level===b.LEVEL_PRODUCT?r(b.PRODUCT_ACTION_ENDPOINT,d,function(a){n.removeProductWidget(a.productId)},
e):a.level===b.LEVEL_TIER&&(d.tierId=a.tierId,r(b.TIER_ACTION_ENDPOINT,d,function(a){n.removeTier(a.productId,a.tierId)},e)),n.recordEvent("delete_"+a.level))}});c.declarative("swa-sellerportal-deactivate-popup-confirm","click",function(a){a=a.data;m.get(g("#swa-popover-"+a.level+"-"+(a.level===b.LEVEL_PRODUCT?a.productId:a.tierId)+"-deactivate-open")).hide();var d={productId:a.productId,action:b.ACTION_DEACTIVATE,level:a.level,offLabel:a.offLabel,onLabel:a.onLabel,origin:b.ORIGIN_GATEWAY,tiers:a.tiers};
a.level===b.LEVEL_PRODUCT?r(b.PRODUCT_ACTION_ENDPOINT,d,function(a){f.showStatusText("swa-product-"+a.productId+"-deactivating",a.productId);for(var d=0;d<a.tiers.length;d++)g("#swa-toggle-switch-"+a.tiers[d].tierId).addClass("swa-toggle-switch-greyed-out")},e):a.level===b.LEVEL_TIER&&(d.tierId=a.tierId,r(b.TIER_ACTION_ENDPOINT,d,function(a){f.showStatusText("swa-tier-"+a.tierId+"-deactivating",a.tierId)},e));n.recordEvent("deactivate_"+a.level)});c.declarative("swa-sellerportal-activate-popup-confirm",
"click",function(a){a=a.data;m.get(g("#swa-popover-"+a.level+"-"+(a.level===b.LEVEL_PRODUCT?a.productId:a.tierId)+"-activate-open")).hide();var d={productId:a.productId,action:b.ACTION_ACTIVATE,level:a.level,offLabel:a.offLabel,onLabel:a.onLabel,origin:b.ORIGIN_GATEWAY,tiers:a.tiers};a.level===b.LEVEL_PRODUCT?r(b.PRODUCT_ACTION_ENDPOINT,d,function(a){f.showStatusText("swa-product-"+a.productId+"-activating",a.productId);for(var d=0;d<a.tiers.length;d++)g("#swa-toggle-switch-"+a.tiers[d].tierId).removeClass("swa-toggle-switch-greyed-out")},
e):a.level===b.LEVEL_TIER&&(d.tierId=a.tierId,r(b.TIER_ACTION_ENDPOINT,d,function(a){f.showStatusText("swa-tier-"+a.tierId+"-activating",a.tierId)},e));n.recordEvent("activate_"+a.level)});c.declarative("swa-sellerportal-action-switch","click",function(a){var d=a.data,l=d.level===b.LEVEL_PRODUCT?d.productId:d.tierId;a=g("#"+a.$target.closest(".swa-toggle-switch").attr("id"));f.toggle(l,d.level,d.onLabel,d.offLabel);f.showSwitchPopup(a,l,d.level)});c.declarative("swa-sellercentral-add-product-action",
"click",function(a){g(y).find("#swa-product-no-existing-products-section").length||u.hasClass("swa-new-product-section-show")||z.hasClass("swa-new-product-section-show")||((a=t.getPagination("#products-in-progress-pagination"))?(a.afterPageChange(function(a){1===a?u.addClass("swa-new-product-section-show").show():u.hide()}),a.setPage(1)):z.addClass("swa-new-product-section-show").show(),k("#swa-product-add-new-product-button").disable(),g("#swa-product-add-new-product-button").removeClass("a-button-focus"),
n.recordEvent("add_product"))});c.declarative("swa-sellercentral-show-all-tiers","click",function(a){a=a.data.productId;g(".swa-product-"+a+"-hidden-row").show();g(".swa-product-"+a+"-hidden-row").addClass("swa-tier-row-unaligned");g("#swa-product-"+a+"-show-all-tiers").remove()});c.declarative("swa-sellercentral-expander-action","click",function(a){a=g("#swa-product-steps-content-"+a.data.productId);a=g(a).find(".swa-tier-row-unaligned");for(var d=0;d<a.size();d++){for(var l=g(a[d]).find(".swa-tier"),
b=0;3>b;b++){var e=f.getMaxHeightOnIthOfferRow(l,b);f.setIthOffersHeight(b,l,e[0],e[1])}g(a[d]).removeClass("swa-tier-row-unaligned")}});h.when("A","swa-pagination","ready").execute(function(a,d){var l=d.getPagination("#products-in-progress-pagination"),b=d.getPagination("#published-product-pagination");l&&l.beforePageChange(function(){q("#swa-product-subscriptions-in-progress-product-list")});b&&b.beforePageChange(function(){q("#swa-published-product-list")});a.on("a:expander:swa-products-in-progress-expander:toggle:expand",
function(a){q("#swa-product-subscriptions-in-progress-product-list",a.expander.$expander)});a.on("a:expander:swa-published-product-expander:toggle:expand",function(a){q("#swa-published-product-list",a.expander.$expander)})})});h.when("A","ready").register("swa-gateway-constants",function(c){return{ORIGIN_GATEWAY:"gateway",PRODUCT_NEW:"new",LEVEL_PRODUCT:"product",LEVEL_TIER:"tier",ACTION_DELETE:"delete",ACTION_DEACTIVATE:"deactivate",ACTION_ACTIVATE:"activate",PRODUCT_ACTION_ENDPOINT:"/swa/dashboard/ajax/productAction",
TIER_ACTION_ENDPOINT:"/swa/dashboard/ajax/tierAction",YOUR_SUBSCRIPTIONS_WIDGET_ID:"gaFxrl"}});h.when("A","a-button","a-switch","swa-gateway-utils","swa-gateway-constants","sc-metrics-api","ready").register("swa-gateway-product-utils",function(c,k,m,h,b,f){var p=c.$;return{removeProductWidget:function(c){c!==b.PRODUCT_NEW?(p("#swa-product-checklist-expander-"+c).remove(),p("#swa-product-removed-"+c).show(),p("#swa-inline-alert-"+c).remove()):(c=p("#swa-new-product-section-unpaginated"),
c.hide(),c.removeClass("swa-new-product-section-show"),c=p("#swa-new-product-section-paginated"),c.hide(),c.removeClass("swa-new-product-section-show"),k("#swa-product-add-new-product-button").enable())},removeTier:function(b,c){var e=p("#swa-tier-removed-"+b+"-"+c),f=e.parent(),k=e.siblings();e.css("height",f.height());e.show();k.remove()},recordEvent:function(c){f.recordEvent({context:b.YOUR_SUBSCRIPTIONS_WIDGET_ID,subcontext:"products",action:c})}}});h.when("A","ready").register("swa-gateway-ajax-utils",
function(c){function k(b){var c=b.error;b.error=function(b,k,m){var e;try{e=JSON.parse(b.responseText)}catch(h){e=w}c(b,k,m,e)};m.ajax(b)}var m=c.$,h=m("#swa-action-token").text();c.declarative("swa-sellerportal-action-reload-page","click",function(b){v.location.reload(!0)});return{post:function(b){b.type="POST";if(h){var c={actionToken:h};m.extend(c,b.data);b.data=c}k(b)},get:function(b){b.type="GET";k(b)}}});h.when("A","a-modal","a-switch","swa-gateway-constants","ready").register("swa-gateway-utils",
function(c,k,m,h){function b(b,c,a,d){b=e("#swa-toggle-switch-"+b);m.getSwitch(b).isOn()?m.getSwitch(b).label(a):m.getSwitch(b).label(d)}function f(){e(u).hide()}function p(){t();f();e(q).show()}function n(){e(q).hide()}function t(){e(g).hide()}var e=c.$,r=e("#swa-dashboard-page-spinner"),q=e("#swa-gateway-default-error-alert"),g=e("#swa-gateway-session-timeout-alert"),u=e("#swa-gateway-page-alert");return{closePopup:function(b){(b=k.get(b))&&b.hide()},showSpinner:function(){e(r).show()},hideSpinner:function(){e(r).hide()},
toggle:function(c,f,a,d){var l=e("#swa-toggle-switch-"+c);m.getSwitch(l).toggle();b(c,f,a,d)},toggleLabel:b,showStatusText:function(b,c){e("#swa-toggle-switch-"+c).remove();e("#"+b).removeClass("swa-dashboard-hidden")},showSwitchPopup:function(b,c,a){m.getSwitch(b).isOn()?k.get(e("#swa-popover-"+a+"-"+c+"-deactivate-open")).show():k.get(e("#swa-popover-"+a+"-"+c+"-activate-open")).show()},showDefaultErrorBanner:p,hideDefaultErrorBanner:n,showSessionTimeoutErrorBanner:function(){n();f();e(g).show()},
hideSessionTimeoutErrorBanner:t,showAlertBanner:function(b){b&&b.alert?(n(),t(),e(u).html(b.alert),e(u).show()):p()},hideAlertBanner:f,hideAllBanners:function(){n();t();f()},setIthOffersHeight:function(b,c,a,d){for(var l=0;l<c.size();l++){var x=e(c[l]).find(".swa-offer-row");e(x[b]).height(0===e(x[b]).outerHeight(!0)?d:a)}},getMaxHeightOnIthOfferRow:function(b,c){for(var a=Number.MIN_VALUE,d=Number.MIN_VALUE,l=0;l<b.size();l++)var x=e(b[l]).find(".swa-offer-row"),a=Math.max(a,e(x[c]).height()),d=
Math.max(d,e(x[c]).outerHeight(!0));return[a,d]}}});h.when("A","ready").register("swa-pagination",function(c){return{getPagination:function(k){function m(a){var b=d.data("pagination-state"),c=b.itemsPerPage,e=c*(a-1);a=a===b.numPages?d.data("pagination-state").numItems-1:e+c-1;for(b=[];e<=a;e++)b.push(e);return b}function h(b){return a(a(b).parents(".swa-pagination")).is("#"+d.attr("id"))}function b(b){var c=d.data("pagination-state"),e=d.find(".swa-pagination-nav-left-arrow"),f=d.find(".swa-pagination-nav-right-arrow"),
g=d.find(".swa-pagination-nav-selected"),h=a(d.find(".swa-pagination-nav-number")[b-1]);1===b?e.addClass("swa-pagination-arrow-disabled"):e.removeClass("swa-pagination-arrow-disabled");b===c.numPages?f.addClass("swa-pagination-arrow-disabled"):f.removeClass("swa-pagination-arrow-disabled");g.removeClass("swa-pagination-nav-selected");h.addClass("swa-pagination-nav-selected")}function f(){var b=a(".swa-pagination-nav-number"),d=a(".swa-pagination-nav-left-arrow"),e=a(".swa-pagination-nav-right-arrow");
c.declarative.remove(b,"swa-pagination-nav-number");c.declarative.remove(d,"swa-pagination-nav-left");c.declarative.remove(e,"swa-pagination-nav-right")}function p(c){var e=d.data("pagination-state");if(c>e.numPages||1>c)return!1;e.$items.hide();m(c).forEach(function(b){a(e.$items[b]).show()});e.currentPage=c;b(c);return!0}function n(){f();c.declarative("swa-pagination-nav-left","click",function(a){a=a.$event;h(a.target)&&(a.preventDefault(),e())});c.declarative("swa-pagination-nav-right","click",
function(a){a=a.$event;h(a.target)&&(a.preventDefault(),r())});c.declarative("swa-pagination-nav-number","click",function(a){var b=a.$event;a=a.data;h(b.target)&&(b.preventDefault(),q(a.pageNumber))})}function t(a){if(!a.data("pagination-state")){var b=a.find(".swa-pagination-item"),c=parseInt(a.attr("numItems"),10),d=parseInt(a.attr("itemsPerPage"),10),e=parseInt(a.attr("startPage"),10),f=parseInt(a.attr("numPages"),10);a.data("pagination-state",{$items:b,numItems:c,itemsPerPage:d,numPages:f});q(e);
n()}}function e(){var a=d.data("pagination-state").currentPage-1;return q(a)}function r(){var a=d.data("pagination-state").currentPage+1;return q(a)}function q(a,b){var c=d.data("pagination-state"),e=0;c.beforePageChange&&(c.beforePageChange(c.currentPage),e=50);setTimeout(function(){var d=p(a);c.afterPageChange&&c.afterPageChange(a);b&&b(d)},e)}function g(){return d.data("pagination-state").currentPage}function u(){return d.data("pagination-state").numPages}function w(a){d.data("pagination-state").afterPageChange=
a}function y(a){d.data("pagination-state").beforePageChange=a}var a=c.$;k.jquery||(k=a(k));if(0!==k.length){var d=k=k.eq(0);t(d);d.show();a(v).resize(function(){t(d)});return{prevPage:e,nextPage:r,setPage:q,getCurrentPage:g,getPageCount:u,beforePageChange:y,afterPageChange:w}}}}});h.when("swa-pagination","ready").execute(function(c){c.getPagination("#published-product-pagination");c.getPagination("#products-in-progress-pagination")})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("SellerReportingOlympusGatewayWidgetAssets"):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){d.when("A","jQuery","sc-metrics-api","dashiell-widget-fti8vf-jsp-rendered","ready").register("seller-reporting-metrics",function(b,d,e){var c=function(a,b){var c=b.$event;if("mousedown"===c.type){var d={context:"fti8vf",subcontext:a,action:"unknown"};switch(c.which){case 1:d.action=
"linkClicked";break;case 2:d.action="linkMiddleClicked";break;case 3:d.action="linkRightClicked"}e.recordEvent(d)}};b.declarative("bsm-inbox-total","mousedown",function(a){c("bsm-inbox-total",a)});b.declarative("a2z-claims-total","mousedown",function(a){c("a2z-claims-total",a)});b.declarative("chargeback-claims-total","mousedown",function(a){c("chargeback-claims-total",a)});b.declarative("bsm-cmin-wper-home","mousedown",function(a){c("bsm-cmin-wper-home",a)});b.declarative("bsm-under-24-target","mousedown",
function(a){c("bsm-under-24-target",a)});b.declarative("bsm-over-24-target","mousedown",function(a){c("bsm-over-24-target",a)});b.declarative("customer-feedback-12mo","mousedown",function(a){c("customer-feedback-12mo",a)});b.declarative("customer-feedback-lifetime","mousedown",function(a){c("customer-feedback-lifetime",a)});b.declarative("account-health-header","mousedown",function(a){c("account-health-header",a)});e.recordEvent({context:"fti8vf",subcontext:"initialization",action:"widgetRendered"})})});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,a=f?f("ManageYourOrdersOlympusWidgetAssets"):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,f){c.when("A","jQuery","sc-metrics-api","dashiell-widget-fxmXCT-jsp-rendered","ready").register("manage-orders-metrics",function(a,c,d){var b=function(a,c){var b=c.$event;if("mousedown"===b.type){var e={context:"fxmXCT",subcontext:a,action:"unknown"};switch(b.which){case 1:e.action=
"linkClicked";break;case 2:e.action="linkMiddleClicked";break;case 3:e.action="linkRightClicked"}d.recordEvent(e)}};d.recordEvent({context:"fxmXCT",subcontext:"initialization",action:"widgetRendered"});a.declarative("myo-alertLink","mousedown",function(a){b("alertLink",a)});a.declarative("myo-actionItemLink","mousedown",function(a){b("actionableLink",a)});a.declarative("myo-mfnQuickLinks","mousedown",function(a){b("sellerFulfilled",a)});a.declarative("myo-fbaQuickLinks","mousedown",function(a){b("fulfilledByAmazon",
a)});a.declarative("myo-summaryLink","mousedown",function(a){b("viewYourOrders",a)})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SalesSummaryGatewayWidgetAssets"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","jQuery","sc-metrics-api","dashiell-widget-fmTsLK-jsp-rendered","ready").register("sales-summary-metrics",function(a,b,c){c.recordEvent({context:"fmTsLK",subcontext:"initialization",action:"widgetRendered"});a.declarative("salesSummary-viewMoreSales","mousedown",function(a){a=
a.$event;if("mousedown"===a.type){var b={context:"fmTsLK",subcontext:"viewMoreSales",action:a};switch(a.which){case 1:b.action="linkClicked";break;case 2:b.action="linkMiddleClicked";break;case 3:b.action="linkRightClicked";break;default:b.action="unknown"}c.recordEvent(b)}})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("BrandSupportGatewayWidgetAssets"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","jQuery","sc-metrics-api").register("brandsupport:widget:metrics:helper",function(a,b,c){var e=function(a,b,e){c.recordEvent({context:a,subcontext:b,action:e})};return{recordBrandSupportWidgetClick:function(a,b){2!==b?(console.debug("brand support widget linkClicked for "+
a),e("gcPH92",a,"linkClicked")):(console.debug("brand support widget linkMiddleClicked for "+a),e("gcPH92",a,"linkMiddleClicked"))},brandSupportWidgetRendered:function(){console.debug("brand support widget rendered");e("gcPH92","initialization","widgetRendered")}}});b.when("A","jQuery","brandsupport:widget:metrics:helper","brandsupport:widget:rendered","ready").register("brandsupport:widget:metrics:setup",function(a,b,c){b.each(["brandSupportWidgetContactUsLink","brandSupportWidgetViewCaseLogLink",
"brandSupportWidgetContactUsLinkInText"],function(a,d){b("#"+d).bind("mouseup",function(a){c.recordBrandSupportWidgetClick(d,a.which)})});c.brandSupportWidgetRendered()})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("BrandProtectionGatewayWidgetAssets"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","jQuery","sc-metrics-api").register("brandprotection:widget:metrics:helper",function(a,b,c){var f=function(e,a,b){c.recordEvent({context:e,subcontext:a,action:b})};return{recordBrandProtectionWidgetClick:function(a,b){2!==b?(console.debug("brand protection widget linkClicked for "+
a),f("ge0H33",a,"linkClicked")):(console.debug("brand protection widget linkMiddleClicked for "+a),f("ge0H33",a,"linkMiddleClicked"))},brandProtectionWidgetRendered:function(){console.debug("brand protection widget rendered");f("ge0H33","initialization","widgetRendered")}}});b.when("A","jQuery","brandprotection:widget:metrics:helper","brandprotection:widget:rendered","ready").register("brandprotection:widget:metrics:setup",function(a,b,c){b.each("brandProtectionWidgetReportAViolationLink ge0H33_CaseLogLink ge0H33_FeedbackLink ge0H33_BrandSupportContactUsLink ge0H33_EnrollLink ge0H33_RAVReportAViolationLink".split(" "),
function(a,e){var d=b("#"+e);0<d.length&&d.bind("mouseup",function(a){a.which&&c.recordBrandProtectionWidgetClick(e,a.which)})});c.brandProtectionWidgetRendered()})});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,a=f?f("BrandedPackagingAdWidgetAssets"):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,f){c.when("A","jQuery","sc-metrics-api","dashiell-widget-fZMj0t-jsp-rendered","ready").register("AdWidgetMetrics",function(a,c,d){var b=function(a,c){var b=c.$event;if("mouseup"===b.type){var e={context:"fZMj0t",subcontext:a,action:"unknown"};switch(b.which){case 1:e.action="linkClicked";
break;case 2:e.action="linkMiddleClicked";break;case 3:e.action="linkRightClicked"}d.recordEvent(e)}};d.recordEvent({context:"fZMj0t",subcontext:"initialization",action:"widgetRendered"});a.declarative("polybag-clicked","mouseup",function(a){b("polybagClicked",a)});a.declarative("corrugated-boxes-clicked","mouseup",function(a){b("corrugatedBoxesClicked",a)});a.declarative("tapes-and-supplements-clicked","mouseup",function(a){b("tapesAndSupplementsClicked",a)});a.declarative("discover-all-packing-items-clicked",
"mouseup",function(a){b("discoverAllPackingItemsClicked",a)});a.declarative("check-prices-clicked","mouseup",function(a){b("checkPricesClicked",a)})})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("AmazonLendingWidgetAssets"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","jQuery","sc-metrics-api","dashiell-widget-fz49m2-jsp-rendered").execute("LendingWidgetMetrics",function(b,a,c){var d=function(a,b,d){c.recordEvent({context:a,subcontext:b,action:d})};d("fz49m2","initialization","widgetRendered");a("#lending-learn-more").delegate("a","mouseup",
function(a){d("fz49m2","learnMore","clicked")});a("#lending-register-now").delegate("a","mouseup",function(a){d("fz49m2","registerNow","clicked")});a("#lending-logo").delegate("a","mouseup",function(a){d("fz49m2","logo","clicked")})})});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("BrandStatusGatewayWidgetAssets"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","jQuery","sc-metrics-api").register("brandstatus:widget:metrics:helper",function(a,b,c){var e=function(f,a,b){c.recordEvent({context:f,subcontext:a,action:b})};return{recordBrandStatusWidgetClick:function(a,b){2!==b?(console.debug("brand status widget linkClicked for "+a),
e("geqevP",a,"linkClicked")):(console.debug("brand status widget linkMiddleClicked for "+a),e("geqevP",a,"linkMiddleClicked"))},brandStatusWidgetRendered:function(){console.debug("brand status widget rendered");e("geqevP","initialization","widgetRendered")}}});b.when("A","jQuery","brandstatus:widget:metrics:helper","brandstatus:widget:rendered","ready").register("brandstatus:widget:metrics:setup",function(a,b,c){b("#brandEnrollmentLink").bind("mouseup",function(a){c.recordBrandStatusWidgetClick("#brandEnrollmentLink",
a.which)});c.brandStatusWidgetRendered()})});
/* ******** */
(function(e){var h=window.AmazonUIPageJS||window.P,k=h._namespace||h.attributeErrors,a=k?k("MEWSOlympusWidgetUI"):h;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,h,k){e.when("A","sc-metrics-api","ready","dashiell-widget-glKEIi-jsp-rendered").register("mewsMetricsHelper",function(a,e){var b=function(c,a){e.recordEvent({context:"glKEIi",subcontext:c,action:a})};b("glKEIi","initialization","widgetRendered");var d={"deprecation-pay-with-amazon":'#widget-glKEIi a[href*="/preregistration/lpa?ld=EMUKCD"]',
"deprecation-frequently-asked-questions":'#widget-glKEIi a[href*="/help/200227290"]',"performance-notifications-link":'#widget-glKEIi a[href*="/gp/customer-experience/perf-notifications.html"]',"listing-status-reactivate":'#widget-glKEIi a[href*="/gp/on-board/configuration/global-listing/index.html"]',"mx-tax-info-account-info":'#widget-glKEIi a[href*="/hz/account-info/rfc-info"]',"porsche-account-info":'#widget-glKEIi a[href*="/gp/on-board/configuration/index.html/ref=cb_onconfig_cont_acctinfo"]',
"porsche-mews-home":'#widget-glKEIi a[href*="/gp/seller/configuration/account-info-page.html/ref=cb_acctinfo_mews_home"]',"tax-status-mews-home":'#widget-glKEIi a[href*="/gp/on-board/tims/index.html/ref=ag_taxintv_mews_home"]',"tax-status-help":'#widget-glKEIi a[href*="/gp/help/help-popup.html/"]',"tokusho-status-account-info":'#widget-glKEIi a[href*="/gp/express-boarding/account-info/components/componentgrouping.html"]',"tokusho-help":'#widget-glKEIi a[href*="/gp/help/201628950"]',"valid-to-sell-contact-us":'#widget-glKEIi a[href*="/gp/contact-us/contact-amazon-form.html?urlStr=%2Fgp%2Fseller%2Fconfiguration%2Faccount-info-page.html"]',
"valid-to-sell-help":'#widget-glKEIi a[href*="/gp/help/200692120"]'},g=function(c){a.declarative(c,"mouseup",function(a){a=a.$event.which;2===a?b(c,"linkMiddleClicked"):3===a?b(c,"linkRightClicked"):b(c,"linkClicked")});a.declarative.create(a.$(d[c]),c,{allowLinkDefault:!0})},f;for(f in d)1===a.$(d[f]).length&&g(f);return{}});e.when("A","sc-gateway-mews","ready").execute("sc-gateway-mews-placement",function(a,e){var b=a.$;(function(){var d=b("#gw-mews-two"),g="",f=e.mewsAlerts;1>f.length||
(0===b("#widget-glKEIi").length&&d.html('<div id="widget-glKEIi" class="sc-widget-box sc-widget-alert-warning"><div class="a-section sc-widget-content"></div></div>'),d=d.find(".sc-widget-content"),a.each(f,function(a){var d=g;a="undefined"===typeof a?"":b("<div>").html(a).text();g=d+("<p>"+a+"</p>")}),b(d).append(g))})()});e.when("A","sc-metrics-api","ready","dashiell-widget-glKEIi-jsp-rendered","sc-gateway-mews-placement").register("oldMewsMetricsHelper",function(a,e){var b=function(a,
b){e.recordEvent({context:"glKEIi",subcontext:a,action:b})};b("glKEIi","initialization","widgetRendered");var d={"cws-check-manage-your-orders":'a[href*="/gp/orders-v2/list"]',"andon-cord-shipping-queue":'a[href*="/gp/ssof/shipping-queue.html"]',"pending-address-authorize":'a[href*="/gp/communication-manager/address-authorization.html"]',"bulk-migration-business-solution-agreement":'a[href*="/gp/seller/registration/participationAgreement.html"]',"bulk-migration-help-fee-schedule-201858160":'a[href*="/gp/help/201858160"]',
"bulk-migration-help-fee-schedule-200336920":'a[href*="/gp/help/200336920"]',"bulk-migration-learn-more-202035910":'a[href*="/help/202035910"]',"bulk-migration-learn-more-202090660":'a[href*="/help/202090660"]',"bulk-migration-account-info":'a[href*="/gp/express-boarding/account-info/components/seamlessmigration.html"]'},g=function(c){a.declarative(c,"mouseup",function(a){a=a.$event.which;2===a?b(c,"linkMiddleClicked"):3===a?b(c,"linkRightClicked"):b(c,"linkClicked")});a.declarative.create(a.$(d[c]),
c,{allowLinkDefault:!0})},f;for(f in d)1===a.$(d[f]).length&&g(f);return{}})});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,l=k._namespace||k.attributeErrors,c=l?l("BrandPollingWidgetUIAssets"):k;c.guardFatal?c.guardFatal(h)(c,window):c.execute(function(){h(c,window)})})(function(h,k,l){h.when("A","jQuery","br-brand-polling-widget-utils","a-button","br-brand-polling-widget").execute(function(c,a,g,f){a("#br_bpw_question_type").val();var b=f("#br_bpw_submit_button");0!==a("#br_bpw_custom_response").length&&(g.updateCharCounter(),g.toggleCustomTextBox());g.toggleSubmitButton(b);
c.declarative("br-bpw-widget-action","keyup click change",function(d){0!==a("#br_bpw_custom_response").length&&(g.updateCharCounter(),g.toggleCustomTextBox());g.toggleSubmitButton(b)});c.declarative("br-bpw-submit-button","click",function(a){b.isEnabled()&&(b.disable(),g.submitPoll())})});h.when("A","jQuery","a-button","br-brand-polling-widget").register("br-brand-polling-widget-utils",function(c,a,g){var f={updateCharCounter:function(){var b=a("#br_bpw_textarea_char_counter"),d=a("#br_bpw_custom_response"),
e=d.attr("maxLength"),d=d.val().length,e=e-d;0>e&&(e=0);b.text(e)},toggleSubmitButton:function(b){"text"===a("#br_bpw_question_type").val()&&a("#br_bpw_custom_response").val().trim()||a('input[name="br_bpw_response_options"]:checked').length?b.enable():b.disable()},toggleCustomTextBox:function(){var b=a("#br_bpw_question_type").val(),d=a('input[name="br_bpw_response_options"]:checked');"text"!==b&&0===d.length?(a("#br_bpw_custom_response").val(""),a("#br_bpw_custom_response").attr("disabled",!0)):
a("#br_bpw_custom_response").prop("disabled")&&a("#br_bpw_custom_response").attr("disabled",!1)},submitPoll:function(){var b=a("#br_bpw_associated_brand").val().trim(),d=a("#br_bpw_question_type").val(),e=this.preparePollAnswerList(),c=a("#br_bpw_question_id").val().trim();0<e.length?(a("#br_bpw_popover_loading").removeClass("a-hidden"),a.ajax({type:"POST",dataType:"text",url:"/home/brandpollingwidget/submit-poll",data:{pollQuestionId:c,pollAnswerList:JSON.stringify(e),questionType:d,associatedBrandAndRoles:b},
success:function(b){f.toggleQuestion();a("#br_bpw_poll_stats").html(b)},error:function(){f.showServiceErrorInPoll()}})):f.showErrorInPoll()},preparePollAnswerList:function(){var b=[],d={},e=a("#br_bpw_question_type").val(),c="",g=a("#bpw_poll_has_custom_string").val();0!==a("#br_bpw_custom_response").length&&a("#br_bpw_custom_response").val().trim()&&(c=a("#br_bpw_custom_response").val().trim());if("text"===e&&c)d.customString=c,b[0]=d;else{for(var e=a('input[name="br_bpw_response_options"]:checked'),
f=0;f<e.length;f++){var h=e[f].value,d={};d.pollOptionId=h;b[f]=d}g&&(b[0].customString=c)}return b},toggleQuestion:function(){a("#br_bpw_alert_message").hide();a("#br_bpw_sellerpollservice_error").hide();a("#br_bpw_poll_question").hide();a("#br_bpw_submit_button_container").hide();a("#br_bpw_success_thankyou").show();a("#br_bpw_poll_stats").show()},showErrorInPoll:function(){a("#br_bpw_poll_question").show();a("#br_bpw_submit_button_container").show();a("#br_bpw_success_thankyou").hide();a("#br_bpw_poll_stats").hide();
a("#br_bpw_alert_message").show()},showServiceErrorInPoll:function(){a("#br_bpw_poll_question").hide();a("#br_bpw_submit_button_container").hide();a("#br_bpw_success_thankyou").hide();a("#br_bpw_poll_stats").hide();a("#br_bpw_sellerpollservice_error").show()}};return f})});
/* ******** */
