(function(J){var E=window.AmazonUIPageJS||window.P,B=E._namespace||E.attributeErrors,e=B?B("SellerPartnerAthenaUIAssets"):E;e.guardFatal?e.guardFatal(J)(e,window):e.execute(function(){J(e,window)})})(function(J,E,B){ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history").register("spaui-ajax",function(e,g,k,c){var a={get:function(b,c,h,p){a.core("GET",b,c,h,p)},post:function(b,c,h,p){a.core("POST",b,c,h,p)},core:function(a,b,h,p,f){h=e.$.extend({url:b,data:"",dataType:B,payload:{},method:a,
type:a},h);e.$.ajax(h).done(function(a,b,c){e.$.isFunction(p)&&(h.payload.data=a,p(h.payload))}).fail(function(a,d){g.handleSigninRedirect(a.status)?k.send({from:c.getFrom(),where:"someAjaxRequest",to:"responseWasLoginPage",additionalObj:{url:b,statusCode:a.status}}):e.$.isFunction(f)&&(h.payload.data=a,h.payload.errorStatus=d,f(h.payload))})},mockGet:function(c,e,h,p,f,l){b.get=a.mockCore(c,e,h,p,f)},mockPost:function(c,e,h,p,f,l){b.post=a.mockCore(c,e,h,p,f)},mockCore:function(a,b,c,p,f,l){return function(r,
m,v,g){var u=function(){var f=e.$.extend({},m.payload,{data:b});r.match(a)&&(l!==B&&l(m),e.$.isFunction(p)&&p(r,m,v,g),c?e.$.isFunction(g)&&g(f):e.$.isFunction(v)&&v(f))};f?setTimeout(u,f):u()}},mockFailedGet:function(c,e,h){b.get=a.mockFailedCore(c,e,h)},mockFailedPost:function(c,e,h){b.post=a.mockFailedCore(c,e,h)},mockFailedCore:function(a,b,c){return function(p,f,l,r){f=e.$.extend({},f.payload,{data:b,errorStatus:c});p.match(a)&&e.$.isFunction(r)&&r(f)}}},b={get:a.get,post:a.post,mockGet:a.mockGet,
mockPost:a.mockPost,mockFailedGet:a.mockFailedGet,mockFailedPost:a.mockFailedPost};return b});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-theming","spaui-history","spaui-content","spaui-ui","spaui-push-notification","spaui-events","spaui-discovery","spaui-state","spaui-async","spaui-grouped-alerts","spaui-eci-widget","spaui-alert-metrics","spaui-alert-util").register("spaui-alerts",function(e,g,k,c,a,b,d,n,h,p,f,l,r,m,v,w){var u={},x={parentRequestId:null,athenaInitializedWithoutSummon:!1,
onInfoCard:!1,isInfoCardLoaded:!1,alertLoaded:!1,alertFlushed:!1,marketplaceId:null,overrideContext:null,overrideAlertId:null,alertContent:null,shinyCount:0,alertHandles:[],displacedMastheads:[]},A={ALERT_HIGH:{priority:0,ariaLabel:"Urgent notification",showCount:!0},ALERT_MEDIUM:{priority:1,ariaLabel:"Important notification",showCount:!0},EXTERNAL:{priority:2,ariaLabel:"External Notification",showCount:!1},INFORMATION:{priority:3,ariaLabel:"Information alert",showCount:!1},OPPORTUNITY:{priority:4,
ariaLabel:"Opportunity alert",showCount:!1}},t={init:function(a){x.marketplaceId=e.state("spaui-state").marketplaceID||e.state("spaui-state").marketplaceId;t.hydrate(a);t.bind()},hydrate:function(a){u.spaui=a;u.gatewayHelpLink=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");u.templateHolder=e.$("#spaui-template-shiny-object");h.subscribeAsyncModuleEvent("alerts",l.LOADED_EVENT,t.onLoad);h.subscribeAsyncModuleEvent("alerts",l.COMPLETED_EVENT,t.onCompleteLoad);h.subscribe(h.getName("newPage"),
t.onNewPage);h.subscribe(h.getName("initializedWithoutSummon"),t.onInitialize);h.subscribe(h.getName("dismissed"),t.onAthenaDismissed);p.register("alerts","info",!1,t.firstDiscovery);a={simpleRegister:t.registerSimpleAlert,customRegister:t.registerAlert};m.registerHandles(a);r.registerHandles(a);t.registerSimpleAlert(function(){return!0},k.getContext("alert"),k.getContext("pushNotification"))},registerSimpleAlert:function(a,b,c,l){t.registerAlert(a,t.createInstrumentClosure(v.discover,b,c),t.createInstrumentClosure(v.read,
b,c),t.createInstrumentClosure(v.dismiss,b,c),t.createInstrumentClosure(v.minimize,b,c),l)},createInstrumentClosure:function(a,b,c){return function(l){a(b,c,w.getAlertDetails(l))}},registerAlert:function(a,b,c,l,m,d){x.alertHandles.push({checkFunc:a,onDiscover:b,onOpen:c,onDismiss:l,onMinimize:m,pushConfig:d})},onLoad:function(a){x.alertLoaded=!0;x.alertContent=a?a:u.spaui.find(".spaui-alerts");0>=e.$(x.alertContent).find(".spaui-alert").length&&t.instrumentNoAlertsToShow(k.getContext("alert"),{});
t.attemptMastheadDisplay()},onInitialize:function(){x.athenaInitializedWithoutSummon=!0;t.attemptMastheadDisplay()},onAthenaDismissed:function(){x.onInfoCard=!1;x.athenaInitializedWithoutSummon=!0;t.attemptMastheadDisplay()},attemptMastheadDisplay:function(){if(!(x.onInfoCard||w.isAlertsHidden()||w.alertsAreSuppressed())&&x.alertLoaded&&x.athenaInitializedWithoutSummon&&null!==x.alertContent){var a=e.$(x.alertContent);x.shinyCount=a.data("shiny-count");a=a.find(".spaui-alert");if(0<a.length){x.alertContent=
null;var b=t.getPushNotificationConfig(a);a.data("is-push")&&!1!==b?t.displayPushNotification(a):t.displayShinyObjectAlert(a)}}},onNewPage:function(a){a.type===b.getPageType("info")&&t.dynamicHydrate()},onCompleteLoad:function(){x.alertFlushed=!0;h.publish(h.getName("alertsLoaded"));t.dynamicHydrate();if(w.isAlertsHidden()||w.alertsAreSuppressed())if(u.alerts.hide(),u.viewNotificationCardLink.hide(),w.isAlertsHidden())return;if(t.isTimeToDiscover())t.onDiscover()},dynamicHydrate:function(){u.alerts=
u.spaui.find("#spaui-content .spaui-alerts");u.viewNotificationCardLink=u.spaui.find(".spaui-view-notification-card");u.alerts.find(".spaui-alert").each(function(){var a=e.$(this),b=t.getIconTemplate(a),a=a.find(".spaui-alert-badge"),b=b.find(".spaui-alert-icon");a.empty();a.append(b.clone())})},bind:function(){u.spaui.delegate(".spaui-alert-toggle","click",t.toggle);u.spaui.delegate(".spaui-alert-dismiss","click",t.dismiss);u.spaui.delegate(".spaui-alert-load-all","click",t.loadAllHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-load-all",
"click",t.pushNotificationLoadAll)},toggle:function(a){a.preventDefault();a=e.$(a.currentTarget);var b=w.getAlertFromChild(a);a.hasClass("spaui-alert-toggle-closed")?(a.removeClass("spaui-alert-toggle-closed").addClass("spaui-alert-toggle-open"),a.parent().find(".spaui-alert-content").css("display","block"),g.updateScrollTop(a,70),t.callAlertHandle("onOpen",b)):(a.removeClass("spaui-alert-toggle-open").addClass("spaui-alert-toggle-closed"),a.parent().find(".spaui-alert-content").css("display","none"),
t.callAlertHandle("onMinimize",b))},dismiss:function(a){a.preventDefault();e.$("#spaui-alerts-icon").remove();u.gatewayHelpLink.css("padding-right","");a=w.getAlertFromChild(e.$(a.currentTarget));t.callAlertHandle("onDismiss",a);w.hideSingleAlert(w.getAlertDetails(a).id)},loadAllHandle:function(a,b){a.preventDefault();t.displayAllAlerts({where:b?k.getContext("pushNotification"):k.getContext("alert")})},displayAllAlerts:function(c){d.getVisible()||d.summoner({});var l=a.getAthenaUrlPrefix()+"athena-all-alerts?requestId="+
k.incrementChildRequestId();b.placeEndpoint("alerts",f.enhanceUrl(l),function(b){k.send(e.$.extend({from:a.getFrom(),where:k.getContext("alert"),to:k.getPlace("alerts")},c));t.onLoadAllAlerts({})})},pushNotificationLoadAll:function(a){t.loadAllHandle(a,!0)},onLoadAllAlerts:function(a){t.loadAllDiscover(a);t.loadAllRead(a)},loadAllDiscover:function(a){var b=[];e.$(".spaui-alerts-all .spaui-alert-info:visible").each(function(){b.push(g.gda(this,"id"))});0>=b.length?t.instrumentNoAlertsToShow(k.getContext("allAlerts"),
a):v.massDiscover(k.getContext("allAlerts"),b,a);t.dynamicHydrate()},loadAllRead:function(a){var b=[];e.$(".spaui-alerts-all .spaui-alert-info.spaui-alert-fixed").each(function(){b.push(g.gda(this,"id"))});0<b.length&&v.massRead(k.getContext("allAlerts"),b,a)},onDiscover:function(){var b=u.alerts.find(".spaui-alert");if(0<b.length&&!w.isAlertsHidden()){var l=u.shinyIcon===B?B:parseInt(u.shinyIcon.data("priority"),10);c.shouldHideAlerts(l)||w.alertsAreSuppressed()?(b=w.getAlertDetails(b),k.send({from:a.getFrom(),
where:k.getContext("alert"),to:k.getPlace("alertSuppressed"),payloadObj:{notificationId:b.id,notificationType:b.type,notificationName:b.name}})):(t.callAlertHandle("onDiscover",b),t.isNonToggleAlert(b)&&t.callAlertHandle("onOpen",b))}},isTimeToDiscover:function(){return x.isInfoCardLoaded&&x.alertFlushed},isNonToggleAlert:function(a){return!w.getAlertDetails(a).expandable},firstDiscovery:function(){x.onInfoCard=!0;x.isInfoCardLoaded=!0;if(t.isTimeToDiscover())t.onDiscover()},instrumentNoAlertsToShow:function(b,
c){k.send({from:a.getFrom(),where:b,to:k.getPlace("noAlertToShow"),additionalObj:c})},getCurrentPriority:function(){return u.shinyIcon===B?999:g.gda(u.shinyIcon,"priority")},displayShinyObjectForIcon:function(b,c,l){var m=t.getCurrentPriority();if(!c||c>=m)return c>m&&k.send({from:a.getFrom(),where:k.getContext("alertShinyObject"),to:"dropped",additionalObj:{severityShow:t.getSevCode(m),severityDropped:l}}),!1;0===u.gatewayHelpLink.length&&(u.gatewayHelpLink=e.$("#helpMenuID .sc_quicklink"));u.shinyIcon!==
B&&(u.shinyIcon.detach(),c=t.getSevCode(m),x.displacedMastheads.push({icon:u.shinyIcon,priority:m,severity:c}),k.send({from:a.getFrom(),where:k.getContext("alertShinyObject"),to:"superceded",additionalObj:{severityShow:l,severitySuperceded:c}}));u.shinyIcon=b;u.gatewayHelpLink.append(b);u.gatewayHelpLink.css("padding-right","25px");return!0},externalDisplayShinyObject:function(a){var b=t.getDefaultIconTemplate().find(".spaui-alert-shiny").clone();b.addClass(a);a=g.gda(b,"priority");return t.displayShinyObjectForIcon(b,
a,"EXTERNAL")?(a=g.getUid(),b.attr("id",a),a):null},externalDismissShinyObject:function(b){u.shinyIcon&&u.shinyIcon.attr("id")===b&&(u.shinyIcon.remove(),u.shinyIcon=B,(b=x.displacedMastheads.pop())?(t.displayShinyObjectForIcon(b.icon,b.priority,b.severity),k.send({from:a.getFrom(),where:k.getContext("alertShinyObject"),to:"restored",additionalObj:{severityShow:b.severity}})):u.gatewayHelpLink.css("padding-right",""))},displayShinyObjectAlert:function(b,l){var m=t.getIconTemplate(b,l).find(".spaui-alert-shiny").clone(),
d=l||g.gda(b,"severity"),f=g.gda(m,"priority");if((b===B||!c.shouldHideAlerts(f))&&t.displayShinyObjectForIcon(m,f,d)){var f=null,v=t.getSeverity(d);if(null===f||v.priority<f.priority)f=v;f&&(u.gatewayHelpLink.attr("aria-label","Help - "+f.ariaLabel),v=u.alerts!==B?u.alerts.data("shiny-count"):x.shinyCount,f.showCount&&0<v?(m.removeClass("spaui-sprite"),m.addClass("spaui-alert-shiny-count"),m.text(v),m=m.clone(),b.find(".spaui-alert-load-all-node .spaui-alert-load-all").append(m)):v=0,k.send({from:a.getFrom(),
where:k.getContext("alertShinyObject"),to:"discovered",additionalObj:{severityShow:d,count:v}}))}},getShinyIconOverrideCode:function(){return{A1F83G8C2ARO7P:"GB",A1PA6795UKMFR9:"EU",A13V1IB3VIYZZH:"EU",A1RKKUPIHCS9HS:"EU",AJZF8LZ1EJVJN:"EU",APJ6JRA9NG5V4:"EU",A3HOBANJMCMD83:"EU",A21TJRUUN4KGV:"IN",A2XZLSVIQ0F4JT:"IN",AAHKV2X7AFYLW:"SEA",A1VC38T7YXB528:"SEA"}[x.marketplaceId]||"default"},getSeverity:function(a){return A[a]},getSevCode:function(a){a=parseInt(a,10);for(var b=Object.keys(A),c=0;c<b.length;c++){var l=
b[c];if(A[l].priority===a)return l}return null},displayPushNotification:function(a){var b=a.find(".spaui-alert-header").data("expandable"),c=a.find(".spaui-alert-content").clone(),l;l=b?a.find(".spaui-alert-toggle").text():a.find(".spaui-alert-header-inline-push").text();var m=t.getPushNotificationConfig(a);a=w.getAlertDetails(a);var f=n.create(l,c,m.pushNotificationSev,m.hasMinimizeButton,b);f.data("id",a.id);f.data("type",a.type);f.data("name",a.name);f.data("is-push",!0);t.callAlertHandle("onDiscover",
f);b||t.callAlertHandle("onOpen",f);h.subscribe(h.getName("pushNotificationOpened"),function(a){t.callAlertHandle("onOpen",f)});h.subscribe(h.getName("pushNotificationClosed"),function(a){t.callAlertHandle("onDismiss",f)});h.subscribe(h.getName("pushNotificationMinimize"),function(a){t.callAlertHandle("onMinimize",f)})},getPushNotificationConfig:function(a){var b={ALERT_HIGH:{type:"urgent",pushNotificationSev:n.HIGH},OPPORTUNITY:{type:"opportunity",pushNotificationSev:n.OPPORTUNITY},ALERT_MEDIUM:{type:"alert",
pushNotificationSev:n.MEDIUM},INFORMATION:{type:"info",pushNotificationSev:n.INFORMATION}}[a.data("severity")];return b?(b={type:b.type,pushNotificationSev:b.pushNotificationSev,hasMinimizeButton:!1},a=t.getAlertHandles(a),a.pushConfig&&e.$.isPlainObject(a.pushConfig)&&(b=e.$.extend({},b,a.pushConfig)),b):!1},getState:function(){return x},getIconTemplate:function(a,b){var c=t.getShinyIconOverrideCode(),l=b||g.gda(a,"severity"),l=u.templateHolder.find("#"+l),c=l.find("."+c);0===c.length&&(c=l.find(".default"));
return c},getDefaultIconTemplate:function(){return u.templateHolder.find("#EXTERNAL")},getAlertHandles:function(a){for(var b=0;b<x.alertHandles.length;++b){var c=x.alertHandles[b];if(c.checkFunc(a))return c}},callAlertHandle:function(a,b){var c=t.getAlertHandles(b);if(c[a]&&e.$.isFunction(c[a]))c[a](b)}};return{init:t.init,bindIrisCallsToPushNotification:t.bindIrisCallsToPushNotification,getSeverity:t.getSeverity,getState:t.getState,getShinyIconOverrideCode:t.getShinyIconOverrideCode,getIconTemplate:t.getIconTemplate,
displayShinyObjectAlert:t.displayShinyObjectAlert,displayAllAlerts:t.displayAllAlerts,dynamicHydrate:t.dynamicHydrate,onLoadAllAlerts:t.onLoadAllAlerts,externalDisplayShinyObject:t.externalDisplayShinyObject,externalDismissShinyObject:t.externalDismissShinyObject}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-ajax").register("spaui-alert-metrics",function(e,g,k,c){var a=null,b=[],d=[],n={iris:"DISCOVERED",alertAction:g.getPlace("alertDiscovered"),pushAction:"load",idList:b},h={iris:"READ",
alertAction:g.getPlace("setAlertRead"),pushAction:"open",idList:d},p={iris:"ABORT",alertAction:g.getPlace("setAlertAbort"),pushAction:"dismiss",idList:[]},f={iris:null,alertAction:g.getPlace("minimized"),pushAction:g.getPlace("minimized"),idList:null},l={init:function(){a=g.getParentRequestId()},instrumentMassDiscover:function(a,c,f){c=l.filterIdsAlreadySeen(c,b);if(0<c.length){b=b.concat(c);var d=c.join(",");l.sendIrisDiscover(d,function(){var b=e.$.extend({ids:d},f);g.send({from:k.getFrom(),where:a,
to:g.getPlace("alertMassDiscovered"),additionalObj:b})})}},instrumentMassRead:function(a,b,c){b=l.filterIdsAlreadySeen(b,d);if(0<b.length){d=d.concat(b);var f=b.join(",");l.sendIrisResponse(h.iris,f,function(){var b=e.$.extend({ids:f},c);g.send({from:k.getFrom(),where:a,to:g.getPlace("alertMassRead"),additionalObj:b})})}},instrumentDiscover:function(a,b,c){l.instrumentAlert(n,a,b,c)},instrumentRead:function(a,b,c){l.instrumentAlert(h,a,b,c)},instrumentDismiss:function(a,b,c){l.instrumentAlert(p,a,
b,c)},instrumentMinimize:function(a,b,c){l.sendMetrics(f,a,b,c)},instrumentAlert:function(a,b,c,f){var d=a.idList;-1===d.indexOf(f.id)&&(d.push(f.id),l.sendIrisResponse(a.iris,f.id,function(){l.sendMetrics(a,b,c,f)}))},sendMetrics:function(a,b,c,f){b=l.chooseContext(b,c,f);a=l.getAction(a,f);g.send({from:k.getFrom(),where:b,to:a,additionalObj:{isPush:f.isPush},payloadObj:{notificationId:f.id,notificationType:f.type,notificationName:f.name}})},sendIrisDiscover:function(a,b){l.sendIrisResponse(n.iris,
a,b)},sendIrisResponse:function(b,l,f){c.get(k.getAthenaUrlPrefix()+"alert/"+b+"?ids="+l+"&prid="+a,{},function(){e.$.isFunction(f)&&f()})},chooseContext:function(a,b,c){return c.isPush?b:a},getAction:function(a,b){return b.isPush?a.pushAction:a.alertAction},filterIdsAlreadySeen:function(a,b){return a.filter(function(a){return-1===b.indexOf(a)})}};return{init:l.init,sendIrisDiscover:l.sendIrisDiscover,massDiscover:l.instrumentMassDiscover,massRead:l.instrumentMassRead,discover:l.instrumentDiscover,
read:l.instrumentRead,dismiss:l.instrumentDismiss,minimize:l.instrumentMinimize}});ASPP.when("ASPA").register("spaui-alert-util",function(e){var g=!1,k=null,c;return{init:function(a){k=a;c=e.$("#sc-quicklinks-top")},getAlertFromInnerEvent:function(a){a=e.$(a.target);var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},getAlertDetails:function(a){var b={isPush:!1},c=a.find(".spaui-alert-info");0===c.length&&a.is("#spaui-push-notification")&&(b.isPush=!0,
c=a);b.id=c.data("id");b.name=c.data("name");b.type=c.data("type");b.expandable=c.data("expandable");return b},getAlertFromChild:function(a){var b=a.closest(".spaui-alert");0===b.length&&(b=a.closest("#spaui-push-notification"));return b},hideSingleAlert:function(a,b){var d=k.find(".spaui-alerts");if(0<d.length&&(1===d.find(".spaui-alert").length&&d.data("is-hidden",!0),a)){var d=d.find('.spaui-alert-info[data-id="'+a+'"]').closest("li.spaui-alert"),g=k.find(".spaui-alert-load-all-node");0<d.length&&
(d.fadeOut({duration:300}),g.fadeOut({duration:300}),d.addClass("spaui-alert-dismissed"),g.addClass("spaui-alert-dismissed"))}d=c.find("#spaui-push-notification");0<d.length&&(g=d.data("id")+"",g===a+""&&d.fadeOut({duration:300}));e.$.isFunction(b)&&b()},isAlertsHidden:function(){var a=k.find(".spaui-alerts");return 0<a.length&&!0===a.data("is-hidden")},hideAllAlerts:function(){k.find(".spaui-alerts").each(function(){e.$(this).hide()});k.find(".spaui-async-alerts").hide();g=!0},alertsAreSuppressed:function(){return g}}});
ASPP.when("ASPA","spaui-ui","spaui-metrics","spaui-history","spaui-events","spaui-content","spaui-search","spaui-util","spaui-help","spaui-session","spaui-custom-card","spaui-external-events","spaui-ajax","spaui-instance","spaui-chat").register("spaui-api",function(e,g,k,c,a,b,d,n,h,p,f,l,r,m,v){var w=!1,u={init:function(){u.bind()},bind:function(){E._sellerPartnerAthena=A;a.subscribe(a.getName("initialized"),function(){u.triggerLoadedEvent(g.getVisible())})},triggerLoadedEvent:function(a){if(E._sellerPartnerAthenaLoaded&&
!w){w=!0;var b=E._sellerPartnerAthenaLoaded,c;for(c in b)if(b.hasOwnProperty(c)&&e.$.isFunction(b[c]))b[c](a)}},summon:function(){g.summoner({external:!0,where:k.getContext("externalApi"),additionalObj:e.$.extend({},x)})},changeSize:function(a){n.isNull(a)||p.isLargeSize()===a||(a?g.makeLarge():g.makeSmall())},maybeSummon:function(){g.getVisible()||u.summon()},getTracking:function(){return{where:k.getContext("externalApi"),additionalObj:e.$.extend({},x)}},showBestContent:function(a,b){a&&b&&r.post(c.getAthenaUrlPrefix()+
"matching-phrase?text="+a+"&locale="+b,{},function(a){(a=a&&a.data?a.data:{})&&a.matchingPhrase&&!m.isCurrentMatchAlreadyShown(a.matchingPhrase,b)&&(k.send({from:x.client,to:"keyphraseMatchFound",where:"directAnswerWorkflow",additionalObj:{keyPhraseMatch:a.matchingPhrase}}),A.displaySearchResults(a.matchingPhrase,b),m.setLastSearchDetails(a.matchingPhrase,b),k.send({from:c.getFrom(),to:k.getPlace("search"),where:k.getContext("externalApi"),additionalObj:{matchingPhrase:a.matchingPhrase,daIntent:a.daIntentId,
locale:b,client:x.client,context:x.context}}))})},assertRegistered:function(){if(!x.client||!x.context)throw"Access to Athena's external API is restricted until you register with it by calling _sellerPartnerAthena.register([clientId], [context])";},setClosable:function(a){a?g.showClose():g.hideClose()},setCustomCardAsHome:function(a,l){f.assertCard(a);1<c.getFromLength()&&b.goBack(!0);f.setAsHome(a,l)},startNewChat:function(a){a?a.clientName=x.client:a={clientName:x.client};v.startChat(null,a)}},
x={client:null,context:null,ex_event_handle:null},A={register:function(a,b){x.client=a;x.context=b;x.ex_event_handle=l.register(a)},summon:function(a){u.assertRegistered();u.changeSize(!!a);u.maybeSummon()},banish:function(){u.assertRegistered();g.banisher(u.getTracking())},displayHelpArticle:function(a){u.assertRegistered();h.displayHelpTopic(a,null,u.getTracking());u.maybeSummon()},displaySearchResults:function(a,b){u.assertRegistered();d.externalSubmitSearch(decodeURIComponent(a),u.getTracking(),
b);u.maybeSummon()},isContentInsideAthena:function(a){if(!(a instanceof e.$))if(n.isHtmlElement(a))a=e.$(a);else throw"content must be either a jQuery object (from ASPA) or an HtmlElement";return 0<a.closest("#spaui, #spaui-push-notification").length},setClosable:function(a){u.assertRegistered();u.setClosable(a)},setHomeCard:function(a,b){u.assertRegistered();u.setCustomCardAsHome(a,b)},displayBestContentFor:function(a,b){u.assertRegistered();u.showBestContent(a,b)},subscribeToEvent:function(a,b){u.assertRegistered();
x.ex_event_handle.subscribe(a,b)},startNewChat:function(a){u.assertRegistered();u.startNewChat(a);u.maybeSummon()}};return{init:u.init}});ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-events","spaui-ajax").register("spaui-async",function(e,g,k,c,a,b){var d={},n={},h={},p={transitionTime:400,flushable:[],onSummonAsyncElements:[],nonAsyncModules:{"featured-content":"featured-content",predictive:"predictive",alerts:"alerts","top-issues":"top-issues"},onLoadState:null,onSummonState:null,
preventFlushFlag:!1,LOADED:"loaded",QUEUED:"queued",SLIDING_UP:"slidingUp",FLUSHED:"flushed",SLIDING_DOWN:"slidingDown",COMPLETED:"completed",LOADED_EVENT:"Loaded",COMPLETED_EVENT:"Completed"},f={init:function(a,b){f.hydrate(a);f.bind();var c=d.spaui.find(".spaui-async-load"),v=f.splitLoadAndSummonAsync(c),c=v.immediately,v=v.onSummon;p.onLoadState=f.initialState(c);p.onSummonState=f.initialState(v);p.onSummonAsyncElements=v;p.callback=b;f.triggerLoad(c);f.loadComplete();f.loadNonAsync()},initialState:function(a){return{initialElementCount:a.length,
remainingElementCount:a.length}},hydrate:function(a){d.spaui=a;d.templates=e.$("#spaui-template-async")},bind:function(){a.subscribe(a.getName("newPage"),f.onNewPage);a.subscribe(a.getName("summon"),f.asyncOnSummon);a.subscribe(a.getName("leavingPage"),f.onLeavePage)},onNewPage:function(){Object.keys(n).forEach(f.loadModuleIfPresent);f.flushNoTransition();f.handleNewModules()},isNotStructuralElement:function(a,b){var c=e.$(b);return f.getModuleIdentifier(c)===c.attr("id")},handleNewModules:function(){var a=
d.spaui.find(".spaui-async-load"),a=a.filter(f.isNotStructuralElement),a=f.splitLoadAndSummonAsync(a),b=a.immediately;if(0<a.onSummon.length)throw"Load types other than on load are currently not supported for new async modules not part of initial Athena structure";f.triggerLoad(b)},loadModuleIfPresent:function(a){if(n[a]===p.FLUSHED){var b=h[a],c=d.spaui.find("#"+b);b&&0!==c.length&&(g.resetJqueryAnimation(c),f.moduleComplete(a))}},onLeavePage:function(){for(var a in n)n.hasOwnProperty(a)&&(n[a]===
p.SLIDING_UP?n[a]=p.QUEUED:n[a]===p.SLIDING_DOWN&&(n[a]=p.FLUSHED));f.preventFlush()},triggerLoad:function(a){for(var b=0;b<a.length;b++)f.asyncLoad(a[b])},splitLoadAndSummonAsync:function(a){var b=[],c=[];a.each(function(){var a=e.$(this),f=a.data("load-event"),l=a.data("module");delete p.nonAsyncModules[l];if("load"===f)b.push(a);else if("summon"===f)c.push(a);else throw"Unrecognized load event type in async module: "+f;});return{onSummon:c,immediately:b}},asyncOnSummon:function(){0<p.onSummonAsyncElements.length&&
(f.triggerLoad(p.onSummonAsyncElements),p.onSummonAsyncElements=[])},ensureId:function(a){a.attr("id")===B&&a.attr("id",g.getUid())},asyncLoad:function(a){var c=g.gda(a,"async-url"),d=k.enhanceUrl(c);f.ensureId(a);var h=g.gda(a,"load-event");b.get(d,{dataType:"html"},function(b){f.asyncSuccess(a,b.data,c,h)},function(b){f.asyncError(a,b,c,h)})},transitionAsyncElement:function(a,b,c,d){var k=e.$(b);d?(f.replaceAndFlush(a,k,c),f.moduleComplete(c)):(n[c]=p.SLIDING_UP,a.slideUp(p.transitionTime,function(){n[c]===
p.SLIDING_UP&&(k.hide(),f.replaceAndFlush(a,k,c),g.ensureId(k),h[c]=k.attr("id"),n[c]=p.SLIDING_DOWN,k.slideDown(p.transitionTime,function(){n[c]===p.SLIDING_DOWN&&f.moduleComplete(c)}))}))},replaceAndFlush:function(a,b,c){a.replaceWith(b);f.removeModuleFromFlushQueue(c)},moduleComplete:function(b){n[b]=p.COMPLETED;a.publishAsyncModuleEvent(b,p.COMPLETED_EVENT)},attemptFlush:function(b,c){var h=f.getModuleIdentifier(b),v="#"+b.attr("id");p.flushable.push({selector:v,replacement:c,module:h});n[h]=
p.QUEUED;a.publishAsyncModuleEvent(h,p.LOADED_EVENT,c);v=d.spaui.find(v);!p.preventFlushFlag&&0<v.size()&&f.transitionAsyncElement(v,c,h,"none"===v.css("display"))},asyncSuccess:function(a,b,c,d){f.attemptFlush(a,b);f.attemptLoadComplete(d)},asyncError:function(a,b,c,d){"abort"!==g.getErrorDetailsFromAjaxResponse(b.data,b.errorStatus).type&&(b=a.data("template"),b=f.getTemplateHtmlString(b),f.attemptFlush(a,b),f.attemptLoadComplete(d))},getTemplateHtmlString:function(a){a=d.templates.find("#"+a);
return 0<a.length?a[0].outerHTML:""},attemptLoadComplete:function(a){"summon"===a?p.onSummonState.remainingElementCount--:p.onLoadState.remainingElementCount--;f.loadComplete()},loadComplete:function(){f.isTimeToCallback()&&p.callback!==B&&p.callback()},isTimeToCallback:function(){return 0>=p.onLoadState.remainingElementCount&&0>=p.onSummonState.remainingElementCount},loadNonAsync:function(){g.forEachObjectValue(p.nonAsyncModules,function(b){a.publishAsyncModuleEvent(b,p.LOADED_EVENT,null);a.publishAsyncModuleEvent(b,
p.COMPLETED_EVENT)})},getFlushableState:function(){return p.flushable},flushNoTransition:function(){p.preventFlushFlag=!1;p.flushable.forEach(function(a){var b=d.spaui.find(a.selector);0<b.length&&f.transitionAsyncElement(b,a.replacement,a.module,!0)})},removeModuleFromFlushQueue:function(a){p.flushable=p.flushable.filter(function(b){return b.module!==a})},preventFlush:function(){p.preventFlushFlag=!0},setTransitionTime:function(a){p.transitionTime=a},getModuleIdentifier:function(a){var b=a.data("module");
if(b)return b;f.ensureId(a);return a.attr("id")}};return{init:f.init,getFlushableState:f.getFlushableState,setTransitionTime:f.setTransitionTime,LOADED_EVENT:p.LOADED_EVENT,COMPLETED_EVENT:p.COMPLETED_EVENT}});ASPP.when("ASPA","spaui-history","spaui-metrics","spaui-session","spaui-state","spaui-triggers","spaui-ui","spaui-util","spaui-content","spaui-search","spaui-feedback","spaui-alerts","spaui-links","spaui-predictive","spaui-shim","spaui-global-nav-search","spaui-hmd","spaui-featured-content",
"spaui-async","spaui-theming","spaui-forums","spaui-push-notification","spaui-eci-widget","spaui-events","spaui-weblabs","spaui-discovery","spaui-api","spaui-help","spaui-linkcopy","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-alert-metrics","spaui-expand","spaui-grouped-alerts","spaui-workflows","spaui-rightclick","spaui-notification-card","spaui-instance","spaui-chat","spaui-custom-card","spaui-top-issues","ready").register("spaui",function(e,g,k,c,a,b,d,n,h,p,f,l,r,
m,v,w,u,x,A,t,H,G,C,z,y,I,B,q,P,Q,N,R,S,T,U,V,W,J,X,O,Y,Z){var D={$dom:{},preview:{fadeOutTime:400,show:!0,dismiss:null}},K=null,L,F={init:function(e){v.init();g.init(e);a.init(E);n.init(E);n.exposejQuery();I.init();T.init();F.hydrate();F.bind();y.init(e.weblabs);k.init(e.instrumentation);c.init();X.init(E.sessionStorage);W.init(D.$dom.spaui);d.init(D.$dom.spaui);B.init();q.init(D.$dom.spaui);h.init(D.$dom.spaui,e.serverUrl.url,e.sellerU.ids,e.helpContentJSWhitelist.ids);P.init(D.$dom.spaui,e.serverUrl.url);
p.init(D.$dom.spaui,e.enableSearchSuggestions.enabled);G.init(D.$dom.spaui);f.init(D.$dom.spaui);u.init(D.$dom.spaui);H.init(D.$dom.spaui);F.preview(e.preview);b.init({athenaHome:F.home,footerContactUs:e.footerContactUsWeblab.treatment});t.init();R.init(D.$dom.spaui);S.init();l.init(D.$dom.spaui);C.init(D.$dom.spaui);r.init(D.$dom.spaui,e.enableForumsCard.enabled);m.init(D.$dom.spaui);x.init(D.$dom.spaui);Q.init(D.$dom.spaui);Z.init(D.$dom.spaui);N.init(D.$dom.spaui);U.init(D.$dom.spaui);V.init();
J.init(D.$dom.spaui);O.init();Y.init(D.$dom.spaui);A.init(D.$dom.spaui,function(){});F.initialState()},hydrate:function(){D.$dom.doc=e.$(document);D.$dom.win=e.$(E);D.$dom.spaui=e.$("#spaui");D.$dom.home=D.$dom.spaui.find("#spaui-home");D.$dom.pop=D.$dom.spaui.find("#spaui-pop");D.$dom.back=D.$dom.spaui.find("#spaui-content-ui-back");D.preview.dismiss=g.getAthenaUrlPrefix()+"preview-card/dismiss"},bind:function(){D.$dom.home.click(F.home);D.$dom.pop.click(F.pop);D.$dom.back.click(F.back);D.$dom.spaui.delegate(".spaui-go-home",
"click",F.home);z.subscribe(z.getName("goHome"),function(){F.home()})},preview:function(a){D.preview.show=a.show},initialState:function(){h.initialState();d.initialState();N.initialState();var b=q.initialState();O.initialState();a.isOnUrl("/hz/productsearch")&&a.isParamPresent("productSearchTourOpen")&&e.$("#tutorial-expander-id").trigger("click");var f=!1;n.isOnArticle()&&a.showBrowseAllHelpOnLoad()?(K=h.getPageType("browseAllHelp"),f=!0,q.displayBrowseAllHelpFromSession()):!c.getTopicID()||a.isAnySummoningParamPresent()||
b||(K=h.getPageType("helpTopic"),f=!0,q.displayHelpTopicFromSession(c.getTopicID(),c.getTopicURL()));c.getPinned()?f?z.subscribe(z.getName("newPage"),F.onNewPage):d.summoner({session:!0}):d.isSummoned()||z.publish(z.getName("initializedWithoutSummon"));F.previewToDataStore();z.publish(z.getName("initialized"))},onNewPage:function(a){a.type===K&&(K=null,z.unsubscribe(z.getName("newPage"),F.onNewPage),d.summoner({session:!0}))},previewToDataStore:function(){c.getPreview()&&D.preview.show&&F.enablePreview();
c.getPreview()&&!D.preview.show&&c.setPreview(!1);!c.getPreview()&&D.preview.show&&F.previewUpdate()},previewUpdate:function(){e.$.get(D.preview.dismiss)},enablePreview:function(){e.$("#spaui").append(n.gebi("spaui-template-preview").innerHTML);c.getPinned()?F.previewMetric(k.getContext("session")):(L=e.$.proxy(F.previewMetric,null,k.getContext("trigger")),z.subscribe(z.getName("summon"),L));D.$dom.spaui.delegate("#spaui-preview-jackpot","click",F.previewDismiss);D.$dom.spaui.delegate("#spaui-preview-modal",
"click",F.previewDismiss);D.$dom.spaui.delegate("#spaui-preview-map-feedback","click",F.previewFeedback);D.$dom.spaui.delegate("#spaui-preview-map-dismiss","click",F.previewGetAnswers)},previewMetric:function(a){L&&z.unsubscribe(z.getName("summon"),L);k.send({from:g.getFrom(),where:a,to:k.getPlace("previewCard")})},previewFadeOut:function(a,b,c){a.preventDefault();a.stopPropagation();F.previewUpdate();k.send({from:g.getFrom(),where:b,to:g.getFrom()});e.$("#spaui-preview-modal").fadeOut(D.preview.fadeOutTime,
function(a){c&&c()})},previewDismiss:function(a){F.previewFadeOut(a,k.getContext("previewAnywhere"))},previewFeedback:function(a){F.previewFadeOut(a,k.getContext("previewFeedback"),function(){f.launchFeedback()})},previewGetAnswers:function(a){F.previewFadeOut(a,k.getContext("previewGetAnswers"))},back:function(a,b){a.preventDefault();f.setTyping(!1);h.goBack(!1)},home:function(a){a&&a.preventDefault();D.$dom.home.hasClass("spaui-home-off")||1<g.getFromLength()&&h.goBack(!0)},pop:function(a){a.preventDefault();
c.setPinned(!1);k.send({from:g.getFrom(),to:k.getPlace("popPage"),where:k.getContext("header")});n.openInNewWindow(g.getPop())},overrideConfig:function(a){D=e.$.extend(!0,{},D,a)}};return{init:F.init,overrideConfig:F.overrideConfig}});ASPP.register("spaui-browser-support",function(){return{placeholderIsSupported:function(){return"placeholder"in document.createElement("input")},definePropertyIsSupported:function(){var e={};try{return Object.defineProperty(e,"key",{value:"static"}),"static"===e.key}catch(g){return!1}}}});
ASPP.when("ASPA","spaui-content","spaui-state","spaui-external-events","spaui-ui").register("spaui-chat",function(e,g,k,c,a){var b,d={enabled:!1,endpoint:"/help/assist/chat",templateId:B,isDebugMode:!1,rejoinArgs:{},transitionTime:200},n={init:function(){var a=e.state("spaui-chat-state");if(a!==B){d.templateId=a.chatTemplateId;d.isDebugMode="true"===a.debugMode;if(d.templateId===B)throw"Chat did not initiate properly with missing template.";d.enabled=!0;d.rejoinArgs=a.rejoinArgs}},initialState:function(){n.isRejoinState("REJOIN")&&
n.startChat(d.rejoinArgs)},isRejoinState:function(a){return d.rejoinArgs&&d.rejoinArgs.rejoinStatus===a},isDebugMode:function(){return d.isDebugMode},startChat:function(a,p){p||(p={});d.enabled&&(c.register("SXAthena").subscribe("spaui-chat-closed",function(){e.$("#spaui-chat").removeClass("spaui-chat-active")}),g.placeEndpointInLocation("#spaui-chat",n.getUrl(),function(){if(b===B)ASPP.when("spaui-chatwrapper-flow").execute("spaui-chat-ready",function(c){b=c;n.onChatReady(a,p)});else n.onChatReady(a,
p)},!0))},onChatReady:function(a,c){e.$("#spaui-chat").addClass("spaui-chat-active");b.initiateChat("#spaui-chat-roller",{chatTemplateId:d.templateId,isDebugMode:d.isDebugMode,rejoinArgs:a,maxHeightSelector:"#spaui",exclusionSelectors:["#spaui-head","#spaui-foot"],additionalParams:c})},getUrl:function(){return k.enhanceUrl(d.endpoint)},overrideConfig:function(a){d=e.$.extend(d,a)}};return{init:n.init,initialState:n.initialState,isDebugMode:n.isDebugMode,startChat:n.startChat,overrideConfig:n.overrideConfig}});
ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-ui","spaui-theming","spaui-events","spaui-ajax").register("spaui-content",function(e,g,k,c,a,b,d,n,h){function p(){return e.$.extend({},I)}var f,l,r,m,v,w,u,x,A,t,H=null,G=0,C=0,z={},y={templateRequestId:-1,animation:{visible:!1,active:!1,contentFadeInTime:300,distance:410,backAnimateTime:50,fbConfirmTime:2E3,resizeDuration:250,resizePercentage:.4,closeAffordance:{delay:1E3,fade:1250}},bind:!0,template:{next:'<div id="spaui-next"></div>',
prev:'<div id="spaui-prev"></div>',current:'<div id="spaui-inner-content" class="spaui-new spaui-hide"></div>',loadingAnimation:'<div id="scroll-loader" class="scroll-loader"><div class="spaui-content-loading"></div></div>'},url:null,sellerUniIds:null,javascriptWhitelistIds:null,specialTitleBarActiveClass:"spaui-special-title-bar-active",pageTypes:{alerts:"alerts",browseAllHelp:"browseAllHelp",getSupportCard:"getSupportCard",error:"error",feedback:"feedback",forums:"forums",helpTopic:"helpTopic",
info:"info",loading:"loading",search:"search",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCategory",chat:"chat",selfServiceCard:"selfServiceCard",workflow:"workflow"},HELP_URL_PATH:"/gp/help/",TIME_BEFORE_REVERTING_BACK_MS:18E4},I={backButton:!0,feedbackLink:!0,resetTopic:!0,homeButton:!0},M={alerts:p(),browseAllHelp:p(),error:p(),forums:p(),search:p(),loading:p(),notificationCard:p(),notificationCardCategory:p(),chat:p(),workflow:p(),getSupportCard:e.$.extend({},
I,{backButton:!1}),feedback:e.$.extend({},I,{feedbackLink:!1}),helpTopic:e.$.extend({},I,{feedbackLink:!1,resetTopic:!1}),info:e.$.extend({},I,{backButton:!1,homeButton:!1}),selfServiceCard:e.$.extend({},I,{backButton:!1,homeButton:!1})},q={init:function(a,b,c,f){q.hydrate(a);q.bind();y.url=b;y.sellerUniIds=c||[];y.javascriptWhitelistIds=f||[]},hydrate:function(a){e.$(E);f=a;l=a.find("#spaui-panel");r=a.find("#spaui-content");a.find("#spaui-inner-content");m=a.find("#spaui-home");v=a.find(".spaui-head-controls-pop");
a.find("#spaui-foot-browse");w=a.find("#spaui-content-ui");u=a.find("#spaui-content-ui-back");x=a.find("#spaui-content-ui-feedback-text");A=a.find(".spaui-footer-forum");t=a.find("#spaui-special-title-bar-container")},bind:function(){n.subscribe(n.getName("summon"),q.onAthenaSummoned);e.$(E).unload(q.onPageUnload)},initialState:function(){q.hideUI(!0);x.show();var a=q.getPageType("info");q.setPage(a);n.publish(n.getName("newPage"),{type:a});a=c.getTimeSellerViewingArticle();null!==a&&(new Date).getTime()-
a>y.TIME_BEFORE_REVERTING_BACK_MS&&(c.revertSellerToInfoCard(),c.setTimeSellerViewingArticle(null))},overrideConfig:function(a){e.$.extend(y,a)},prepNext:function(){var a=r.find("#spaui-next");if(!(0<a.length)){var b=e.$("#spaui-inner-content");q.setPage(q.getPageType("loading"));k.pushScroll(b.scrollTop());r.append(y.template.next);a=r.find("#spaui-next");a.css("height",r.height()+"px");a.animate({right:"+="+y.animation.distance},50,function(){b.scrollTop(0)})}},capturePayloadAndCallPlace:function(a,
b,c){if(!e.$.isPlainObject(a))throw"First argument must be a plain object of the page details";return function(f){a.content=f.data;a.errorStatus=f.errorStatus;b(a,c)}},refreshContent:function(a,b){k.pushDom(g.gebi("spaui-inner-content").innerHTML);e.$("#spaui-inner-content").remove();r.append(y.template.current);a instanceof e.$?e.$("#spaui-inner-content").append(a):b?e.$("#spaui-inner-content").html(a):g.gebi("spaui-inner-content").innerHTML=a},fadeContentIn:function(a,b,c){q.fadeCommon(a,b,c,function(){k.update({to:q.getMetricPlaceFromDetails(a)})})},
fadeContentInAsHome:function(a,b,c){q.fadeCommon(a,b,c,function(){k.overrideHome(q.getMetricPlaceFromDetails(a))})},fadeCommon:function(a,b,f,d){var l=e.$("#spaui-inner-content"),h=a.type;l.fadeIn(y.animation.contentFadeInTime,function(){e.$("#spaui-next").remove();l.removeClass("spaui-hide");l.removeClass("spaui-new");q.isErrorDom(a.content)&&(c.revertSellerToInfoCard(),a.isPlatformError=!0,a.attemptedType=a.type,a.type=q.getPageType("platformError"),f.isPlatformError=!0);q.showUI(h,b,f);d();l.focus()})},
isErrorDom:function(a){return 0<e.$(a).find("#spaui-error").length},displaySpecialTitleBar:function(a){t.append(a);f.addClass(y.specialTitleBarActiveClass)},removeSpecialTitleBar:function(){t.empty();f.removeClass(y.specialTitleBarActiveClass)},getFailed:function(a,b){var c={errorDetails:g.getErrorDetailsFromAjaxResponse(a.content,a.errorStatus),isError:!0};k.pushPop("");q.refreshContent(g.gebi("spaui-template-error-client").innerHTML);a.attemptedType=a.type;a.type=q.getPageType("error");q.fadeContentIn(a,
b,c)},getPageType:function(a){return y.pageTypes[a]},hideBackBar:function(){w.hide();l.addClass("spaui-hidden-backbar")},hideUI:function(a){q.clearAllInFlightRequests();v.removeClass("spaui-shown");d.isFeedbackDisabledOnInfoCard()&&q.hideBackBar();q.removeSpecialTitleBar();A.removeClass("spaui-active");u.hide();x.hide();m.addClass("spaui-home-off");q.publishEventForLeavingPage(a)},showUI:function(a,f,e){w.show();l.removeClass("spaui-hidden-backbar");var h=q.getPageConfig(a);if(null===h){e="Page not supported: "+
a;if(f){f({isError:!0,error:e});return}throw e;}(g.isNull(h.homeButton)||h.homeButton)&&m.removeClass("spaui-home-off");h.resetTopic&&c.setTopic(null);h.backButton?u.show():u.hide();h.feedbackLink?x.show():x.hide();"info"===h.type&&d.isFeedbackDisabledOnInfoCard()&&q.hideBackBar();"helpTopic"===h.type&&(v.toggleClass("spaui-shown",!(e&&e.isPlatformError)),c.setTimeSellerViewingArticle((new Date).getTime()));a=q.getPageDetails(h);a.wentBack=e?e.wentBack:!1;q.setPage(a.type);f(e);n.publish(n.getName("newPage"),
a);(new Date).getTime();b.contentChanged()},externalShowUI:function(a,b){b===B&&(b=function(){});q.showUI(q.mapMetricsPlaceToPage(a),b)},prepElement:function(a,b,c){q.hideUI();q.prepNext();q.placePage(q.getDetails(b,a),c)},prepEndpoint:function(a,b,c,f,d,l,h){h=h&&e.$.isFunction(h)?q.wrapWithFilter(q.placePage,h):q.placePage;q.prepEndpointAsFullCardGeneric(a,b,c,f,d,l,h)},prepEndpointAsHome:function(a,b,c,f,d,l,h){h=h&&e.$.isFunction(h)?q.wrapWithFilter(q.placePageAsHome,h):q.placePageAsHome;q.prepEndpointAsFullCardGeneric(a,
b,c,f,d,l,h)},prepEndpointAsFullCardGeneric:function(a,b,c,f,d,l,h,v){q.hideUI();q.prepNext();a=e.$.extend({},v,q.getDetails(a,null));a.withScripts=f;q.ajax(b,d,l,q.capturePayloadAndCallPlace(a,h,c),q.capturePayloadAndCallPlace(a,q.getFailed,c))},getTemplateContents:function(a,b){var c=g.gebi("spaui-template-"+a);if(null===c)b({isError:!0,error:"Template '"+a+"' does not exist",errorDetails:"Template '"+a+"' does not exist"});else return c},prepTemplate:function(a,b){q.hideUI();q.prepNext();var c=
q.getTemplateContents(a,b);c&&q.placePage(q.getDetails(a,c.innerHTML),b)},prepEndpointInLocation:function(a,b,c,f,d,l){q.prepEndpointGeneric(a,function(b){var c=e.$(a);f?c.html(b):c[0].innerHTML=b},b,c,d,l)},prepEndpointAsAppend:function(a,b,c,f,d){q.prepEndpointGeneric("#spaui-inner-content",function(a){c?e.$("#spaui-inner-content").append(a):g.gebi("spaui-inner-content").innerHTML+=a},a,b,f,d)},prepEndpointGeneric:function(a,b,c,f,d,l){e.$(a).append(y.template.loadingAnimation);q.createInFlightRequest();
q.ajax(c,d,l,e.$.proxy(function(c,d){q.isInFlightRequestIdActive(c)&&(q.clearInFlightRequest(c),e.$(a).find("#scroll-loader").remove(),b(d.data),n.publish(n.getName("newContentOnPage")),f(!0))},null,C),function(a){f(!1,g.getErrorDetailsFromAjaxResponse(a.data,a.errorResponse))});C++},wrapWithFilter:function(a,b){return function(){b.apply(null,arguments)&&a.apply(null,arguments)}},ajax:function(a,b,c,f,d){b=b?h.post:h.get;if(null===c||c===B)c={};b(a,c,f,d)},getDetails:function(a,b){return{type:a,content:b,
requestId:++G}},placePage:function(a,b){q.placePageCommon(a,b,q.fadeContentIn)},placePageAsHome:function(a,b){q.placePageCommon(a,b,q.fadeContentInAsHome)},placePageCommon:function(a,b,c,f){if(a.requestId===G||a.requestId===y.templateRequestId)e.$.isFunction(f)&&f(a),q.refreshContent(a.content,a.withScripts),c(a,b,{})},stripTopicId:function(a){return e.$(a).find(".spaui-help").data("topic")},prepHelpTopicFromTemplate:function(a){var b=q.getTemplateContents("preloadedHelp",a);if(b){var c=q.stripTopicId(b),
f=q.getSimpleUrl(c),b={type:q.getPageType("helpTopic"),topicId:c,content:b.innerHTML,simpleUrl:f,url:f,requestId:y.templateRequestId};q.placeHelpTopic(b,a)}},getSimpleUrl:function(a){return"/gp/help/"+a},prepHelpTopic:function(a,b,f){var d=q.getSimpleUrl(a);g.isNull(b)&&(b=d);if(g.isSellerULink(a))g.openInNewWindow(b),c.setPinned(!1);else{var l=g.getPathArguments(b).language;b={topicId:a,url:b,simpleUrl:d,languageOverride:l};var d=q.isSellerUVideo(b.topicId),h=q.isJavascriptOverride(b.topicId);q.prepEndpointAsFullCardGeneric(q.getPageType("helpTopic"),
q.getHelpTopicUrl(l,a),f,d||h,!1,{},q.placeHelpTopic,b)}},getHelpTopicUrl:function(a,b){var c=k.getAthenaUrlPrefix()+"help-content/"+b+"/";return a?c+"?language="+a:c},placeHelpTopic:function(a,f){q.placePageCommon(a,f,q.fadeContentIn,function(a){k.pushPop(a.simpleUrl);c.setTopicID(a.topicId);c.setTopicURL(a.url);var f=e.$(a.content);f.find("meta").remove();a.withScripts||f.find("script").remove();f=e.$("<div></div>").append(f).html();a.content=f;q.isSellerUVideo(a.topicId)&&b.makeLarge()})},isSellerUVideo:function(a){return q.isMemberOf(a,
y.sellerUniIds)},isJavascriptOverride:function(a){return q.isMemberOf(a,y.javascriptWhitelistIds)},isMemberOf:function(a,b){var c=parseInt(a,10);return-1!==b.indexOf(c)},prepFeaturedAndPredictive:function(a){var b=e.$("#spaui-featured-content-results"),c=e.$("#spaui-predictive-help"),f=b.height()+c.height(),b=b.add(c),d=!1,l=null,v=null;e.$("#spaui-inner-content").append('<div id="spaui-featured-content-predictive-help-loading" class="spaui-featured-content-predictive-help-loading spaui-new" style="top:-'+
f+"px;height:"+f+'px;"></div>');f=e.$("#spaui-featured-content-predictive-help-loading");b.css("display","none");f.css("top","0px");b.remove();var f=function(b){b=g.getErrorDetailsFromAjaxResponse(b.data,b.errorResponse);a(!1,b)},b=E.location.pathname,c=E.location.hash,p=e.$("title").text(),b="?pageUrl="+b+"&pageHash="+encodeURIComponent(c)+"&pageTitle="+p;h.get(k.getAthenaUrlPrefix()+"featured-content"+b,{},function(b){v=b.data;d?q.placeFeaturedAndPredictive(v+l,a):d=!0},f);h.get(k.getAthenaUrlPrefix()+
"predictive-help"+b,{},function(b){l=b.data;d?q.placeFeaturedAndPredictive(v+l,a):d=!0},f)},placeFeaturedAndPredictive:function(a,b){e.$("#spaui-inner-content").append(a);var c=e.$("#spaui-featured-content-predictive-help-loading");e.$("#spaui-featured-content-results");var f=e.$("#spaui-predictive-help"),d=c.height();f.css("position","relative");f.css("top","-"+d+"px");c.css("display","none");f.css("top","0px");c.remove();e.$("#spaui-inner-content").focus();b(!0)},placeContentAfterHelpArticle:function(a){f.find("#spaui-content .spaui-help").after(a)},
placeContentBeforeSelector:function(a,b){f.find(a).before(b)},goBack:function(a){q.hideUI();r.prepend(y.template.prev);var b=e.$("#spaui-prev");b.css("height",r.height()+"px");b.animate({right:"-="+y.animation.distance},y.animation.backAnimateTime,function(){q.revealPreviousContent(a)})},revealPreviousContent:function(b){k.popPop();e.$("#spaui-inner-content").remove();r.append(y.template.current);b&&k.prepForHome();g.gebi("spaui-inner-content").innerHTML=k.popDom();var c=e.$("#spaui-inner-content");
c.fadeIn(y.animation.contentFadeInTime,function(){e.$("#spaui-prev").remove();c.removeClass("spaui-hide");c.removeClass("spaui-new");c.focus();c.scrollTop(k.popScroll());var f=k.getTo(),d=k.getFrom();k.update({isBack:!0});q.showUI(q.mapMetricsPlaceToPage(f),function(){},{wentBack:!0});a.send({from:d,where:b?a.getContext("navHome"):a.getContext("navBack"),to:f})})},onAthenaSummoned:function(){(new Date).getTime()},onPageUnload:function(){q.publishEventForLeavingPage()},publishEventForLeavingPage:function(a){a||
(a=q.mapMetricsPlaceToPage(k.getFrom()),a=q.getPageDetails(q.getPageConfig(a)),n.publish("leavingPage",a))},setPage:function(a){H=a},getPage:function(){return H},getPageDetails:function(a){var b={type:a.type};"helpTopic"===a.type&&(b.topicId=c.getTopicID());return b},verifyAllPageConfig:function(){var b=["error","loading"];Object.keys(M).forEach(function(c){if(-1===b.indexOf(c)){var f=q.getPageConfig(c);a.getPlace(c);if(f.type!==c)throw"Invalid lookup of page configuration for page "+c;if(q.mapMetricsPlaceToPage(q.getMetricPlaceFromDetails(f))!==
c)throw"Invalid page detail to metric mapping for page "+c;}})},getPageConfig:function(a){if(M.hasOwnProperty(a)){var b=M[a];b.type=a;return b}return null},mapMetricsPlaceToPage:function(b){var c={};c[a.getPlace("alerts")]=q.getPageType("alerts");c[a.getPlace("notificationCard")]=q.getPageType("notificationCard");c[a.getPlace("notificationCardCategory")]=q.getPageType("notificationCardCategory");c[a.getPlace("browse")]=q.getPageType("browseAllHelp");c[a.getPlace("getSupportCard")]=q.getPageType("getSupportCard");
c[a.getPlace("feedback")]=q.getPageType("feedback");c[a.getPlace("info")]=q.getPageType("info");c[a.getPlace("search")]=q.getPageType("search");c[a.getPlace("forums")]=q.getPageType("forums");c[a.getPlace("chat")]=q.getPageType("chat");c[a.getPlace("selfServiceCard")]=q.getPageType("selfServiceCard");c[a.getPlace("workflow")]=q.getPageType("workflow");var f=null;c.hasOwnProperty(b)?f=c[b]:(b.substr(0,5)===a.getTopic()&&(f=q.getPageType("helpTopic")),"error-"===b.substr(0,6)&&(f=q.getPageType("error")));
return f},getMetricPlaceFromDetails:function(b){var c={};c[q.getPageType("alerts")]=a.getPlace("alerts");c[q.getPageType("notificationCard")]=a.getPlace("notificationCard");c[q.getPageType("notificationCardCategory")]=a.getPlace("notificationCardCategory");c[q.getPageType("browseAllHelp")]=a.getPlace("browse");c[q.getPageType("getSupportCard")]=a.getPlace("getSupportCard");c[q.getPageType("feedback")]=a.getPlace("feedback");c[q.getPageType("forums")]=a.getPlace("forums");c[q.getPageType("info")]=
a.getPlace("info");c[q.getPageType("search")]=a.getPlace("search");c[q.getPageType("chat")]=a.getPlace("chat");c[q.getPageType("selfServiceCard")]=a.getPlace("selfServiceCard");c[q.getPageType("workflow")]=a.getPlace("workflow");var f=null;if(c.hasOwnProperty(b.type))f=c[b.type];else if(b.type===q.getPageType("helpTopic"))f=a.getTopic()+b.topicId;else if(b.attemptedType)c=e.$.extend({},b,{type:b.attemptedType}),b.type===q.getPageType("error")&&(f="error-"+q.getMetricPlaceFromDetails(c)),b.type===
q.getPageType("platformError")&&(f="error-platform-"+q.getMetricPlaceFromDetails(c));else throw"No attempted page type";return f},createInFlightRequest:function(){z[C]={active:!0}},isInFlightRequestIdActive:function(a){return z[a]!==B},clearInFlightRequest:function(a){delete z[a]},clearAllInFlightRequests:function(){z={}},getContentPane:function(){return f.find("#spaui-inner-content")}};return{displaySpecialTitleBar:q.displaySpecialTitleBar,getPageType:q.getPageType,getPage:q.getPage,placeContentAfterHelpArticle:q.placeContentAfterHelpArticle,
placeContentBeforeSelector:q.placeContentBeforeSelector,placeElement:q.prepElement,placeEndpoint:q.prepEndpoint,placeEndpointAsHome:q.prepEndpointAsHome,placeTemplate:q.prepTemplate,placeEndpointAsAppend:q.prepEndpointAsAppend,placeEndpointInLocation:q.prepEndpointInLocation,placeHelpTopic:q.prepHelpTopic,placeHelpTopicFromTemplate:q.prepHelpTopicFromTemplate,placeFeaturedAndPredictive:q.prepFeaturedAndPredictive,goBack:q.goBack,showUI:q.externalShowUI,hideUI:q.hideUI,overrideConfig:q.overrideConfig,
initialState:q.initialState,init:q.init,verifyAllPageConfig:q.verifyAllPageConfig,getContentPane:q.getContentPane}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-util","spaui-events","spaui-shim","spaui-session","spaui-help","spaui-overlay","spaui-state","spaui-ui","spaui-instance").register("spaui-contact-deflection",function(e,g,k,c,a,b,d,n,h,p,f,l,r){var m=c.getPageType("getSupportCard"),v=null,w=!1,u=null,x=[c.getPageType("getSupportCard"),c.getPageType("helpTopic")],
A=/contact-us/,t=null,H,G,C={init:function(a){v=r.getDeflectionCardVisitId();C.hydrate(a);C.bind()},hydrate:function(a){t=a;H=e.$("#spaui-templates #spaui-template-getSupportCard");G=a.find("#spaui-foot-contact")},bind:function(){C.isActive()&&(C.rebindContactUs(),C.delegateBind(),b.subscribe(b.getName("newPage"),C.handleNewPage),b.subscribe(b.getName("summon"),C.handleSummon),b.subscribe(b.getName("dismissed"),C.handleDismiss))},className:function(a){return".spaui-get-support-card-"+a},rebindContactUs:function(){var a=
H.find(C.className("header-title")).text(),b=G.find(".spaui-footer-icon");G.text(a);G.append(b);G.removeAttr("href");G.attr("title",a.trim())},delegateBind:function(){t.delegate(".spaui-open "+C.className("item-header"),"click",C.handleClose);t.delegate(".spaui-closed "+C.className("item-header"),"click",C.handleOpen);t.delegate(C.className("item")+" a","click",C.handleLinkClick)},handleClose:function(a){C.transition(a,"spaui-open","spaui-closed","setItemCollapsed")},handleOpen:function(a){C.transition(a,
"spaui-closed","spaui-open","setItemExpanded")},transition:function(a,b,c,f){a.preventDefault();a=e.$(a.currentTarget);a=C.nearestItem(a);a.removeClass(b);a.addClass(c);b=a.attr("id");f={from:k.getFrom(),where:g.getContext("getSupportCardItem"),to:f,additionalObj:{itemId:b}};C.appendVisitAndSendMetrics(f)},handleNewPage:function(a){u=a.type;a.type===m?t.addClass("spaui-footer-hidden"):t.removeClass("spaui-footer-hidden");C.determineVisitId(a.type)},handleSummon:function(){w=!0;u&&C.determineVisitId(u)},
handleDismiss:function(){w=!1;C.clearVisitId()},determineVisitId:function(a){w&&(x.includes(a)||C.clearVisitId())},handleLinkClick:function(b){var c=b.currentTarget.href,d=a.getTopicIDFromLink(c),v=a.contains(c,A),m={from:k.getFrom(),where:g.getContext("content")},u={groupId:C.getGroupId(e.$(b.currentTarget))};p.removeOverlay();r.setContactUsLinkClicked(!0);d!==B?(b.preventDefault(),u=e.$.extend(u,{articleId:d}),m.additionalObj=u,C.appendVisitId(m),h.displayHelpTopic(d,c,m),a.executeIf(a.isSellerULink,
function(a){g.send(e.$.extend(m,{to:g.getTopic()+a}))})(d)):(n.setPinned(!1),d="launch-unknownPage",v&&(d="launch-contactUs",f.isOnUrl(A)&&C.isNotDeepLink(c)&&(b.preventDefault(),n.isLargeSize()&&l.makeSmall(),l.banisher({where:g.getContext("getSupportCardItem")}))),C.fillLinkMetricsObject(m,d,c,u),C.appendVisitAndSendMetrics(m))},isNotDeepLink:function(b){return a.getPathArguments(b).categoryId===B},fillLinkMetricsObject:function(a,b,c,f){f=e.$.extend(f,{url:c});a.additionalObj=f;a.to=b},getGroupId:function(a){return C.nearestItem(a).attr("id")},
nearestItem:function(a){return a.closest(C.className("item"))},isActive:function(){return 0<H.length},isVisiting:function(){return null!==r.getDeflectionCardVisitId()},displayDeflectionCard:function(a,b){var f={from:k.getFrom(),where:a,to:g.getPlace("getSupportCard")};b!==B&&(f.additionalObj={summoned:b});c.placeTemplate(m,function(){C.appendVisitAndSendMetrics(f);b&&!n.getPinned()&&l.summoner({external:!1})})},appendVisitAndSendMetrics:function(a){C.appendVisitId(a);g.send(a)},appendVisitId:function(a){var b=
e.$.extend(a.additionalObj,C.getVisitIdObj());a.additionalObj=b},getVisitIdObj:function(){null===v&&C.generateNewVisitId();return{visitId:v}},clearVisitId:function(){v=null;r.setDeflectionCardVisitId(null);r.setContactUsLinkClicked(!1)},generateNewVisitId:function(){var b=a.getUid();v=b;r.setDeflectionCardVisitId(b)},initialState:function(){C.isActive()&&C.shouldAutoSummon()&&(n.setTopicID(B),C.displayDeflectionCard("contactUsAutoSummon",!0),p.createFullscreenOverlay())},shouldAutoSummon:function(){var a=
!0===H.data("weblab-auto-summon"),b=f.isOnUrl(A),c=f.isParamPresent("categoryId"),d=r.getContactUsLinkClicked();b||r.setContactUsLinkClicked(!1);return a&&b&&!c&&!d}};return{init:C.init,isActive:C.isActive,isVisiting:C.isVisiting,displayDeflectionCard:C.displayDeflectionCard,initialState:C.initialState}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util","spaui-content","spaui-state","spaui-self-service-card").register("spaui-custom-card",function(e,g,k,c,a,b,d){var n,h={selfServiceCard:{endpoint:"athena-self-service-card",
init:d.init}},p={init:function(a){p.hydrate(a)},hydrate:function(a){n=a},assertCard:function(a){if(c.isNull(a))throw"Card name can not be null";if(!c.isString(a))throw"Card name must be a string";if(c.isNull(h[a]))throw"No card found with name: "+a;},getCardConfig:function(a){p.assertCard(a);return h[a]},getCardEndpoint:function(a){return k.getAthenaUrlPrefix()+a+"?requestId="+g.incrementChildRequestId()},setAsHome:function(c,d){var h=e.$.extend({},d),m=p.getCardConfig(c),v=p.getCardEndpoint(m.endpoint);
a.placeEndpointAsHome(c,b.enhanceUrl(v),function(a){if(a.isError)throw"Unable to load card: "+c+" with error: "+a.errorDetails;m.init(n,h)})}};return{init:p.init,assertCard:p.assertCard,setAsHome:p.setAsHome}});ASPP.when("ASPA","spaui-shim","spaui-events","spaui-metrics","spaui-history","spaui-expand","spaui-session","spaui-state","spaui-content","spaui-predictive","spaui-alert-util","spaui-async","spaui-search-state").register("spaui-direct-answer",function(e,g,k,c,a,b,d,n,h,p,f,l,r){var m,v=[],
w={init:function(a){m=a;w.flushPersistedDA();w.bindEvents()},bindEvents:function(){k.subscribe(k.getName("newPage"),w.handleNewPage);k.subscribeToAllAsyncModuleEvents(l.COMPLETED_EVENT,w.handleAsyncLoad);k.subscribe(k.getName("dismissed"),w.handleDismissal);m.delegate("a","click",w.handleAthenaLinkClick);m.delegate("#spaui-content .spaui-direct-answer","click",w.interactWithDirectAnswer);m.delegate("#spaui-content .spaui-direct-answer "+b.selectors.collapsedElementHeader,"click",w.expand);m.delegate("#spaui-content .spaui-direct-answer "+
b.selectors.expandedElementHeader,"click",w.collapse)},handleAsyncLoad:function(){w.scanForDirectAnswer(function(a,b){var c=e.$(b);return!w.wasScanned(c)})},handleNewPage:function(){d.clearPersistentDA();w.scanForDirectAnswer(function(){return!0})},handleDismissal:function(){d.clearPersistentDA()},scanForDirectAnswer:function(a){m.find("#spaui-content .spaui-direct-answer").filter(a).each(function(){var a=e.$(this);w.discoverDirectAnswer(a);w.transformDirectAnswer(a);w.transformCollapsing(a);a.attr("scanned",
"true")})},wasScanned:function(a){return"true"===a.attr("scanned")},handleAthenaLinkClick:function(a){0===e.$(a.target).closest("#spaui-content .spaui-direct-answer").length&&d.clearPersistentDA()},interactWithDirectAnswer:function(a){var b=m.find("#spaui-content .spaui-direct-answer").data("direct-answer-id");a=e.$(a.target);var c=0<m.find("#spaui-search-results .spaui-direct-answer").length;v.includes(b)||w.adoptDirectAnswer(b,a,c);c&&w.instrument(b,"interacted",a)},discoverDirectAnswer:function(a){var b=
0<m.find("#spaui-search-results .spaui-direct-answer").length,c=a.data("direct-answer-id");b&&w.instrument(c,"discovered",a);w.clearAdoptions();w.shouldAdoptImmediately(a)&&w.adoptDirectAnswer(c,a,b)},shouldAdoptImmediately:function(a){return a.hasClass("direct-answer-glance")},transformDirectAnswer:function(a){w.isDirectAnswerTool(a)&&w.isSearchToolsPresent()&&w.removeToolHeader()},isDirectAnswerTool:function(a){return 0<a.find(".spaui-direct-answer-tools").size()},isSearchToolsPresent:function(){return 0<
m.find("#spaui-tools-results").size()},removeToolHeader:function(){m.find("#spaui-tools-results h2").remove()},clearAdoptions:function(){v=[]},adoptDirectAnswer:function(a,b,c){c&&(v.push(a),w.instrument(a,"adopted",b));w.persistDA(b)},instrument:function(b,f,d){b=w.getAdditionalInfo(b,f,d);f={from:a.getFrom(),where:c.getContext("directAnswer"),to:f,additionalObj:b};c.send(f)},getAdditionalInfo:function(a,b,c){a={id:a,query:r.getSearchQuery()};"discovered"!==b&&"persisted"!==b&&(a.action=c.data("direct-answer-action")||
"unspecified");return a},expand:function(a){b.expand(a,w.instrumentExpandCollapse)},collapse:function(a){b.collapse(a,w.instrumentExpandCollapse)},instrumentExpandCollapse:function(b){b={from:a.getFrom(),where:c.getContext("directAnswer"),to:b};c.send(b)},transformCollapsing:function(a){a.find(".spaui-direct-answer-help-collapse").each(function(){b.transformCollapse(e.$(this))})},persistDA:function(b){var f=b.closest("#spaui-content .spaui-direct-answer");if(f.data("persistence-regex")){b=f[0].outerHTML;
f=f.data("persistence-regex");try{d.storePersistentDA({regex:f,html:b})}catch(l){b={from:a.getFrom(),where:c.getContext("directAnswer"),to:"localStorageExceeded"},c.send(b)}}},flushPersistedDA:function(){var a=d.getPersistentDA();a&&(n.isOnUrl(new RegExp(a.regex))&&(h.placeContentBeforeSelector("#spaui-predictive-help, #athena-predictive-help-container",a.html),a=e.$("#spaui-content .spaui-direct-answer").data("direct-answer-id"),w.instrument(a,"persisted"),p.preventAdoption(),f.hideAllAlerts()),
d.clearPersistentDA())}};return{init:w.init,isDirectAnswerTool:w.isDirectAnswerTool}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-async").register("spaui-discovery",function(e,g,k,c){var a={},b={},d={},n=!1,h={init:function(){g.subscribe(g.getName("newPage"),h.pageStateChanged);g.subscribe(g.getName("summon"),h.summonAthena);g.subscribe(g.getName("dismissed"),h.dismissAthena);g.subscribe(g.getName("leavingPage"),h.leftPage)},register:function(a,b,d,e){h.addModuleRegistration(a,{module:a,
page:b,multiplicity:d,discovered:!1,callback:e});g.subscribeAsyncModuleEvent(a,c.COMPLETED_EVENT,function(){h.asyncModuleLoaded(a)})},registerWithoutAsync:function(a,b,c,e){h.addModuleRegistration(a,{module:a,page:b,multiplicity:c,discovered:!1,callback:e});d[a]=!0},addModuleRegistration:function(b,c){a[b]||(a[b]=[]);a[b].push(c)},asyncModuleLoaded:function(a){d[a]=!0;h.discover()},pageStateChanged:function(a){h.setAllPageStatus(!1);b[a.type]=!0;h.discover()},leftPage:function(){h.setAllPageStatus(!1)},
setAllPageStatus:function(a){Object.keys(b).forEach(function(c){b[c]=a})},summonAthena:function(){n=!0;h.discover()},dismissAthena:function(){n=!1},discover:function(){k.forEachObjectValue(a,h.discoverModuleList)},discoverModuleList:function(a){a.forEach(h.discoverSingleModule)},discoverSingleModule:function(a){n&&b[a.page]&&d[a.module]&&(!a.discovered||a.multiplicity)&&(a.callback(),a.discovered=!0)}};return{init:h.init,register:h.register,registerWithoutAsync:h.registerWithoutAsync}});ASPP.when("ASPA",
"spaui-metrics","spaui-history","spaui-events","spaui-util","spaui-theming","spaui-ajax","spaui-content","spaui-session","spaui-async","spaui-alert-util").register("spaui-eci-widget",function(e,g,k,c,a,b,d,n,h,p,f){var l,r={fadeDuration:400,TIME_AFTER_SUBIMT_TO_HIDE:3E3,VALIDATION_ERROR:"validation_error",SUBMIT_TYPE:"SUBMIT"},m={init:function(a){m.hydrate(a);m.bind(a)},hydrate:function(a){l=e.$("#spaui, #sc-quicklinks-top");r.parentRequestId=g.getParentRequestId()},bind:function(){m.contentDelegate(".spaui-eci-verify-yes",
"click",m.getDetailsAndCall(function(a,b){m.submitPhone(a,b,!0)}));m.contentDelegate(".spaui-eci-verify-no","click",m.getDetailsAndCall(m.verifyToChoosePhone));m.contentDelegate(".spaui-eci-submit","click",m.getDetailsAndCall(function(a,b){m.submitPhone(a,b,!1)}));m.contentDelegate(".spaui-eci-remind-me-later","click",m.getDetailsAndCall(m.remindMeLaterClicked,!0))},contentDelegate:function(a,b,c){l.delegate(".spaui-eci-content "+a,b,c)},getDetailsAndCall:function(a,b){return function(c){b&&c.preventDefault();
var d=f.getAlertFromInnerEvent(c),d=f.getAlertDetails(d);a(d.id,m.getEciDom(c.target))}},getEciDom:function(a){return e.$(a).closest(".spaui-eci-content")},registerHandles:function(a){a.simpleRegister(m.isEciAlert,g.getContext("eciNotification"),g.getContext("eciNotification"),{hasMinimizeButton:!0})},isEciAlert:function(a){return 0<a.find(".spaui-eci-content").length},submitPhone:function(b,c,f){var l=c.find(".spaui-eci-choose-phone").data("path").replace(/\{feedbackType\}/,r.SUBMIT_TYPE),h=m.collectParams(b,
c,f),l=l+"?"+a.formatObjectAsUrlParams(h);m.instrumentWithVerify(b,"submitted",f);m.submitToLoading(b,c);d.get(l,{},e.$.proxy(m.submitPhoneSuccess,null,b,c,f),e.$.proxy(m.submitPhoneFailed,null,b,c,f))},remindMeLaterClicked:function(a,b){var c=b.find(".spaui-eci-verify").is(":visible"),f=m.collectParams(a,b,c);d.get(k.getAthenaUrlPrefix()+"alert/LATER?ids="+f.ids+"&prid="+r.parentRequestId,{},function(){m.instrumentWithVerify(a,"remindMeLaterClicked",c)});m.hide(a)},collectParams:function(a,b,c){a=
{ids:a,prid:r.parentRequestId,sellerVerifysNumber:c};c?(a.country_prefix="",a.phone=b.find(".spaui-eci-verify-phone").val()):(b=b.find(".spaui-eci-choose-phone"),a.country_prefix=b.find(".spaui-eci-country-prefix").val(),a.phone=b.find(".spaui-eci-phone").val());return a},submitPhoneSuccess:function(a,b,c,f){f.data===r.VALIDATION_ERROR?(m.instrumentWithVerify(a,"validationError",c),m.loadingToValidationFailure(a,b,c)):(m.instrumentWithVerify(a,"submitSuccess",c),m.loadingToSuccess(a,b))},submitPhoneFailed:function(a,
b,c){m.instrumentWithVerify(a,"submitFailed",c);m.loadingToFailure(a,b,c)},verifyToChoosePhone:function(a,b){m.instrument(a,"verifyDenied");b.find(".spaui-eci-verify").fadeOut({duration:r.fadeDuration,complete:function(){b.find(".spaui-eci-choose-phone").show()}})},submitToLoading:function(a,b){b.find(".spaui-eci-choose-phone").hide();b.find(".spaui-eci-verify").hide();b.find(".spaui-eci-validation-failure").hide();b.find(".spaui-eci-submit-failure").hide();b.find(".spaui-eci-form-loading").show()},
loadingToSuccess:function(a,b){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-remind-me-later").hide();b.find(".spaui-eci-submit-success").show();setTimeout(function(){m.hide(a)},r.TIME_AFTER_SUBIMT_TO_HIDE)},hide:function(a){f.hideSingleAlert(a)},showVerifyOrChoose:function(a,b){var c={duration:r.fadeDuration};b?a.find(".spaui-eci-verify").fadeIn(c):a.find(".spaui-eci-choose-phone").fadeIn(c)},loadingToValidationFailure:function(a,b,c){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-validation-failure").show();
m.showVerifyOrChoose(b,c)},loadingToFailure:function(a,b,c){b.find(".spaui-eci-form-loading").hide();b.find(".spaui-eci-submit-failure").show();m.showVerifyOrChoose(b,c)},instrumentWithVerify:function(a,b,c){m.instrument(a,b,{verifying:c})},instrument:function(a,b,c){g.send({from:k.getFrom(),where:g.getContext("eciNotification"),to:b,additionalObj:e.$.extend(c,{eciId:a})})},mockConfig:function(a){e.$.extend(r,a)}};return{init:m.init,mockConfig:m.mockConfig,registerHandles:m.registerHandles}});ASPP.when("ASPA").register("spaui-events",
function(e){var g={initialized:"initialized",initializedWithoutSummon:"initializedWithoutSummon",triggerSummon:"triggerSummon",summon:"summon",dismissed:"dismissed",newPage:"newPage",newContentOnPage:"newContentOnPage",leavingPage:"leavingPage",pushNotificationOpened:"pushNotificationOpened",pushNotificationClosed:"pushNotificationClosed",pushNotificationMinimize:"pushNotificationMinimize",alertsLoaded:"alertsLoaded",goHome:"goHome",featuresChanged:"featuresChanged",notificationListUpdated:"notificationListUpdated",
notificationFetchComplete:"notificationFetchComplete",selfServiceCardUsed:"selfServiceCardUsed"},k={init:function(){},getName:function(c){if(g[c])return g[c];throw"Name '"+c+"' not supported in EVENTS module";},resolveAuiName:function(c){return"spaui:"+c},resolveAsyncName:function(c,a){return"async"+c+":"+a},subscribe:function(c,a){e.on(k.resolveAuiName(c),a)},unsubscribe:function(c,a){e.off(k.resolveAuiName(c),a)},publish:function(c,a){e.trigger(k.resolveAuiName(c),a)},subscribeAsyncModuleEvent:function(c,
a,b){k.subscribe(k.resolveAsyncName(a,c),b)},publishAsyncModuleEvent:function(c,a,b){k.publish(k.resolveAsyncName(a,c),b);k.publish(k.resolveAsyncName(a,":all"),b)},subscribeToAllAsyncModuleEvents:function(c,a){k.subscribeAsyncModuleEvent(":all",c,a)}};return{init:k.init,getName:k.getName,subscribe:k.subscribe,unsubscribe:k.unsubscribe,publish:k.publish,subscribeAsyncModuleEvent:k.subscribeAsyncModuleEvent,subscribeToAllAsyncModuleEvents:k.subscribeToAllAsyncModuleEvents,publishAsyncModuleEvent:k.publishAsyncModuleEvent}});
ASPP.when("ASPA").register("spaui-expand",function(e){var g={collapsed:"spaui-collapsed",expanded:"spaui-expanded",duration:400},k={collapsedElementHeader:".spaui-collapsing."+g.collapsed+" .spaui-collapsingHeader",expandedElementHeader:".spaui-collapsing."+g.expanded+" .spaui-collapsingHeader",template:"#spaui-template-collapsing",collapsingContent:".spaui-collapsingContent",anyHeader:":header",elementHeader:".spaui-collapsingHeader"},c,a={init:function(){c=e.$(k.template)},expand:function(b,c){var e=
a.getCollapsingContentObjectFromClick(b);e.body.slideDown(g.duration,function(){a.changeClass(g.collapsed,g.expanded,e.parent,c)})},collapse:function(b,c){var e=a.getCollapsingContentObjectFromClick(b);e.body.slideUp(g.duration,function(){a.changeClass(g.expanded,g.collapsed,e.parent,c)})},getCollapsingContentObjectFromClick:function(a){a.preventDefault();a=e.$(a.currentTarget).parent();var c=a.find(k.collapsingContent);return{parent:a,body:c}},changeClass:function(a,c,e,h){e.removeClass(a);e.addClass(c);
h(c.replace("spaui-",""))},transformCollapse:function(b){var d=a.findHeader(b);if(!(0>=d.size())){d.detach();var e=c.clone();e.removeAttr("id");e.find(k.elementHeader).prepend(d);e.addClass(g.collapsed);b=b.replaceWith(e);e.find(k.collapsingContent).append(b)}},findHeader:function(a){return a.children(k.anyHeader).first()},overrideConfig:function(a){e.$.extend(g,a)}};return{init:a.init,expand:a.expand,collapse:a.collapse,transformCollapse:a.transformCollapse,overrideConfig:a.overrideConfig,selectors:k}});
ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-discovery","spaui-async","ready").register("spaui-featured-content",function(e,g,k,c,a,b){var d,n,h={init:function(e){d=e;a.register("featured-content","info",!1,h.instrumentDiscover);c.subscribeAsyncModuleEvent("featured-content",b.COMPLETED_EVENT,h.onload)},onload:function(){h.hydrate()},hydrate:function(){n=d.find("#spaui-featured-content-results .spaui-search-results")},getTopicIds:function(){var a=[];n.find("li.spaui-search-result a.spaui-search-result-hot").each(function(){var b=
e.$(this);a.push(b.data("id"))});return a},instrumentDiscover:function(){var a=h.getTopicIds();g.send({from:k.getFrom(),where:g.getContext("featured"),to:"discovered",additionalObj:{featuredTopicIds:a.join(",")}})}};return{getTopicIds:h.getTopicIds,init:h.init}});ASPP.when("ASPA","spaui-util","spaui-history","spaui-metrics","spaui-content").register("spaui-feedback",function(e,g,k,c,a){var b,d,n={active:null,max:1E3,typing:!1,warn:!1},h={init:function(a){h.hydrate(a);h.bind()},hydrate:function(a){b=
a;d=b.find("#spaui-content-ui-back")},bind:function(){b.delegate(".spaui-feedback-link","click",h.giveFeedback);b.delegate("#spaui-feedback-rate-stars","hover",h.starsHover);b.delegate(".spaui-feedback-rate-star","hover",h.starHover);b.delegate(".spaui-feedback-rate-star","click",h.starClick);b.delegate("#spaui-feedback-rate-clear","click",h.starClear);b.delegate("#spaui-feedback-comments-textarea","focus",h.fbTextFocus);b.delegate("#spaui-feedback-comments-textarea","keyup",h.fbTextType);b.delegate("#spaui-feedback-comments-cancel",
"click",h.commentsClear);b.delegate("#spaui-feedback-comments-send","click",h.commentsSend)},giveFeedback:function(a){a.preventDefault();h.launchFeedback()},launchFeedback:function(){a.placeTemplate("feedback",function(a){c.send({from:k.getFrom(),where:c.getContext("navFeedback"),to:c.getPlace("feedback")})})},starsHover:function(a){"mouseenter"===a.type&&(b.find(".spaui-feedback-rate-star").removeClass("on"),b.find("#spaui-feedback-rate-confirm").hide());if("mouseleave"===a.type)for(b.find(".spaui-feedback-rate-star").removeClass("over"),
b.find(".spaui-feedback-rate-text").hide(),n.active&&b.find("#spaui-feedback-rate-confirm").show(),a=1;a<n.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on")},starHover:function(a){if("mouseenter"===a.type){var c=parseInt(a.currentTarget.id.substr(24),10);b.find("#spaui-feedback-rate-confirm").hide();b.find(".spaui-feedback-rate-text").hide();b.find("#spaui-feedback-rate-text"+c).show();var d;for(d=1;d<c+1;d++)b.find("#spaui-feedback-rate-star"+d).addClass("over")}"mouseleave"===a.type&&
(e.$(a.currentTarget).removeClass("over"),e.$(a.currentTarget).removeClass("on"))},starClick:function(a){n.active=parseInt(a.currentTarget.id.substr(24),10);b.find(".spaui-feedback-rate-star").removeClass("on");b.find(".spaui-feedback-rate-star").removeClass("over");b.find(".spaui-feedback-rate-text").hide();for(a=1;a<n.active+1;a++)b.find("#spaui-feedback-rate-star"+a).addClass("on");b.find("#spaui-feedback-rate-confirm").show();b.find("#spaui-feedback-rate-comments").show();c.send({from:k.getFrom(),
where:c.getContext("rating"),to:c.getPlace("setFbRate"),payloadObj:{feedbackStarRating:n.active}})},starClear:function(a){a.preventDefault();b.find("#spaui-feedback-rate-confirm").hide();b.find("#spaui-feedback-rate-comments").hide();n.active=null;b.find(".spaui-feedback-rate-star").removeClass("on");b.find("#spaui-feedback-context").show();c.send({from:k.getFrom(),where:c.getContext("rating"),to:c.getPlace("setFbClear")})},fbTextFocus:function(a){a=b.find("#spaui-feedback-comments-textarea");a.addClass("active");
g.textareaFocusPlaceholderFix(a)},fbTextType:function(a){var c=b.find("#spaui-feedback-comments-counter");a=a.currentTarget.value;n.typing||(c.show(),b.find("#spaui-feedback-comments-buttons").show(),b.find("#spaui-feedback-context").hide(),n.typing=!0);var d=n.max-a.length;1>=d&&(a.substr(0,n.max),d=0);g.toggleClassOnCond(c,"asp-color-price",21>d);c.text(d)},commentsSend:function(a){a.preventDefault();a=b.find("#spaui-feedback-comments-textarea").val();""!==a&&(n.typing=!1,d.trigger("click",g.gebi("spaui-feedback-message").innerHTML),
c.send({from:k.getFrom(),to:c.getPlace("setFbSend"),where:c.getContext("rating"),payloadObj:{feedbackText:a}}))},commentsClear:function(a){a.preventDefault();n.typing=!1;b.find("#spaui-feedback-comments-textarea").val("");b.find("#spaui-feedback-comments-textarea").removeClass("active");b.find("#spaui-feedback-comments-counter").hide();b.find("#spaui-feedback-comments-counter").text(n.max);b.find("#spaui-feedback-comments-buttons").hide();b.find("#spaui-feedback-context").show()},setTyping:function(a){n.typing=
a},overrideConfig:function(a){n=e.$.extend({},n,a)}};return{init:h.init,overrideConfig:h.overrideConfig,setTyping:h.setTyping,launchFeedback:h.launchFeedback}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-content","spaui-history","spaui-events","spaui-state").register("spaui-forums",function(e,g,k,c,a,b,d){var n=null,h={},p={init:function(a){p.hydrate(a);p.bind()},hydrate:function(b){h.spaui=b;h.templates=b.find("#spaui-templates");n=a.getAthenaUrlPrefix()+"forums"},bind:function(){b.subscribe(b.getName("newPage"),
p.onNewPage);b.subscribe(b.getName("leavingPage"),p.onLeavingPage);p.bindForums([".spaui-forums-thread",".spaui-forums-thread-subject"],"click",p.openThread);p.bindForums([".spaui-forums-forum",".spaui-forums-forum-name"],"click",p.openForum);p.bindForums(".spaui-forums-browse-link","click",p.openBrowseForum)},getForumSelector:function(a){e.$.isArray(a)||(a=[a]);a.unshift("#spaui-forums");return a.join(" ")},bindForums:function(a,b,c){return h.spaui.delegate(p.getForumSelector(a),b,c)},getForumsElements:function(a){return h.spaui.find(p.getForumSelector(a))},
displayForums:function(){var b=d.enhanceUrl(n);c.placeEndpoint("forums",b,function(){k.send({from:a.getFrom(),where:k.getContext("footer"),to:k.getPlace("forums")})})},onNewPage:function(b){if(b.type===c.getPageType("forums")){b=h.spaui.find("#spaui-forums #spaui-forums-title-bar");0<b.length&&(h.specialTitleBar&&h.specialTitleBar.remove(),h.specialTitleBar=b);c.displaySpecialTitleBar(h.specialTitleBar);var d=[];p.getForumsElements([".spaui-forums-threads-list",".spaui-forums-thread"]).each(function(){d.push(e.$(this).data("thread-id"))});
var g=[];p.getForumsElements([".spaui-forums-forum-list",".spaui-forums-forum"]).each(function(){g.push(e.$(this).data("forum-id"))});k.send({from:a.getFrom(),where:"forumsLinks",to:"discovered",additionalObj:{featuredThreadIds:d.join(","),suggestedForumIds:g.join(",")}})}},onLeavingPage:function(a){a.type===c.getPageType("forums")&&h.templates.append(h.specialTitleBar)},openThread:function(a){p.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-thread");p.instrumentForums(k.getContext("featuredThreads"),
"ThreadClicked",{threadId:a.data("thread-id"),rank:a.data("rank"),total:p.getForumsElements(".spaui-forums-threads-list").data("total")})},openForum:function(a){p.openInNewTab(a);a=e.$(a.target).closest(".spaui-forums-forum");p.instrumentForums(k.getContext("suggestedForums"),"ForumClicked",{forumId:a.data("forum-id"),rank:a.data("rank"),total:p.getForumsElements(".spaui-forums-forum-list").data("total")})},openBrowseForum:function(a){p.openInNewTab(a);p.instrumentForums(k.getContext("browseForums"),
"BrowseClicked",{})},openInNewTab:function(a){a.preventDefault();g.openInNewWindow(a.target.getAttribute("href"))},instrumentForums:function(b,c,d){k.send({from:a.getFrom(),where:b,to:"forums"+c,additionalObj:d})}};return{init:p.init,displayForums:p.displayForums}});ASPP.when("ASPA","spaui-metrics","spaui-ui","spaui-search-suggestions","spaui-browser-support").register("spaui-global-nav-search",function(e,g,k,c,a){var b,d,n,h,p,f,l={invokeSearchFunc:null,invokeSynchronizeFunction:null,defaultSearchValue:null},
r=!1,m={init:function(a,b){m.hydrate(a,b);m.bind()},hydrate:function(a,c){l.invokeSearchFunc=a;l.invokeSynchronizeFunction=c;b=e.$(document);d=e.$("#sc-global-search");n=d.find("#sc-global-search-form #sc-search-field");h=d.find("#sc-global-search-form .sc-search-button");p=e.$("#spaui-templates #spaui-template-global-nav-search-loading");f=p.find("#spaui-global-nav-loading-tip");0<n.length&&(l.defaultSearchValue=n.val().trim());m.setupPlaceholder()},bind:function(){h.click(m.clickSearch);b.keydown(m.searchKey);
n.keyup(m.synchronizeAthenaSearch);n.focus(m.searchFocused);n.blur(m.searchBlurred);n.bind("paste",l.pasteFunc)},setupPlaceholder:function(){a.placeholderIsSupported()&&!m.placeHolderIsSet(n)?(n.attr("placeholder",l.defaultSearchValue),n.removeAttr("onclick"),n.removeAttr("onblur"),n.val(""),l.placeholderFunc=m.doNothing,l.pasteFunc=m.doNothing):(l.placeholderFunc=m.setPlaceholder,l.pasteFunc=m.onPaste)},placeHolderIsSet:function(a){return a.attr("placeholder")!==B},onPaste:function(){!m.searchTermIsViable()&&
r&&n.val("")},doNothing:function(){},synchronizeAthenaSearch:function(a){l.invokeSynchronizeFunction(n.val())},clickSearch:function(a){a.preventDefault();m.submitSearch()},searchKey:function(a){if(r&&13===(a.keyCode||a.which))return m.submitSearch(),a.preventDefault(),!1},searchFocused:function(a){r=!0;c.newBind(n,m.submitSearch,g.getPlace("globalNav"))},searchBlurred:function(a){r=!1},searchTermIsViable:function(){var a=n.val().trim();return""!==a&&a!==l.defaultSearchValue},submitSearch:function(a){if(m.searchTermIsViable()){m.showLoading();
c.disable();c.hide();var b=function(){m.hideLoading();c.enable();k.summoner({},function(){n.blur()})};l.invokeSearchFunc(n.val(),{from:g.getPlace("globalNav"),where:g.getContext("globalSearch")},null,a,function(a){"order-redirect"===a?m.changeLoadingToOrderRedirect():"inventory-redirect"===a||"skucentral-redirect"===a?m.changeLoadingToInventoryRedirect():b()},function(a){b()})}},showLoading:function(){n.after(f)},changeLoadingToOrderRedirect:function(){f.addClass("spaui-global-nav-redirecting-to-order")},
changeLoadingToInventoryRedirect:function(){f.addClass("spaui-global-nav-redirecting-to-inventory")},hideLoading:function(){f.removeClass("spaui-global-nav-redirecting-to-order");f.removeClass("spaui-global-nav-redirecting-to-inventory");p.append(f)},setSearchBoxValue:function(b){m.isEmpty(b)&&!a.placeholderIsSupported()?l.placeholderFunc():n.val(b)},isEmpty:function(a){return a===B||null===a||0===a.length},setPlaceholder:function(){n.val(l.defaultSearchValue)}};return{init:m.init,setSearchBoxValue:m.setSearchBoxValue}});
ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-alert-metrics","spaui-alert-util","spaui-util").register("spaui-grouped-alerts",function(e,g,k,c,a,b){var d=g.getContext("groupedAlert"),n=g.getContext("groupedAlert"),h=null,p={init:function(a){h=a;h.delegate(p.getSelector(".spaui-grouped-alert-item-action"),"click",p.instrumentInteract);h.delegate(p.getSelector(".spaui-grouped-alert-extender"),"click",p.toggleExtender)},registerHandles:function(a){a.customRegister(p.isGroupedAlert,p.alertDiscovered,
function(){},function(){},function(){})},isGroupedAlert:function(a){return a.hasClass("spaui-grouped-alert")},alertDiscovered:function(b){var h=[];p.getRangeOfAlerts(b,0,2).each(function(){var a=e.$(this);h.push(a.data("id"))});b=a.getAlertDetails(b);b.id=h.join(",");c.discover(d,n,b)},toggleExtender:function(a){a.preventDefault();a=e.$(a.currentTarget);b.updateScrollTop(a.closest(".spaui-grouped-alert"),100);a.hasClass("spaui-alert-extender-closed")?(a.removeClass("spaui-alert-extender-closed").addClass("spaui-alert-extender-open"),
a.parent().find(".spaui-alert-content").css("display","block"),p.extenderExpanded(a.closest(".spaui-grouped-alert"))):(a.removeClass("spaui-alert-extender-open").addClass("spaui-alert-extender-closed"),a.parent().find(".spaui-alert-content").css("display","none"),p.extenderCollapsed(a.closest(".spaui-grouped-alert")))},extenderExpanded:function(b){var h=[];p.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);h.push(a.data("id"))});var n=a.getAlertDetails(b),m=h.join(",");c.sendIrisDiscover(m,function(){g.send({from:k.getFrom(),
where:d,to:g.getPlace("groupedAlertInnerDiscover"),additionalObj:{isPush:n.isPush},payloadObj:{notificationId:m,notificationType:n.type,notificationName:n.name}})})},extenderCollapsed:function(b){var h=[];p.getRangeOfAlerts(b,2).each(function(){var a=e.$(this);h.push(a.data("id"))});b=a.getAlertDetails(b);b.id=h.join(",");c.minimize(d,n,b)},instrumentInteract:function(b){var h=a.getAlertFromInnerEvent(b);c.read(d,n,p.getDetailsForAlert(h,p.getAlertFromEvent(b)))},getSelector:function(a){e.$.isArray(a)||
(a=[a]);a.unshift(".spaui-grouped-alert");return a.join(" ")},getRangeOfAlerts:function(a,b,c){return a.map(function(){return e.$(this).find("ul li.spaui-grouped-alert-item").map(function(){return e.$(this)}).get()}).slice(b,c)},getDetailsForAlert:function(b,c){var d=a.getAlertDetails(b);d.id=c.data("id");return d},getAlertFromEvent:function(a){return e.$(a.target).closest(".spaui-grouped-alert-item")}};return{init:p.init,registerHandles:p.registerHandles}});ASPP.when("ASPA","spaui-metrics","spaui-history",
"spaui-content","spaui-util","spaui-weblabs","spaui-discovery","spaui-expand","spaui-ui").register("spaui-help",function(e,g,k,c,a,b,d,n,h){var p=null,f=".spaui-help-content "+n.selectors.collapsedElementHeader,l=".spaui-help-content "+n.selectors.expandedElementHeader,r,m={init:function(a){r=a;m.delegateBind();m.eventBind()},initialState:function(){return a.hasTemplate("preloadedHelp")?(m.displayHelpTopic(null,null,null,null,!1,!0),!0):!1},delegateBind:function(){r.delegate(f,"click",m.expand);r.delegate(l,
"click",m.collapse)},eventBind:function(){d.registerWithoutAsync("helpTopic",c.getPageType("helpTopic"),!0,m.discoverHelpTopic);d.registerWithoutAsync("browseAllHelp",c.getPageType("browseAllHelp"),!0,m.discoverBrowseAllHelp)},bind:function(){e.$(".spaui-help-content .collapsible").each(function(){var a=e.$(this);m.determineCollapse(a)})},expand:function(a){n.expand(a,m.instrumentExpandCollapse)},collapse:function(a){n.collapse(a,m.instrumentExpandCollapse)},determineCollapse:function(a){n.transformCollapse(a)},
displayHelpTopic:function(a,b,d,f,l,n){d===B&&(d={});var k=function(b){var c=m.getTopicId(),k=m.getTrackingData({to:g.getTopic()+c},d,l,n);b.isError?e.$.extend(k,{isError:!0,errorDetails:b.errorDetails}):b.isPlatformError&&(k.isPlatformError=!0);n&&(a=c);p={tracking:k,bookmark:f,actualTopicId:c+"",requestedTopicId:a+""};b.isError||b.isPlatformError||!n||h.summoner({preload:!0})};n?c.placeHelpTopicFromTemplate(k):c.placeHelpTopic(a,b,k)},displayHelpTopicFromSession:function(a,b,c){m.displayHelpTopic(a,
b,c,null,!0)},getTopicId:function(a){return r.find(".spaui-help").data("topic")},instrumentRedirects:function(a,b){g.send({from:"topic"+b,where:"redirect",to:"topic"+a})},discoverHelpTopic:function(){if(p){var b=p.tracking,c=p.bookmark,d=p.actualTopicId,f=p.requestedTopicId;b.isError||b.isPlatformError||(m.bind(),c&&(c=c.slice(1),a.gebi(c)&&a.updateScrollTop(e.$(c),50)));g.validate(b);g.send(b);d!==f&&m.instrumentRedirects(d,f);p=null}},displayBrowseAllHelp:function(a,b){c.placeEndpoint(c.getPageType("browseAllHelp"),
k.getAthenaUrlPrefix()+"browse-all-help/",function(c){p={tracking:m.getTrackingData({where:g.getContext("featured"),to:g.getPlace("browse")},a,b)}})},displayBrowseAllHelpFromSession:function(a){m.displayBrowseAllHelp(a,!0)},getTrackingData:function(a,b,c,d){var f=a.to;a=e.$.extend({from:k.getFrom()},a,b,{to:f});c&&(a.from=a.to,a.where=g.getContext("session"),a.to=g.getPlace("refresh"));d&&(a.where=g.getContext("preload"));return a},discoverBrowseAllHelp:function(){p&&(g.send(p.tracking),p=null)},
instrumentExpandCollapse:function(a){g.send({from:k.getFrom(),where:g.getContext("content"),to:a})}};return{init:m.init,initialState:m.initialState,displayHelpTopic:m.displayHelpTopic,displayHelpTopicFromSession:m.displayHelpTopicFromSession,displayBrowseAllHelp:m.displayBrowseAllHelp,displayBrowseAllHelpFromSession:m.displayBrowseAllHelpFromSession,getTopicId:m.getTopicId}});ASPP.when("ASPA","spaui-search-state").register("spaui-history",function(e,g){var k={dom:[],searches:[],from:["info"],scroll:[],
pop:[],athenaUrlPrefix:"/hz/sellerpartner/",augurUrlPrefix:"/hz/augur/"},c=e.$.extend(!0,{},k),a={init:function(b){b&&(b.athenaUrl&&(k.athenaUrlPrefix=b.athenaUrl),b.augurUrl&&(k.augurUrlPrefix=b.augurUrl));a.resetCfg()},resetCfg:function(){c=e.$.extend(!0,{},k)},getAthenaUrlPrefix:function(){return c.athenaUrlPrefix},getAugurUrlPrefix:function(){return c.augurUrlPrefix},returnFrom:function(){return c.from[c.from.length-1]},returnTo:function(){return c.from[c.from.length-2]},returnPop:function(){return c.pop[c.pop.length-
1]},returnFromLength:function(){return c.from.length},prepForHome:function(){var b=c.dom[0];c.dom=[];c.dom.push(b);var b=c.from[0],d=a.returnFrom();c.from=[];c.from.push(b);c.from.push(d);c.searches=[]},pushDom:function(a){c.dom.push(a)},pushPop:function(a){c.pop.push(a)},pushScroll:function(a){c.scroll.push(a)},pushSearchState:function(a){c.searches.push(a)},popDom:function(){return c.dom.pop()},popPop:function(){return c.pop.pop()},popScroll:function(){return c.scroll.pop()},update:function(a){a.isBack?
(c.from.pop(),c.searches.pop(),g.set(c.searches[c.searches.length-1])):(c.from.push(a.to),"search"!==a.to&&(g.clear(),c.searches.push(g.get())))},overrideHome:function(b){a.resetCfg();c.from=[b]},getLastSearchHistory:function(){return 0<c.searches.length?c.searches[c.searches.length-1]:{}},setSearchStartHistory:function(b){a.getLastSearchHistory().start=b},returnSearchStartHistory:function(b){return a.getLastSearchHistory().start},returnSearchTotalHistory:function(){return a.getLastSearchHistory().total},
returnSearchQueryHistory:function(){return a.getLastSearchHistory().query}};return{init:a.init,getAthenaUrlPrefix:a.getAthenaUrlPrefix,getAugurUrlPrefix:a.getAugurUrlPrefix,update:a.update,prepForHome:a.prepForHome,getFrom:a.returnFrom,getTo:a.returnTo,getPop:a.returnPop,getFromLength:a.returnFromLength,pushDom:a.pushDom,pushPop:a.pushPop,pushScroll:a.pushScroll,pushSearchState:a.pushSearchState,popDom:a.popDom,popPop:a.popPop,popScroll:a.popScroll,overrideHome:a.overrideHome,setSearchStartHistory:a.setSearchStartHistory,
getSearchStartHistory:a.returnSearchStartHistory,getSearchTotalHistory:a.returnSearchTotalHistory,getSearchQueryHistory:a.returnSearchQueryHistory}});ASPP.when("ASPA","spaui-metrics","spaui-util","spaui-history","spaui-session","spaui-contact-deflection","spaui-events","spaui-content","spaui-shim").register("spaui-hmd",function(e,g,k,c,a,b,d,n,h){var p=null,f,l,r={commentFadeInDuration:2E3,completeFadeOutDelay:2E3,fadeOutDuration:400,improvements:{1:!1,2:!1,3:!1,4:!1},commentsMaxChar:1E3,commentsAreForYes:!1},
m={init:function(a){m.hydrate(a);m.bind()},hydrate:function(a){f=a},bind:function(){f.delegate("#spaui-help-hmd-yes","click",m.yes);f.delegate("#spaui-help-hmd-no","click",m.no);f.delegate(".spaui-help-hmd-comments-textarea textarea","click",m.focusTextarea);f.delegate(".spaui-help-hmd-comments-textarea textarea","keyup",m.typeTextarea);f.delegate(".spaui-help-hmd-comments-cancel","click",m.clear);f.delegate(".spaui-help-hmd-comments-send","click",m.send);f.delegate(".spaui-help-hmd-q","change",m.check);
f.delegate(".spaui-help-hmd-message a.spaui-external-contact-us-link","click",m.contactUsLinkClicked);d.subscribe(d.getName("newPage"),m.onNewPage)},dom:function(a){return f.find("#spaui-help-hmd-"+a)},commentsDom:function(a){return p.find(".spaui-help-hmd-comments-"+a)},allCommentsDom:function(a){return f.find(".spaui-help-hmd-comments-"+a)},getContent:function(){return n.getContentPane()},onNewPage:function(a){a.type===n.getPageType("helpTopic")&&(0>=f.find("#spaui-content #spaui-help-hmd-question").length&&
(n.getContentPane()[0].innerHTML+=k.gebi("spaui-template-help-hmd").innerHTML),m.allCommentsDom("send").attr("data-topic",a.topicId),m.dom("yes").attr("data-topic",a.topicId),m.dom("no").attr("data-topic",a.topicId))},activateComments:function(a){m.dom("question").addClass("spaui-hide");var c=m.dom("message");c.removeClass("spaui-hide");p=f.find("#spaui-help-hmd-comments-"+a);p.removeClass("spaui-hide");l=p.find(".spaui-help-hmd-comments-textarea textarea");r.commentsAreForYes="yes"===a;m.resetComments();
m.getContent().animate({scrollTop:m.getContent()[0].scrollHeight},r.commentFadeInDuration);!r.commentsAreForYes&&b.isActive()&&b.isVisiting()&&c.find(".spaui-help-hmd-message-inner .asp-alert-content").html(m.dom("negative-get-support-card-message").html())},contactUsLinkClicked:function(b){a.setContactUsLinkClicked(!0);g.send({from:c.getFrom(),where:g.getContext("helpHmd"),to:"getSupportContactUsLink",additionalObj:{topicId:m.dom("no").data("topic")}})},yes:function(a){a.preventDefault();m.activateComments("yes");
k.textareaFocusPlaceholderFix(l);m.instrument(a,!0,!1)},no:function(a){a.preventDefault();m.activateComments("no");k.textareaFocusPlaceholderFix(l);m.instrument(a,!1,!1)},focusTextarea:function(a){l.addClass("active");k.textareaFocusPlaceholderFix(l)},typeTextarea:function(a){1>=r.commentsMaxChar-a.currentTarget.value.length&&(a.currentTarget.value=a.currentTarget.value.substr(0,r.commentsMaxChar));a=r.commentsMaxChar-a.currentTarget.value.length;m.commentsDom("counter").text(a);k.toggleClassOnCond(m.commentsDom("counter"),
"asp-color-price",21>a)},clear:function(a){a.preventDefault();m.resetComments()},resetComments:function(){Object.keys(r.improvements).forEach(function(a){r.improvements[a]=!1;f.find("#spaui-help-hmd-q-"+a).attr("checked",!1)});l.val("");l.removeClass("active");m.commentsDom("counter").text(r.commentsMaxChar)},send:function(a){a.preventDefault();if(null!==p){k.textareaFocusPlaceholderFix(l);m.instrument(a,r.commentsAreForYes,!0);m.resetComments();p.addClass("spaui-hide");p=null;m.dom("message").addClass("spaui-hide");
m.dom("message-again").removeClass("spaui-hide");var b=setTimeout(function(){m.dom("message-again").fadeOut(r.fadeOutDuration,function(){m.dom("message-again").remove()});clearTimeout(b);b=null},r.fadeOutDuration)}},check:function(a){var b=k.gda(a.currentTarget,"aInputName");a=e.$(a.currentTarget).find("input");r.improvements[b]=a.prop("checked")},instrument:function(a,b,d){a=k.gda(a.currentTarget,"topic");var f="",h=[],f=l.val();!b&&d&&Object.keys(r.improvements).forEach(function(a){r.improvements[a]&&
h.push(e.$("#spaui label[for=spaui-help-hmd-q-"+a+"]").find(".asp-checkbox-label").html())});b=b?"1":"0";g.sendHmd({from:c.getFrom(),where:"HMD",to:"topic"+a,payloadObj:{source:"Athena",helpHmd:b,helpNodeId:a,helpHmdSuggestions:h.join("|"),helpFeedback:f}})},overrideConfig:function(a){r=e.$.extend({},r,a)}};return{init:m.init,overrideConfig:m.overrideConfig}});ASPP.when("ASPA","spaui-metrics").register("spaui-instance",function(e,g){var k=null,c={id:null,data:{deflectionVisitId:null,contactUsLinkClicked:!1}},
a=null,b=null,d={init:function(a){k=a;c.id=g.getSession();try{var b=JSON.parse(k.getItem("spaui"));d.updateCfgData(b)}catch(e){}},updateCfgData:function(a){a.id&&a.id===c.id?c.data=e.$.extend(!0,{},c.data,a.data):k.removeItem("spaui")},update:function(){k.setItem("spaui",JSON.stringify(c))},setDeflectionCardVisitId:function(a){c.data.deflectionVisitId=a;d.update()},getDeflectionCardVisitId:function(){return c.data.deflectionVisitId},setContactUsLinkClicked:function(a){c.data.contactUsLinkClicked=
a;d.update()},getContactUsLinkClicked:function(){return c.data.contactUsLinkClicked},setLastSearchDetails:function(c,d){a=c;b=d},isCurrentMatchAlreadyShown:function(c,d){return a===c&&b===d}};return{init:d.init,setDeflectionCardVisitId:d.setDeflectionCardVisitId,getDeflectionCardVisitId:d.getDeflectionCardVisitId,setContactUsLinkClicked:d.setContactUsLinkClicked,getContactUsLinkClicked:d.getContactUsLinkClicked,isCurrentMatchAlreadyShown:d.isCurrentMatchAlreadyShown,setLastSearchDetails:d.setLastSearchDetails}});
ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-events","spaui-async").register("spaui-linkcopy",function(e,g,k,c,a){var b,d=null,n={init:function(a,c){g.getData()&&"true"===g.getSpoofer()&&(b=a,b.delegate(".spaui-url-icon","click",n.linkCopyOpen),b.delegate(".spaui-url-input-close-icon","click",n.linkCopyClose),b.delegate(".spaui-link-copy-container","click",n.stopClickBubbling),d=c,n.bind())},bind:function(){c.subscribe(c.getName("newPage"),n.showURLIconIfPresent);c.subscribe(c.getName("newContentOnPage"),
n.showURLIconIfPresent);c.subscribeAsyncModuleEvent("featured-content",a.COMPLETED_EVENT,n.showURLIconIfPresent)},showURLIconIfPresent:function(){b.find(".spaui-url-icon").removeClass("spaui-hide");b.find(".spaui-search-results-title").addClass("spaui-inline")},linkCopyOpen:function(a){a.preventDefault();var b=e.$(a.currentTarget),c=b.parent();a=c.find(".spaui-url-input");c=c.find(".spaui-url-input-close-icon");b=n.generateLink(b);a.val(b).removeClass("spaui-hide");c.removeClass("spaui-hide");a.select();
g.send({from:k.getFrom(),to:g.getPlace("setLinkCopyOpen"),where:g.getContext("content")})},linkCopyClose:function(a){a.preventDefault();a=e.$(a.currentTarget);a.parent().find(".spaui-url-input").addClass("spaui-hide");a.addClass("spaui-hide");g.send({from:k.getFrom(),to:g.getPlace("setLinkCopyClosed"),where:g.getContext("content")})},stopClickBubbling:function(a){a.preventDefault();a.stopPropagation()},generateLink:function(a){a=a.data("url");return 0===a.indexOf("http")?a:d+a}};return{init:n.init}});
ASPP.when("ASPA","spaui-util","spaui-state","spaui-metrics","spaui-history","spaui-session","spaui-forums","spaui-ui","spaui-events","spaui-ajax","spaui-help","spaui-direct-answer","spaui-contact-deflection","spaui-alert-util","spaui-chat","spaui-self-service-card","spaui-search-state").register("spaui-links",function(e,g,k,c,a,b,d,n,h,p,f,l,r,m,v,w,u){var x,A,t={init:function(a,b){t.hydrate(a,b);t.bind()},hydrate:function(a,b){x=a;x.find("#spaui-link-browse");A=b},bind:function(){x.delegate(".spaui-help-content a",
"click",t.helpContent);x.delegate(".spaui-ph-item-content-inner a","click",t.helpContent);x.delegate("#spaui-content .spaui-direct-answer a","click",t.directAnswer);x.delegate(".spaui-top-issues a","click",t.topIssues);x.delegate(".spaui-link-alerts-internal","click",t.alertsInternal);x.delegate(".spaui-link-alerts-external","click",t.alertsExternal);x.delegate(".spaui-link-ph-policy-internal","click",t.phPolicyInternal);x.delegate(".spaui-link-fc-internal","click",t.fcInternal);x.delegate(".spaui-link-fc-external",
"click",t.fcExternal);x.delegate(".spaui-link-tool-external","click",t.toolExternal);x.delegate(".spaui-link-search-internal","click",t.searchInternal);x.delegate(".spaui-link-search-external","click",t.searchExternal);x.delegate(".spaui-link-no-results-external","click",t.searchNoResultsExternal);x.delegate(".spaui-link-breadcrumb-help","click",t.bcHelp);x.delegate(".spaui-link-breadcrumb-su","click",t.bcSellerU);x.delegate(".spaui-link-breadcrumb-forum","click",t.bcForum);x.delegate("#spaui-link-browse",
"click",t.browse);x.delegate(".spaui-link-browse-internal","click",t.browseInternal);x.delegate(".spaui-link-browse-parent","click",t.browseParent);x.delegate("#spaui-foot-caselog","click",t.caseLog);x.delegate("#spaui-foot-forums","click",t.forums);x.delegate("#spaui-foot-contact","click",t.contact);x.delegate("#spaui-foot-chat","click",t.chat);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-internal","click",t.pushNotificationInternal);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-link-alerts-external",
"click",t.pushNotificationExternal);h.subscribe(h.getName("featuresChanged"),t.updateContactUsState)},updateContactUsState:function(){var a=x.find("#spaui-foot-contact");a.data("href")&&(a.attr("href",a.data("href")),x.removeClass("spaui-disable-contact-us-weblab"))},directAnswer:function(a){var d=e.$(a.currentTarget);0<d.parents(".spaui-help-content").size()||(l.isDirectAnswerTool(d)&&b.setPinned(!1),t.contentLink(a,c.getContext("directAnswer")))},helpContent:function(a){t.contentLink(a,c.getContext("content"))},
topIssues:function(a){t.contentLink(a,c.getContext("topIssues"))},contentLink:function(d,h){var l=d.currentTarget.href,m=e.$(d.currentTarget),k=d.currentTarget.getAttribute("target");g.isOnArticle();var p=g.startsWith(l,"mailto:"),r=l.match(/\.[0-9a-z]{1,5}$/i),u=d.currentTarget.hash&&t.isLinkToCurrentArticle(l),w=g.getTopicIDFromLink(l),v=g.contains(l,/(mai|rainier|seller-?central|.*\.desktop).*\.amazon\./),x=g.contains(l,"www.amazon."),A=g.contains(l,"/hz/productsearch/"),k=-1!==["_self","_blank",
"_parent","_top","",null].indexOf(k),B=g.isHashOnCurrentPage(l);if(p)c.send({from:a.getFrom(),where:h,to:c.getPlace("mailtoLink"),additionalObj:{email:l.substr(7)}});else if(v&&!u&&!w)(m.hasClass("augur-wf-primary-button")||m.hasClass("augur-wf-secondary-link"))&&b.setPinned(!1),c.send({from:a.getFrom(),where:h,to:c.getPlace("launchGenericPage"),additionalObj:{url:t.cleanUrl(l)}});else if(!B)if((r||u||w||x||k||A)&&d.preventDefault(),r)c.send({from:a.getFrom(),where:h,to:c.getPlace("fileDownload"),
additionalObj:{filename:l.substr(l.lastIndexOf("/")+1)}}),g.openInNewWindow(l);else if(u)n.scrollToHash(d.currentTarget.hash.substr(1));else if(w)f.displayHelpTopic(g.getTopicIDFromLink(l),l,{where:h});else if(x)c.send({from:a.getFrom(),where:h,to:c.getPlace("retailLink"),additionalObj:{url:l}}),g.openInNewWindow(l);else if(A)b.setPinned(!1),g.openInNewWindow(l);else if(k)g.openInNewWindow(l);else{var l=e.$.extend({},d.target.attributes),m={},E;for(E in l)l.hasOwnProperty(E)&&(m[l[E].name]=l[E].value);
c.send({from:a.getFrom(),where:h,to:c.getAction("unhandledLink"),additionalObj:m})}},cleanUrl:function(a){return a.split("?")[0]},isLinkToCurrentArticle:function(a){a=g.getTopicIDFromLink(a);var b=f.getTopicId()+"";return a===b},phPolicyInternal:function(a){a.preventDefault();f.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},fcInternal:function(a){a.preventDefault();f.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,
"href"),{where:g.gda(a.currentTarget,"where"),payloadObj:{resultRank:g.gda(a.currentTarget,"rank"),resultTotal:g.gda(a.currentTarget,"total")}})},fcExternal:function(b){b.preventDefault();c.send({from:a.getFrom(),where:g.gda(b.currentTarget,"where"),to:"launch-"+g.gda(b.currentTarget,"to")+"-"+g.gda(b.currentTarget,"id"),payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},searchInternal:function(a){a.preventDefault();
var b=parseInt(g.gda(a.currentTarget,"rank"),10)+u.getSearchStart();f.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where"),payloadObj:{resultRank:b,resultTotal:g.gda(a.currentTarget,"total")}})},searchExternal:function(d){d.preventDefault();b.setPinned(!1);var f=parseInt(g.gda(d.currentTarget,"rank"),10)+u.getSearchStart();c.send({from:a.getFrom(),where:g.gda(d.currentTarget,"where"),to:"launch-"+g.gda(d.currentTarget,"to")+"-"+g.gda(d.currentTarget,
"id"),payload:"&resultRank="+f+"&resultTotal="+g.gda(d.currentTarget,"total")});g.openInNewWindow(d.currentTarget.href)},searchNoResultsExternal:function(b){c.send({from:a.getFrom(),where:c.getContext("noResults"),to:c.getPlace("launchNoSearchResults")})},bcHelp:function(a){a.preventDefault();var b=a.currentTarget.href,d=g.getTopicIDFromLink(b),e=parseInt(g.gda(a.currentTarget,"rank"),10)+u.getSearchStart();f.displayHelpTopic(d,b,{where:c.getContext("breadcrumb"),payloadObj:{resultRank:e,resultTotal:g.gda(a.currentTarget,
"total")}})},bcForum:function(b){b.preventDefault();c.send({from:a.getFrom(),where:c.getContext("breadcrumb"),to:"launch-Forum",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},bcSellerU:function(b){b.preventDefault();c.send({from:a.getFrom(),where:c.getContext("breadcrumb"),to:"launch-SU",payload:"&resultRank="+g.gda(b.currentTarget,"rank")+"&resultTotal="+g.gda(b.currentTarget,"total")});g.openInNewWindow(b.currentTarget.href)},
browse:function(a){a.preventDefault();f.displayBrowseAllHelp()},browseInternal:function(a){a.preventDefault();f.displayHelpTopic(g.gda(a.currentTarget,"id"),g.gda(a.currentTarget,"href"),{where:g.gda(a.currentTarget,"where")})},browseParent:function(b){b.preventDefault();var d=e.$(b.currentTarget).find("a");b=e.$(b.currentTarget).next();var f="";b.is(":hidden")?(d.addClass("spaui-browse-parent-open"),b.show(),f=c.getPlace("setAhOpen")):(d.removeClass("spaui-browse-parent-open"),b.hide(),f=c.getPlace("setAhClose"));
c.send({from:a.getFrom(),where:c.getContext("content"),to:f+c.sanitizeEventPart(d.attr("id"))})},alertsInternal:function(a,b){a.preventDefault();n.getVisible()||n.summoner({});var d=m.getAlertDetails(m.getAlertFromInnerEvent(a)),e=g.gda(a.currentTarget,"item"),l=g.gda(a.currentTarget,"rank"),h=g.gda(a.currentTarget,"topic"),k=g.gda(a.currentTarget,"total"),p=a.currentTarget.getAttribute("href"),p=null===p?"":p,r=a.currentTarget.innerHTML;f.displayHelpTopic(h,p,{where:b?c.getContext("pushNotification"):
c.getContext("alert"),additionalObj:{item:e,rank:l,total:k,itemUrl:p,itemText:r},payloadObj:{notificationId:d.id,notificationType:d.type,notificationName:d.name}})},alertsExternal:function(d,f){var e=m.getAlertDetails(m.getAlertFromInnerEvent(d)),l=g.gda(d.currentTarget,"item"),h=g.gda(d.currentTarget,"rank"),k=g.gda(d.currentTarget,"total"),n=d.currentTarget.getAttribute("href"),n=null===n?"":n,r=d.currentTarget.innerHTML;-1!==d.currentTarget.href.toLowerCase().indexOf("gp/site-metrics/report.html")&&
p.get(a.getAthenaUrlPrefix()+"alert/REDIRECT_TO_BIZ_REP?ids="+e.id);b.setPinned(!1);c.send({from:a.getFrom(),where:f?c.getContext("pushNotification"):c.getContext("alert"),to:"launch-tool",additionalObj:{item:l,rank:h,total:k,itemUrl:n,itemText:r},payloadObj:{notificationId:e.id,notificationType:e.type,notificationName:e.name}})},toolExternal:function(d){b.setPinned(!1);d=d.currentTarget;d.hasAttribute("data-tool")&&c.send({from:a.getFrom(),where:c.getContext("tools"),to:c.sanitizeEventPart(g.gda(d,
"tool"))})},pushNotificationInternal:function(a){t.alertsInternal(a,!0)},pushNotificationExternal:function(a){t.alertsExternal(a,!0)},caseLog:function(d){b.setPinned(!1);c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("caseLog")})},forums:function(b){"selfServiceCard"===a.getFrom()&&w.hideIssueNotListedLink();A?(b.preventDefault(),d.displayForums()):c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("forums")})},contact:function(d){r.isActive()?(d.preventDefault(),
r.displayDeflectionCard(c.getContext("footer"))):(b.setPinned(!1),c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("contact")}))},chat:function(b){b.preventDefault();v.startChat();c.send({from:a.getFrom(),where:c.getContext("footer"),to:c.getPlace("chat")})}};return{init:t.init}});ASPP.when("ASPA","spaui-util","spaui-shim").register("spaui-metrics",function(e,g,k){var c={data:null,DROPPED_METRIC:"droppedMetric",MAXIMUM_SIZE:64,METRIC_FAILURE:"metricFailure",FIRST_REQUEST_FAILED:"firstRequestFailed",
ALL_RETRIES_FAILED:"allRetriesFailed",MAX_RETRIES:3,RETRY_DELAY:300,endpoint:{protocol:"https://",host:"fls-na.amazon.com",path:"/1/action-impressions/1/OP/sp-athena/action/athena:",pathHmd:"/1/action-impressions/1/OP/sp-athena/action/help_hmd:",params:"",requestId:0},map:{context:{alert:"alert",alertShinyObject:"alertShinyObject",allAlerts:"allAlerts",async:"async",autoSummonParam:"autoSummonParam",autoSummonHelpParam:"autoSummonHelpParam",breadcrumb:"breadcrumb",browseForums:"browseForums",content:"content",
getSupportCardItem:"getSupportCardItem",directAnswer:"direct-answer",eciNotification:"eciNotification",externalApi:"externalApi",externalTrigger:"externalTrigger",featured:"featured",featuredThreads:"featuredThreads",footer:"footer",globalSearch:"globalSearch",groupedAlert:"groupedAlert",header:"header",helpHmd:"helpHmd",navBack:"navBack",navFeedback:"navFeedback",navHome:"navHome",navSearch:"navSearch",noHelpResults:"noHelpResults",noResults:"noResults",notificationCard:"notificationCard",notificationCardCategory:"notificationCardCat",
predictive:"predictive",preload:"preload",previewFeedback:"previewFeedback",previewGetAnswers:"previewGetAnswers",previewAnywhere:"previewAnywhere",pushNotification:"pushNotification",results:"results",rating:"rating",rightClick:"rightClick",scFooter:"scFooter",searchSuggestions:"search-suggestions",session:"session",suggestedForums:"suggestedForums",tools:"tools",topIssues:"topIssues",trigger:"trigger",selfServiceCard:"selfServiceCard"},place:{alerts:"alerts",async:"async",browse:"browse",caseLog:"caseLog",
chat:"chat",contact:"contact",getSupportCard:"getSupportCard",globalNav:"globalNav",info:"info",external:"external",feedback:"feedback",forums:"forums",search:"search",searchMore:"searchMore",workflow:"workflow",topic:{id:null,text:"topic"},refresh:"refresh",fileDownload:"fileDownload",mailtoLink:"mailtoLink",retailLink:"retailLink",popPage:"popPage",previewCard:"previewCard",launchGenericPage:"launch-genericPage",launchNoSearchResults:"launch-noSearchResults",loadPushNotification:"loadPushNotification",
dismissPushNotification:"dismissPushNotification",openPushNotification:"openPushNotification",setAlertRead:"setAlertRead",setAlertAbort:"setAlertAbort",setFeaturedContentAndPredictiveHelp:"setFeaturedContentAndPredictiveHelp",setForumsVisible:"setForumsVisible",setForumsVisibleViaConfig:"setForumsVisibleViaConfig",setForumsHidden:"setForumsHidden",setContactUsFooter:"setContactUsFooter",setLaunchContactUs:"setLaunchContactUs",disabledGetSupportClick:"disabledGetSupportClick",setLinkCopyOpen:"setLinkCopyOpen",
setLinkCopyClosed:"setLinkCopyClosed",searchRedirect:"searchRedirect",searchErrorClient:"search-error-client",setAthenaSummoned:"setAthenaSummoned",setAthenaBanished:"setAthenaBanished",setAhOpen:"setAhOpen-",setAhClose:"setAhClose-",setFbRate:"setFbRate",setFbClear:"setFbClear",setFbSend:"setFbSend",setPhAdopt:"setPhAdopt",setPhOpen:"setPhOpen",setPhClose:"setPhClose",setPhDismiss:"setPhDismiss",setPhYes:"setPhYes",setPhNo:"setPhNo",setSizeActive:"",setSizeLarge:"setSizeLarge",setSizeSmall:"setSizeSmall",
alertDiscovered:"alertDiscovered",alertMassDiscovered:"alertMassDiscovered",alertMassRead:"alertMassRead",alertSuppressed:"alertSuppressed",minimized:"minimized",noAlertToShow:"noAlertToShow",groupedAlertInnerDiscover:"groupedAlertInnerDiscover",notificationCard:"notificationCard",notificationsCount:"notificationsCount",notificationCardDiscoverd:"notificationCardDiscoverd",notificationCardCategory:"notificationCardCat",notificationCategoryDiscovered:"notificationCatDiscovered",selfServiceCard:"selfServiceCard",
selfServiceCardDiscovered:"selfServiceCardDiscovered",selfServiceLinkClicked:"selfServiceLinkClicked"},action:{unhandledLink:"unhandledLink"}},ADDITIONAL_METADATA:"&additionalMetadata="},a={init:function(b){c.endpoint.host=b.host;b.hasOwnProperty("path")&&""!==b.path&&(c.endpoint.path=b.path);c.data=e.state("spaui-state");c.data||(c.data={},e.state.bind("spaui-state",function(b){c.data=b;a.initDataObj()}));a.initDataObj()},initDataObj:function(){var a="",d;for(d in c.data)c.data.hasOwnProperty(d)&&
(a+="&"+d+"="+c.data[d]);c.endpoint.params=a},send:function(b,d,e){a.sendMetric(b,d,e,function(b,d,f,e,k){f=g.getErrorDetailsFromAjaxResponse(f,e);a.sendMetricFailure(c.FIRST_REQUEST_FAILED,d,f);a.sendRetry(b,d,0)})},sendMetric:function(b,d,g,h){if(c.data){var k=c.endpoint.protocol+c.endpoint.host+(d===B?c.endpoint.path:d),f=c.endpoint.params+"&requestId="+c.data.parentRequestId+"_"+c.endpoint.requestId;a.encodeAdditionalObj(b);a.encodePayloadObj(b);b.errorDetails&&(b.additional=a.appendToAdditional(b.additional,
"errorType",b.errorDetails.type),b.additional=a.appendToAdditional(b.additional,"errorJqueryStatus",b.errorDetails.jqueryStatus),b.additional=a.appendToAdditional(b.additional,"errorHttpStatus",b.errorDetails.httpStatus),b.additional=a.appendToAdditional(b.additional,"errorReadyState",b.errorDetails.readyState));b.isError?b.to="error-"+b.to:b.isPlatformError&&(b.to="error-platform-"+b.to);d=[b.from,b.where,b.to].join("_");a.oversized(d)&&a.sendDroppedMetric(d,b);f+=b.additional?b.additional:"";f+=
b.payload?b.payload:"";k=k+d+"?"+f;e.$.isFunction(h)&&(h=e.$.proxy(h,null,k,d));d={url:k};b.timeout&&(d.timeout=b.timeout);b=e.$.ajax(d).always(function(){g!==B&&e.$.isFunction(g)&&g()});e.$.isFunction(h)&&b.fail(h)}c.endpoint.requestId++},sendRetry:function(b,d,g){g<c.MAX_RETRIES?setTimeout(function(){e.$.ajax({url:b,timeout:c.TIMEOUT}).fail(function(c,e,f){a.sendRetry(b,d,g+1)})},c.RETRY_DELAY):a.sendMetricFailure(c.ALL_RETRIES_FAILED,d)},sendHmd:function(b,d){a.send(b,c.endpoint.pathHmd,d)},oversized:function(a){return a.length>=
c.MAXIMUM_SIZE},sendDroppedMetric:function(b,d){a.sendMetric({from:c.DROPPED_METRIC,where:c.DROPPED_METRIC,to:c.DROPPED_METRIC,additionalObj:{attempted:b}})},sendMetricFailure:function(b,d,e){b={from:c.METRIC_FAILURE,where:c.METRIC_FAILURE,to:b,additionalObj:{attempted:d}};e!==B&&(b.errorDetails=e);a.sendMetric(b)},encodeAdditionalObj:function(a){if(a.additionalObj){var d=[];Object.keys(a.additionalObj).forEach(function(c){d.push(c+":"+a.additionalObj[c])});a.additional=c.ADDITIONAL_METADATA+encodeURIComponent(d.join("|"))}},
encodePayloadObj:function(a){a.payloadObj&&(a.payload=g.formatObjectAsUrlParams(a.payloadObj,!0))},appendToAdditional:function(a,d,e){d=d+":"+e;return a=a===B||null===a||""===a?c.ADDITIONAL_METADATA+d:a+("|"+d)},validate:function(b){if(b)try{a.validOrThrownForEventPart(b,"from");a.validOrThrownForEventPart(b,"where");a.validOrThrownForEventPart(b,"to");if(b.additionalObj&&!e.$.isPlainObject(b.additionalObj))throw"METRICS.validate failed, additionalObj must be an object if set";return!0}catch(c){throw c;
}else throw"METRICS.validate failed, tracking is empty";},validOrThrownForEventPart:function(a,c){if(a[c]){if(-1!==a[c].indexOf("_"))throw"Failed to validate field '"+c+"' it should not contain underscores (_)";}else throw"Failed to validate field '"+c+"' it was empty";},sanitizeEventPart:function(a){return a.split("_").join("-")},overrideConfig:function(a){c=e.$.extend({},c,a)},returnRequestId:function(){return c.endpoint.requestId},returnParentRequestId:function(){return c.data.parentRequestId},
returnSession:function(){return c.data.session},returnIsSpoofer:function(){return c.data.isSpoofer},returnRegionId:function(){return c.data.regionId},returnAllData:function(){return c.data},returnAllParams:function(){return c.endpoint.params},returnNextChildRequestId:function(){var a=c.data.parentRequestId+"_"+c.endpoint.requestId;c.endpoint.requestId++;return a},returnAction:function(a){return c.map.action[a]},returnPlace:function(a){return c.map.place[a]},returnContext:function(a){return c.map.context[a]},
setSizeActive:function(a){c.map.place.setSizeActive=a},returnTopic:function(){return c.map.place.topic.text},returnTopicID:function(){return c.map.place.topic.id}};return{init:a.init,send:a.send,sendHmd:a.sendHmd,validate:a.validate,sanitizeEventPart:a.sanitizeEventPart,overrideConfig:a.overrideConfig,getSession:a.returnSession,getSpoofer:a.returnIsSpoofer,getRegionId:a.returnRegionId,getData:a.returnAllData,getParams:a.returnAllParams,getRequestId:a.returnRequestId,getParentRequestId:a.returnParentRequestId,
incrementChildRequestId:a.returnNextChildRequestId,getAction:a.returnAction,getPlace:a.returnPlace,getContext:a.returnContext,setSizeActive:a.setSizeActive,getTopic:a.returnTopic,getTopicID:a.returnTopicID}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-notification-card-category","spaui-events","spaui-alerts","spaui-ui").register("spaui-notification-card",function(e,g,k,c,a,b,d,n,h){var p,f=null,l=[],r={init:function(a){r.hydrate(a);r.bind();d.subscribe(d.getName("notificationListUpdated"),
r.onNotificationListUpdated);d.subscribe(d.getName("notificationFetchComplete"),r.onNotificationFetchComplete);d.subscribe(d.getName("newPage"),r.onNewPage)},hydrate:function(a){p=a},bind:function(){p.delegate(".spaui-alert-load-all-node-outside","click",r.loadCardHandle);p.delegate(".spaui-notification-card-list-item","click",r.loadCategoryPageHandle);e.$("#sc-quicklinks-top").delegate("#spaui-pn-content .spaui-alert-view-notification-card","click",r.pushNotificationLoadAll)},pushNotificationLoadAll:function(a){r.loadCardHandle(a,
!0)},onNotificationListUpdated:function(a){r.updateNotificationsCount(a)},onNotificationFetchComplete:function(a){p.find(".spaui-notification-card-list").find('.spaui-content-loading[data-category-name="categoryName"]'.replace("categoryName",a)).hide()},onNewPage:function(a){a.type===c.getPageType("notificationCard")&&l.forEach(function(a){r.updateNotificationsCount(a);if(b.isFetchComplete(a))r.onNotificationFetchComplete(a)})},updateNotificationsCount:function(a){var c=p.find(".spaui-notification-card-list").find('.spaui-notification-card-count-bang[data-category-name="categoryName"]'.replace("categoryName",
a));a=b.getNotificationsCount(a);c&&(c.html(a),0<a?c.show():c.hide())},loadCardHandle:function(a,b){a.preventDefault();r.displayNotificationCard(b)},loadCategoryPageHandle:function(a){a.preventDefault();a=e.$(this).data("category-name");r.displayNotificationCategoryPage(a)},displayNotificationCard:function(b){h.getVisible()||h.summoner({});f=p.find(".spaui-alert").clone();var d=k.getAthenaUrlPrefix()+"athena-notification-card?requestId="+g.incrementChildRequestId();c.placeEndpoint("notificationCard",
a.enhanceUrl(d),function(){r.loadSingleAlert();r.initializeNotificationCategoryPage();g.send({from:k.getFrom(),where:b?g.getContext("pushNotification"):g.getContext("notificationCard"),to:g.getPlace("notificationCardDiscoverd"),additionalObj:{categories:l}})})},initializeNotificationCategoryPage:function(){var a=p.find(".spaui-notification-category-page-list").children();l=[];a.each(function(a,c){var d=e.$(c).clone();e.$(c).remove();var f=d.data("category-name");l.push(f);b.init(d,f)})},displayNotificationCategoryPage:function(a){c.placeElement(b.getTemplate(a),
"notificationCardCategory",function(){g.send({from:k.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationCategoryDiscovered"),additionalObj:{categoryName:a}});n.onLoadAllAlerts({categoryName:a})})},loadSingleAlert:function(){p.find(".spaui-notification-card-single-alert").append(f);n.dynamicHydrate()}};return{init:r.init}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-content","spaui-state","spaui-ajax","spaui-util","spaui-events","spaui-alerts","spaui-alert-util",
"spaui-alert-metrics").register("spaui-notification-card-category",function(e,g,k,c,a,b,d,n,h,p,f){var l={maxRetry:5,timeBetweenRetries:5E3,contentFadeIn:300},r={},m={$categoryPageTemplate:null,fetchComplete:!1,moreNotificationsPresent:!0,$notifications:null,notificationIdList:[],retry:0},v={init:function(a,b){v.setContext(b,e.$.extend(!0,{},m));v.getContext(b).$categoryPageTemplate=a;v.fetchNotificationsByCategories(b)},fetchNotificationsByCategories:function(c){var d=k.getAthenaUrlPrefix()+"athena-notification-card/"+
c+"?requestId="+g.incrementChildRequestId();b.get(a.enhanceUrl(d),{},function(a){v.onUpdatedNotificationResponse(e.$(a.data),c)},function(a){v.retryFetch(c)})},onUpdatedNotificationResponse:function(a,b){var c=a.find(".spaui-alerts-all");v.processNotifications(c,b);v.getContext(b).moreNotificationsPresent=d.stringToBool(a.find("input#spaui-alerts-more-alerts-present")[0].value);n.publish(n.getName("notificationListUpdated"),b);h.dynamicHydrate();v.recordMetricsForNotificationsCountByCategory(b);v.retryFetch(b)},
retryFetch:function(a){v.getContext(a).retry++;if(v.shouldRetryFetch(a))e.delay(v.fetchNotificationsByCategories,l.timeBetweenRetries,a);else v.onFetchComplete(a)},processNotifications:function(a,b){var c=a.find(".spaui-alert"),f=v.getContext(b);null===f.$notifications&&(f.$notifications=a.empty(),f.$categoryPageTemplate.find(".spaui-notification-card-body").append(f.$notifications.clone()));if(!(0>=c.length)){var h=d.selectorToClass(".spaui-alert-animate");c.each(function(a,c){var d=e.$(c),l=p.getAlertDetails(d).id;
v.isNotificationNew(b,l)&&(d.hide(),d.addClass(h),f.notificationIdList.push(l),f.$notifications.append(d.clone()))});c=f.$notifications.find(".spaui-alert-animate").clone();f.$notifications.find(".spaui-alert-animate").removeClass(h);f.$categoryPageTemplate.find(".spaui-alerts-all").append(c);f.$categoryPageTemplate.find(".spaui-alert-animate").removeClass(h).fadeIn(l.contentFadeIn);v.onNotificationsPartialLoad(b,c)}},onNotificationsPartialLoad:function(a,b){var c={categoryName:a},e=[],l=[];b.find(".spaui-alert-info:visible").each(function(){e.push(d.gda(this,
"id"))});b.find(".spaui-alert-info.spaui-alert-fixed:visible").each(function(){l.push(d.gda(this,"id"))});0<e.length&&f.massDiscover(g.getContext("allAlerts"),e,c);0<l.length&&f.massRead(g.getContext("allAlerts"),l,c)},onFetchComplete:function(a){var b=v.getContext(a),c=b.$categoryPageTemplate;b.fetchComplete=!0;0>=v.getNotificationsCount(a)&&(c.find(".spaui-no-notification").fadeIn(l.contentFadeIn),c.find(".spaui-notification-card-footer").fadeIn(l.contentFadeIn));c.find(".spaui-notification-card-head-loader").hide();
n.publish("notificationFetchComplete",a)},recordMetricsForNotificationsCountByCategory:function(a){0===v.getContext(a).retry&&(a=e.$.extend(!0,{categoryName:a,notificationsCount:v.getNotificationsCount(a)},v.getNotificationCountByType(a)),g.send({from:k.getFrom(),where:g.getContext("notificationCardCategory"),to:g.getPlace("notificationsCount"),additionalObj:a}))},getNotificationCountByType:function(a){var b={};v.getVisibleNotifications(a).each(function(a,c){var d=e.$(c),d=p.getAlertDetails(d).type;
b[d]===B&&(b[d]=0);b[d]++});return b},isNotificationNew:function(a,b){return 0>v.getContext(a).notificationIdList.lastIndexOf(b)},shouldRetryFetch:function(a){a=v.getContext(a);return a.moreNotificationsPresent&&a.retry<=l.maxRetry},isFetchComplete:function(a){return v.getContext(a).fetchComplete},getNotificationsCount:function(a){return v.getVisibleNotifications(a).length},getVisibleNotifications:function(a){return v.getContext(a).$categoryPageTemplate.find(".spaui-alert").not(".spaui-alert-dismissed")},
getTemplate:function(a){return v.getContext(a).$categoryPageTemplate},overrideConfig:function(a){l=e.$.extend({},l,a)},getContext:function(a){return r[a]},setContext:function(a,b){r[a]=b}};return{init:v.init,getTemplate:v.getTemplate,isFetchComplete:v.isFetchComplete,getNotificationsCount:v.getNotificationsCount,overrideConfig:v.overrideConfig}});ASPP.when("ASPA","spaui-ui","spaui-session").register("spaui-overlay",function(e,g,k){var c=e.$(E),a={overlayActive:!1,fadeTime:200},b={createFullscreenOverlay:function(){a.overlayActive||
(a.overlayActive=!0,b.bindWindowResize(),b.recomputeSize(),g.hideClose(),g.hideResizer(),g.contentChanged())},removeOverlay:function(){a.overlayActive&&(a.overlayActive=!1,b.unbindWindowResize(),g.showClose(),g.showResizer(),k.isLargeSize()?g.makeLarge():g.makeSmall(),g.contentChanged())},bindWindowResize:function(){c.bind("resize",b.recomputeSize)},unbindWindowResize:function(){c.unbind("resize",b.recomputeSize)},recomputeSize:function(){var a=c.width();g.setSpecialSize(a,!0)},overrideConfig:function(b){a=
e.$.extend(a,b)},isActive:function(){return a.overlayActive}};return{createFullscreenOverlay:b.createFullscreenOverlay,removeOverlay:b.removeOverlay,overrideConfig:b.overrideConfig,isActive:b.isActive}});ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-discovery","spaui-ajax").register("spaui-predictive",function(e,g,k,c,a,b){var d,n=!0,h=[],p=null,f={init:function(a){f.hydrate(a);f.bind()},hydrate:function(b){d=b;a.register("predictive","info",!1,f.adoptionCheck);a.register("top-issues",
"info",!1,f.adoptionCheck);p=c.getAugurUrlPrefix()+"execute-workflow?"},bind:function(){d.delegate(".spaui-ph-expand-closed","click",f.show);d.delegate(".spaui-ph-expand-open","click",f.hide);d.delegate(".spaui-ph-dismiss","click",f.dismiss);d.delegate(".spaui-ph-item-feedback-yes","click",f.yes);d.delegate(".spaui-ph-item-feedback-no","click",f.no);d.delegate("#spaui-ph-dismiss-legal","mouseenter mouseleave",f.legal);d.delegate("#spaui-ph-view-legal","mouseenter mouseleave",f.legal)},getDetails:function(a){a=
e.$(a.currentTarget).closest(".spaui-ph-item");return{qid:a.data("question"),pid:e.$("#spaui-ph-header").attr("data-prediction"),rank:a.data("rank"),total:a.data("total"),workflowId:a.data("workflow")}},show:function(a){a.preventDefault();var b=f.getDetails(a);a=e.$(a.currentTarget);e.$("#spaui-ph-item-"+b.qid+"-closed").hide();e.$("#spaui-ph-item-"+b.qid+"-open").show();if(b.workflowId){var c=e.$("#spaui-ph-workflow-"+b.qid);0<c.length&&"N"===c.attr("spaui-ph-workflowdisplayed")&&(c.attr("spaui-ph-workflowdisplayed",
"Y"),f.displayWorkflow(b))}"true"!==a.attr("data-logged")&&(a.attr("data-logged","true"),e.$.post("/help/track/api/send-user-action?"+f.getIdParams(b)));f.instrument(b,k.getPlace("setPhOpen"))},displayWorkflow:function(a){b.post(p+"workflowId="+a.workflowId+"&client=AthenaPH",{dataType:"html"},function(b){f.flush(a,b.data,!0)},function(b){f.flush(a,b.data,!1)})},flush:function(a,b,c){c?(e.$("#spaui-ph-workflow-"+a.qid).html(b),e.$("#spaui-ph-item-"+a.qid+"-feedback").show()):e.$("#spaui-ph-workflow-"+
a.qid).parent().remove()},hide:function(a){a.preventDefault();a=f.getDetails(a);e.$("#spaui-ph-item-"+a.qid+"-open").hide();e.$("#spaui-ph-item-"+a.qid+"-closed").show();f.instrument(a,k.getPlace("setPhClose"))},dismiss:function(a){a.preventDefault();a=f.getDetails(a);e.$.post("/help/track/api/send-feedback-text?feedbackText=dismissed&"+f.getIdParams(a));f.instrument(a,k.getPlace("setPhDismiss"));e.$("#spaui-ph-item-"+a.qid).remove()},yes:function(a){a.preventDefault();a=f.getDetails(a);e.$.post("/help/track/api/send-feedback?feedback=true&"+
f.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();f.instrument(a,k.getPlace("setPhYes"))},no:function(a){a.preventDefault();a=f.getDetails(a);e.$.post("/help/track/api/send-feedback?feedback=false&"+f.getIdParams(a));e.$("#spaui-ph-item-"+a.qid+"-feedback").hide();e.$("#spaui-ph-item-"+a.qid+"-feedback-ui-yes").show();f.instrument(a,k.getPlace("setPhNo"))},getIdParams:function(a){return"id="+a.qid+"&prediction="+a.pid},instrument:function(a,
b){k.send({from:c.getFrom(),to:b,where:k.getContext("predictive"),payloadObj:{resultRank:a.rank,resultTotal:a.total},additionalObj:{questionId:a.qid,topicId:a.pid,workflowId:a.workflowId}})},legal:function(a){"mouseenter"===a.type&&(d.find("#spaui-ph-dismiss-legal-icon").addClass("on"),d.find("#spaui-ph-view-legal").addClass("on"));"mouseleave"===a.type&&(d.find("#spaui-ph-dismiss-legal-icon").removeClass("on"),d.find("#spaui-ph-view-legal").removeClass("on"))},allowAdoption:function(a){return n&&
!!a&&-1===h.indexOf(a)},adoptionCheck:function(){var a=g.gebi("spaui-ph-header"),a=a?g.gda(a,"prediction"):null;f.allowAdoption(a)&&(e.$.post("/help/track/api/send-adoption?predictionId="+a),h.push(a))},preventAdoption:function(){n=!1}};return{init:f.init,preventAdoption:f.preventAdoption}});ASPP.when("ASPA","spaui-events","spaui-util","spaui-alert-util").register("spaui-push-notification",function(e,g,k,c){var a,b,d,n,h=!1,p={duration:{show:400,hide:300,minimize:300},severities:{HIGH:"urgent",MEDIUM:"alert",
OPPORTUNITY:"opp",INFORMATION:"info"},showDismissClass:"spaui-pn-show-dismiss",showMinimizeClass:"spaui-pn-show-minimize"},f={init:function(a){f.hydrate(a);f.bind()},hydrate:function(c){a=e.$("#spaui-templates");b=a.find("#spaui-push-notification");d=e.$("#sc-quicklink-help").find(".sc-ql-a").find(".sc-quick-txt");n=e.$("#sc-quicklinks-top")},bind:function(){E.addEventListener("resize",function(){h&&f.adjust()})},isCurrentPushNotificationOverridable:function(){return b.find(".pushContent").hasClass("pushOverridable")},
createWithOptions:function(a,c){if(!h||c.overrideExisting&&f.isCurrentPushNotificationOverridable()){h&&f.afterHideNotification();var d=b.find("#spaui-pn-title");c.title?(d.text(c.title),d.parent().removeClass("asp-hidden")):d.parent().addClass("asp-hidden");a.addClass("pushContent");c.overridable&&a.addClass("pushOverridable");b.find("#spaui-pn-content").append(a);b.find(".spaui-alert-dismiss").remove();b.attr("class","");b.addClass(c.className?c.className:f.getClassName(c.severity));c.noDismissal||
(c.hasMinimizeButton?b.addClass(p.showMinimizeClass):b.addClass(p.showDismissClass));c.expandable?(f.bindExpand(),b.removeClass("spaui-inline-alert")):(b.addClass("spaui-inline-alert"),f.expandPushNotification());n.prepend(b);f.adjust();h=!0;return b}},create:function(a,b,c,d,e){return f.createWithOptions(b,{title:a,severity:c,hasMinimizeButton:d,expandable:e})},bindExpand:function(){b.click(f.expandPushNotification);b.removeClass("expanded")},bindDismissOrMinimize:function(){b.hasClass(p.showMinimizeClass)?
b.find("#spaui-pn-title-bar").click(f.collapsePushNotification):b.hasClass(p.showDismissClass)&&b.find("#spaui-pn-close-icon").click(f.hidePushNotification)},hide:function(){var a=b.data("id");a?c.hideSingleAlert(a,f.afterHideNotification):b.fadeOut(p.duration.hide,f.afterHideNotification)},isActive:function(){return h},expandPushNotification:function(){g.publish(g.getName("pushNotificationOpened"));b.unbind("click",f.expandPushNotification);b.addClass("expanded");var a=b.find("#spaui-pn-content");
a.css("top",-1*a.height());a.animate({top:0},{duration:p.duration.show,complete:f.bindDismissOrMinimize})},collapsePushNotification:function(){g.publish(g.getName("pushNotificationMinimize"));b.find("#spaui-pn-title-bar").unbind("click",f.collapsePushNotification);var a=b.find("#spaui-pn-content");a.animate({top:-1*a.height()},{duration:p.duration.minimize,complete:f.bindExpand})},hidePushNotification:function(){g.publish(g.getName("pushNotificationClosed"));f.hide()},afterHideNotification:function(){h=
!1;b.removeClass("expanded");b.find(".pushContent").remove();a.append(b);b.attr("style","")},adjust:function(){b.css("top",n.height());b.css("right",-k.getElementRightOffset(n));var a=b.find("#spaui-pn-arrow"),c=d.offset().left-b.offset().left,c=c+d.width()/2,c=parseInt(c-10,10);a.css("left",c)},getClassName:function(a){if(a)return"spaui-pn-"+a.toLowerCase();throw"severity is not set!";}};return{init:f.init,create:f.create,createWithOptions:f.createWithOptions,hide:f.hide,isActive:f.isActive,HIGH:p.severities.HIGH,
MEDIUM:p.severities.MEDIUM,OPPORTUNITY:p.severities.OPPORTUNITY,INFORMATION:p.severities.INFORMATION,overrideConfig:function(a){p=e.$.extend(p,a)}}});ASPP.when("ASPA","spaui-metrics","spaui-history","spaui-util").register("spaui-rightclick",function(e,g,k,c){var a=null,b=null,d=null,n={init:function(a){n.populate(a);n.enhance();n.bind()},populate:function(h){a=h;b=e.$("#sc-quicklink-help");d=c.getContactUsFooterLink()},enhance:function(){b.attr("data-feature-name","scHelpLink");d.attr("data-feature-name",
"scGetSupportLink")},bind:function(){var c=function(a){a=e.$(a.target);n.handleRightClick(a)};a.bind("contextmenu",c);b.delegate("a","contextmenu",c);d.bind("contextmenu",c);e.$(E).delegate("#spaui-push-notification","contextmenu",c)},handleRightClick:function(a){var b=a.closest("[data-feature-name]").data("feature-name");a=a.closest("a").attr("href");a=a!==B?c.getTopicIDFromLink(a):B;b={from:k.getFrom(),where:g.getContext("rightClick"),to:b};a!==B&&(b.additionalObj={helpTopicId:a});g.send(b)}};return{init:n.init}});
ASPP.when("ASPA","spaui-util","spaui-history","spaui-session","spaui-metrics","spaui-content","spaui-search-suggestions","spaui-help","spaui-global-nav-search","spaui-events","spaui-self-service-card","spaui-search-state").register("spaui-search",function(e,g,k,c,a,b,d,n,h,p,f,l){var r=(Object.freeze||function(a){return a})({UNKNOWN_REDIRECT:"unknown-redirect",INVENTORY_REDIRECT:"inventory-redirect",ORDER_REDIRECT:"order-redirect",SKUCENTRAL_REDIRECT:"skucentral-redirect",ATHENA_SEARCH:"search",ATHENA_HELP:"help"}),
m={},v="Search",w=!1,u=null,x=!1,A={init:function(a,b){A.hydrate(a);A.bind();A.subscribe();v=m.search.attr("placeholder");h.init(A.externalSubmitSearch,A.externalSynchronizeSearchBoxValue);d.init(b,v)},hydrate:function(a){m.doc=e.$(document);m.spaui=a;m.search=a.find("#spaui-search-box");m.searchSection=a.find(".spaui-head-controls-search");m.searchIcon=a.find("#spaui-search-icon");m.searchFilter=a.find(".spaui-search-filter-wrapper");m.searchFilterSelect=a.find(".spaui-search-filter");u=k.getAthenaUrlPrefix()+
"athena-search"},bind:function(){m.searchIcon.click(A.clickSearch);m.search.focus(A.focusSearch);m.search.blur(A.blurSearch);m.doc.keydown(A.keyDown);m.search.keyup(A.synchronizeGlobalNavSearch);m.spaui.delegate("#spaui-toggle-forums","click",A.toggleForumsResultsClick);m.spaui.delegate(".spaui-search-trigger","click",A.handleSearchTriggerClick)},subscribe:function(){p.subscribe(p.getName("newPage"),A.handleNewPage)},toggleForumsResultsClick:function(b){b.preventDefault();A.toggleForumResults(a.getContext("navSearch"))},
toggleForumResults:function(b){var c=e.$("#spaui-toggle-forums"),d=(w=!w)?"exclude-label":"include-label",d=c.find("input").data(d);A.toggleForumsClasses(w);c.toggleClass("asp-button-selected",w);l.setSearchShowForums(w);a.send({from:k.getFrom(),to:w?a.getPlace("setForumsVisible"):a.getPlace("setForumsHidden"),where:b});c.find("input").val(d);c.find(".asp-button-text").html(d)},toggleForumsClasses:function(a){m.spaui.find(".spaui-search-results").toggleClass("showForums",a)},clickSearch:function(a){a.preventDefault();
m.search.trigger("focus");A.keyDown({keyCode:13})},focusSearch:function(){m.searchSection.addClass("on");m.searchIcon.addClass("on");d.newBind(m.search,A.suggestionsSearch,B,m.searchSection.width())},blurSearch:function(){m.searchSection.removeClass("on");m.searchIcon.removeClass("on")},synchronizeGlobalNavSearch:function(){var a=m.search.val();h.setSearchBoxValue(a)},keyDown:function(a){A.searchIsFocused()&&""!==e.$.trim(m.search.val())&&13===(a.keyCode||a.which)&&A.submitSearch()},searchIsFocused:function(){return m.doc.attr("activeElement").id===
m.search.attr("id")},suggestionsSearch:function(a){A.submitSearch(null,a)},submitSearch:function(d,h,g,p,u){"selfServiceCard"===k.getFrom()&&f.hideIssueNotListedLink();e.$.isFunction(p)||(p=function(){});e.$.isFunction(u)||(u=function(){});var v=m.search.val();c.storeSearchQuery(v);d===B&&(d={});d=e.$.extend({from:k.getFrom(),where:a.getContext("navSearch")},d,{to:a.getPlace("search")});h?(p(r.ATHENA_HELP),n.displayHelpTopic(h,null,d)):(l.clear(),l.setSearchQuery(v),l.setSearchStart(0),l.setSearchLocale(g?
g:""),l.setSearchFilter(m.searchFilterSelect.val()||"any"),k.pushSearchState(l.get()),k.pushPop(""),A.placeSearch(e.$.proxy(b.placeEndpoint,null,b.getPageType("search")),e.$.proxy(A.searchCompleted,null,p,u,d),e.$.proxy(A.redirectFilter,null,p,d)))},searchCompleted:function(b,c,d,f){f.isError?(d.isError=!0,d.errorDetails=f.errorDetails,c(f)):f.isPlatformError?(d.isPlatformError=!0,e.$("#spaui-error-search-retry").bind("click",function(a){g.gebi("spaui-search-icon").click()}),c(f)):(l.setSearchTotal(e.$("#spaui-content").find("#spaui-search-total").data("total")),
A.applyStandardMetricMetadata(d),w=!1,0<m.spaui.find(".spaui-search-result-help").length?A.toggleForumsClasses(w):(c=g.gebi("spaui-template-only-forum-results").innerHTML,m.spaui.find(".spaui-search-results").before(c),A.toggleForumResults(a.getContext("noHelpResults"))),b(r.ATHENA_SEARCH),A.attemptToFillSearchPage());a.send(d)},handleSearchTriggerClick:function(a){a.preventDefault();var b=g.gda(a.currentTarget,"search");a=g.gda(a.currentTarget,"filter");a!==B&&m.searchFilterSelect.val(a);b!==B&&
(m.search.val(b),A.submitSearch())},externalSubmitSearch:function(a,b,c,d,f,e){m.search.val(a);A.submitSearch(b,d,c,f,e)},externalSynchronizeSearchBoxValue:function(a){m.search.val(a)},setSearchBoxValue:function(a){if(a===B||null===a)a="";a=decodeURIComponent(a);m.search.val(a);A.synchronizeGlobalNavSearch()},searchScroll:function(c){if(!x&&g.gebi("spaui-results")){c=e.$("#spaui-content").scrollTop();var d=e.$("#spaui-content").innerHeight(),f=e.$("#spaui-content").prop("scrollHeight");c+d>=f-l.getSearchScrollBuffer()&&
(0<l.getSearchTotal()&&l.setSearchStart(l.getSearchStart()+l.getSearchSize()),l.getSearchStart()+l.getSearchSize()>l.getSearchTotal()||(x=!0,A.placeSearch(b.placeEndpointAsAppend,function(b,c){var d={isError:!b,errorDetails:c,from:k.getFrom(),where:a.getContext("results"),to:a.getPlace("searchMore")};A.applyStandardMetricMetadata(d);a.send(d);x=!1;A.toggleForumsClasses(w);A.attemptToFillSearchPage()})))}},isRedirectSearch:function(a){return a&&a.match&&a.match(/.*-redirect$/)},redirectFilter:function(b,
d,f){if(A.isSearchRedirectDom(f.content)){f=e.$(f.content).find("#spaui-redirect");var h=f.data("url"),g=r.UNKNOWN_REDIRECT;h.match(/\/inventory/)?g=r.INVENTORY_REDIRECT:h.match(/\/gp\/orders/)?g=r.ORDER_REDIRECT:h.match(/\/skucentral/)&&(g=r.SKUCENTRAL_REDIRECT);b(g);b=f.data("type").split("_").join("-");c.setPinned(!1);a.send({from:d&&d.from!==B?d.from:k.getFrom(),where:a.getContext("results"),to:a.getPlace("searchRedirect"),additionalObj:{searchRedirect:b,query:l.getSearchQuery()},timeout:300},
B,function(){E.location.href=h});return!1}return!0},placeSearch:function(a,b,c){var d=g.formEncode(l.getSearchQuery());a(u+"?query="+d+"&locale="+l.getSearchLocale()+"&start="+l.getSearchStart()+"&size="+l.getSearchSize()+"&content="+l.getSearchFilter(),b,!0,!1,{},c)},attemptToFillSearchPage:function(){setTimeout(function(){A.searchScroll()},100)},handleNewPage:function(a){"search"===a.type&&A.rebindScroll();a.wentBack&&A.setSearchBoxValue(k.getSearchQueryHistory());A.blurSearch();x=!1},rebindScroll:function(){m.spaui.find("#spaui-content").unbind("scroll");
m.spaui.find("#spaui-content").bind("scroll",A.searchScroll)},isSearchRedirectDom:function(a){return 0<e.$(a).find("#spaui-redirect").length},applyStandardMetricMetadata:function(a){var b=["content="+l.getSearchFilter(),"start="+l.getSearchStart(),"size="+l.getSearchSize(),"query="+l.getSearchQuery()];a.payloadObj={queryString:b.join("|"),resultTotal:l.getSearchTotal()};b=g.truncateString(l.getSearchQuery(),100,"...");a.additionalObj=e.$.extend(a.additionalObj,{query:b})}};return{setSearchBoxValue:A.setSearchBoxValue,
externalSubmitSearch:A.externalSubmitSearch,externalKeyDown:A.externalKeyDown,bindGlobalNav:A.bindGlobalNav,init:A.init,isRedirectSearch:A.isRedirectSearch,SEARCH_TYPES:r}});(function(){ASPP.when("ASPA").register("spaui-search-state",function(e){var g={content:"any",query:null,start:0,total:null,size:20,scrollBuffer:200,showForums:!1,filter:"any",locale:""},k=e.$.extend(!0,{},g);return{getSearchScrollBuffer:function(){return k.scrollBuffer},getSearchSize:function(){return k.size},getSearchContent:function(){return k.content},
setSearchStart:function(c){k.start=c},getSearchStart:function(){return k.start},setSearchTotal:function(c){k.total=c},getSearchTotal:function(){return k.total},setSearchQuery:function(c){k.query=c},getSearchQuery:function(){return k.query},setSearchLocale:function(c){k.locale=c},getSearchLocale:function(){return k.locale},setSearchShowForums:function(c){k.showForums=c},getSearchShowForums:function(){return k.showForums},setSearchFilter:function(c){k.filter=c},getSearchFilter:function(){return k.filter},
isActive:function(){return null!==k.query},clear:function(){k=e.$.extend(!0,{},g)},set:function(c){k=e.$.extend(!0,{},g,c)},get:function(){return k}}})})();ASPP.when("ASPA","spaui-util","spaui-metrics","spaui-history","spaui-session","spaui-ajax","spaui-shim","spaui-weblabs").register("spaui-search-suggestions",function(e,g,k,c,a,b,d,n){var h={name:"spaui-search-suggestions",serviceUrl:null,lastRequestId:0,someResults:!1,selectedResult:null,lastSearchQuery:null,searchIconMargin:27,dontHideOnNextBlur:!1,
weblabActive:!1,enabled:!0,invokeSearchFunc:null,externalPlace:null,defaultWidth:300,enabledSearchSuggestions:!1,searchPlaceholder:null,requestTypingDelay:300,visible:!1},p={tools:{resultKind:"SellerCentralTool",kind:"tool",title:null,number:3,lineBreak:!1,priority:3},merged:{resultKind:"Merged",kind:"merged",title:null,number:3,lineBreak:!0,priority:1},autohelp:{resultKind:"PredictiveHelpAuto",kind:"autohelp",title:null,number:3,lineBreak:!0,priority:2},previous:{resultKind:"previous",kind:"previous-search",
title:null,number:3,priority:0}},f={},l={init:function(a,b){g.gebi("spaui-search-suggestions")&&(h.weblabActive=!0);h.enabledSearchSuggestions=a;h.searchPlaceholder=b;h.serviceUrl=c.getAthenaUrlPrefix()+"suggest-search/";l.hydrate()},hydrate:function(){f.templateHolder=e.$("#spaui-template-search-suggestions");f.widget=e.$("#spaui-search-suggestions");f.list=e.$("#spaui-search-suggestions-list");f.loadingGif=e.$('<span class="spaui-loading-gif-medium spaui-suggestions-loading">');Object.keys(p).forEach(function(a){p[a].title=
f.widget.data(a+"-title")})},newBind:function(a,b,c,d){l.isDisabled()||(d===B&&(d=h.defaultWidth),l.resize(d),l.unbind(f.input),l.bind(a),a.after(f.widget),f.widget.css("top",a.outerHeight()-1),h.invokeSearchFunc=b,h.externalPlace=c,l.show())},unbind:function(a){a&&(f.templateHolder.append(f.widget),a.unbind("focus",l.show),a.unbind("blur",l.onBlur),a.unbind("keydown",l.onKeyDown),a.unbind("input",l.onChange),h.invokeSearchFunc=null,h.currentPlace=null)},bind:function(a){f.input=a;f.input.attr("autocomplete",
"off");f.input.focus(l.show);f.input.blur(l.onBlur);f.input.keydown(l.onKeyDown);f.input.bind("input",null,l.onChange)},onBlur:function(a){h.dontHideOnNextBlur||l.hide();h.dontHideOnNextBlur=!1},onKeyDown:function(a){if(!l.isDisabled()&&(40===a.keyCode||38===a.keyCode||13===a.keyCode)){var b=!0;switch(a.keyCode){case 40:l.moveSelectionDown();break;case 38:l.moveSelectionUp();break;case 13:l.hide();var b=!1,c=l.getSelectedSuggestion();c&&(b=l.handleSpecialSuggestionSelection(c,a))}return b?(a.preventDefault(),
a.stopImmediatePropagation(),!1):!0}},onChange:function(a){l.resetSelection(!1);g.delayFunc(function(){var a=f.input.val();l.search(a)},h.requestTypingDelay)},resize:function(a){l.isDisabled()||f.widget.width(a-h.searchIconMargin)},show:function(a){a=f.input.val();h.visible=!0;""===a||a===h.searchPlaceholder?l.loadPreviousSearchSuggestions():h.someResults?f.widget.addClass("shown"):(a=f.input.val(),l.search(a))},hide:function(){f.widget.removeClass("shown");h.visible=!1},showLoading:function(){f.widget.addClass("shown");
f.list.empty();f.widget.append(f.loadingGif)},hideLoading:function(){f.loadingGif.remove()},enable:function(){h.enabled=!0},disable:function(){h.enabled=!1},isDisabled:function(){return!h.enabled||!h.weblabActive},search:function(a){a=a.trim();if(!l.invalid(a)){var c=++h.lastRequestId;""===a?l.showSearchResults(c,!1,[],a):(l.showLoading(),l.instrumentRequest(),b.get(h.serviceUrl+encodeURIComponent(a)+"/",{dataType:"json"},e.$.proxy(function(a,b,c){l.showSearchResults(a,!0,b,c.data)},null,c,a),function(a){l.hide();
l.instrumentFailure()}))}},invalid:function(a){return l.isDisabled()||!h.enabledSearchSuggestions||a===h.lastQuery||a===h.searchPlaceholder},showSearchResults:function(a,b,c,d){l.isDisabled()||a!==h.lastRequestId||(l.hideLoading(),h.lastQuery=c,l.displayResults(d,b))},displayResults:function(a,b){if(!l.isDisabled())if(b&&l.instrumentResponse(a.length),a&&0!==a.length){h.someResults=!0;var c=f.input.val();f.list.empty();var d=1,e=Object.keys(p).map(function(a){return p[a]});e.sort(function(a,b){return a.priority-
b.priority});e.forEach(function(b){var e=l.getFilteredResults(b,a);e.forEach(function(a,e){b.title&&0===e&&f.list.append('<span class="suggestion-group-title">'+b.title+('<span class="spaui-sprite spaui-suggestion-icon spaui-suggestion-icon-'+b.kind+'"></span>')+"</span>");f.list.append(l.generateSearchSuggestionItem(c,a,b,a.link,a.topicId,d));d++});b.lineBreak&&0<e.length&&f.list.append('<div class="suggestion-group-separator">')});h.lastSearchQuery=c;h.lastNumResults=d-1;l.determineShow();l.resetSelection();
l.rebindList(d)}else f.list.empty(),f.widget.removeClass("shown"),h.someResults=!1},determineShow:function(){f.widget.toggleClass("shown",l.searchIsFocused())},searchIsFocused:function(){return h.visible||f.input.is(":focus")||document.activeElement.id===f.input.attr("id")},getFilteredResults:function(a,b){return b.filter(function(b){return b.kind===a.resultKind}).slice(0,a.number).map(function(b){var c=l.getTopicIDFromResult(b),d=l.generateLinkText(a,b,c);return e.$.extend(b,{topicId:c,link:d})}).filter(function(a){return null!==
a.link})},getTopicIDFromResult:function(a){try{var b=null,c=JSON.parse(a.data);e.$.isArray(c)?b=c[0].HELP_TOPIC_ID:"number"===typeof c&&(b=c);return b}catch(d){return null}},generateLinkText:function(a,b,c){var d="/hz/help/search?query="+b.text;if("SellerCentralTool"===a.resultKind)try{d=JSON.parse(b.data).ToolPath}catch(f){return null}else if(l.isHelpArticle(a))if(c)d="/gp/help/"+c;else return null;return d},generateSearchSuggestionItem:function(a,b,c,d,f,h){a=l.getHighlightedContent(a,b.text);d=
e.$('<a class="spaui-suggestion-'+c.kind+'" href="'+d+'">'+a+"</a>");d.addClass("result-link");d.attr("data-name",b.text);d.attr("data-kind",c.kind);d.attr("data-rank",h);null!==f&&l.isHelpArticle(c)&&d.attr("data-topic-id",f);return d},isHelpArticle:function(a){return"PredictiveHelp"===a.resultKind||"PredictiveHelpAuto"===a.resultKind},handleSpecialSuggestionSelection:function(b,c){var d=!1;if(b.hasClass("spaui-suggestion-tool"))g.redirect(b.attr("href")),a.setPinned(!1),c.preventDefault(),d=!0;
else if(b.hasClass("spaui-suggestion-help")||b.hasClass("spaui-suggestion-autohelp"))d=g.gda(b,"topic-id"),h.invokeSearchFunc(d),l.hide(),c.preventDefault(),d=!0;return d},rebindList:function(a){f.list.find(".result-link").each(function(){e.$(this).attr("data-total",a-1)});f.list.find("a").mousedown(function(a){h.dontHideOnNextBlur=!0});f.list.find("a").click(function(a){l.instrumentClick(this);var b=e.$(this);if(l.isSearchTypeSuggestion(b))return f.input.val(g.gda(b,"name")),h.invokeSearchFunc(),
l.hide(),a.stopImmediatePropagation(),!1;l.handleSpecialSuggestionSelection(b,a)})},isSearchTypeSuggestion:function(a){return a.hasClass("spaui-suggestion-previous-search")||a.hasClass("spaui-suggestion-merged")},getHighlightedContent:function(a,b){a=a.replace(/\W+/g," ");a=a.replace(/\s+/g," ");var c=a.split(" "),d={},f;for(f in c)if(c.hasOwnProperty(f)){var e=c[f];d.hasOwnProperty(e)||""===e||(d[e]=!0)}c=Object.keys(d).join("|");return b.replace(new RegExp("("+c+")","gi"),'<span class="highlight_text">$1</span>')},
instrumentClick:function(a){a&&l.instrumentSend("result-selected",{query:f.input.val(),name:g.gda(a,"name"),kind:g.gda(a,"kind"),rank:g.gda(a,"rank"),total:g.gda(a,"total")})},instrumentRequest:function(){l.instrumentSend("request",{query:f.input.val()})},instrumentResponse:function(a){l.instrumentSend("response",{query:f.input.val(),total:a})},instrumentFailure:function(){l.instrumentSend("request-error",{query:f.input.val()})},instrumentSend:function(a,b){k.send({from:h.externalPlace?h.externalPlace:
c.getFrom(),to:a,where:k.getContext("searchSuggestions"),additionalObj:b})},resetSelection:function(a){h.selectedResult=null;l.changeSelection(a)},moveSelectionDown:function(){null===h.selectedResult?h.selectedResult=0:(h.selectedResult++,h.selectedResult>=h.lastNumResults&&(h.selectedResult=null));l.changeSelection()},moveSelectionUp:function(){null===h.selectedResult?h.selectedResult=h.lastNumResults-1:(h.selectedResult--,0>h.selectedResult&&(h.selectedResult=null));l.changeSelection()},changeSelection:function(a){a=
a===B?!0:a;f.list.find("a").removeClass("selected-result");var b=f.input.val(),c=h.lastSearchQuery;null!==h.selectedResult&&0<=h.selectedResult&&h.selectedResult<h.lastNumResults&&(c=l.getSelectedSuggestion(),c.addClass("selected-result"),c=g.gda(c,"name"));a&&b!==c&&f.input.val(c)},getSelectedSuggestion:function(){return null===h.selectedResult?null:f.list.find("a").eq(h.selectedResult)},loadPreviousSearchSuggestions:function(){var b=[];a.getLastSearches().forEach(function(a){b.push({kind:"previous",
text:g.stripHtmlTags(a)})});l.displayResults(b,!1)},overrideConfig:function(a){h=e.$.extend({},h,a)}};return{overrideConfig:l.overrideConfig,hide:l.hide,showLoading:l.showLoading,hideLoading:l.hideLoading,enable:l.enable,disable:l.disable,newBind:l.newBind,resize:l.resize,init:l.init}});ASPP.when("ASPA","spaui-events","spaui-external-events","spaui-metrics","spaui-history","spaui-util","spaui-session","spaui-top-issues").register("spaui-self-service-card",function(e,g,k,c,a,b,d,n){var h,p,f,l,r,m=
!1,v,w={search:"searchExecuted",forums:"forumsClicked"},u={init:function(a,b){u.hydrate(a);u.customizeCss(b);m||(u.bind(),u.subscribe(),m=!0);u.publishMetric("selfServiceCardDiscovered",{frictionType:!0===b.highFriction?"highFriction":"lowFriction"})},hydrate:function(a){h=a;p=a.find(".spaui-footer");f=a.find(".spaui-footer-nav.spaui-footer-contact");l=a.find('#spaui-self-service-card .spaui-self-service-card-item-link[data-tool-id="Tool/IssueNotListed"]');r=a.find("#spaui-self-service-card .spaui-self-service-card-description")},
bind:function(){h.delegate("#spaui-self-service-card .spaui-self-service-card-item-link","click",u.linkItemClicked);v=k.register("SXAthena")},customizeCss:function(a){p.addClass("spaui-self-service-card-footer");f.prev(".spaui-footer-nav.spaui-footer-forum").addClass("spaui-footer-forum-shifted");!0!==a.highFriction&&u.hideIssueNotListedLink();n.areTopIssuesPresent()||r.addClass("visible")},subscribe:function(){g.subscribe(g.getName("newPage"),u.handleNewPage)},handleNewPage:function(a){a=c.getPlace(a.type);
b.isNull(w[a])||u.publishCardUsedEvent(w[a])},linkItemClicked:function(a){d.setPinned(!1);a=e.$(a.target).closest("#spaui-self-service-card .spaui-self-service-card-item-link");a=u.getLinkData(a);var b={linkType:a.type};u.isIssueNotListedItemVisible()&&u.hideIssueNotListedLink(!0);if("CTI"===a.type){var c=a.CTI.split(":");b.CTI={C:c[0],T:c[1],I:c[2]}}u.publishCardUsedEvent("selfServiceLinkClicked",b);u.publishMetric("selfServiceLinkClicked",{toolId:a.id})},isIssueNotListedItemVisible:function(){return l.is(":visible")},
hideIssueNotListedLink:function(a){a?l.fadeOut(300):l.hide()},getLinkData:function(a){return{id:a.data("tool-id"),type:a.data("tool-type"),CTI:a.data("tool-cti")}},publishCardUsedEvent:function(a,b){var c=e.$.extend({actionType:a},b);v.publish(g.getName("selfServiceCardUsed"),c)},publishMetric:function(b,d){c.send({from:a.getFrom(),where:c.getContext("selfServiceCard"),to:c.getPlace(b),additionalObj:d})}};return{init:u.init,hideIssueNotListedLink:u.hideIssueNotListedLink}});ASPP.when("ASPA","spaui-metrics",
"spaui-history","spaui-util","spaui-events").register("spaui-session",function(e,g,k,c,a){var b={storage:localStorage,JSON:JSON,numOfSearchesToTrack:3,MAX_ATHENA_SIZE:51200},d={id:null,data:{article:{topicID:null,link:null},closeAffordance:{show:!0},pinned:{is:!1},preview:{show:!0},size:{large:!1},lastSearches:[],dismissed:!1,timeSellerViewingArticle:null,persistentDA:null}},n={init:function(){g.getSession()&&(d.id=g.getSession());if("undefined"===typeof b.JSON||"undefined"===typeof b.storage)g.send({from:k.getFrom(),
to:"localStorage",where:"info",additional:"&additionalMetadata=no-session-storage-support"});else try{var a=b.JSON.parse(b.storage.getItem("spaui"));n.updateCfgData(a)}catch(c){}},updateCfgData:function(a){a.id&&a.id===d.id?d.data=e.$.extend(!0,{},d.data,a.data):localStorage.removeItem("spaui")},returnTopicID:function(){return d.data.article.topicID},returnTopicURL:function(){return d.data.article.link},isLargeSize:function(){return d.data.size.large},returnPinned:function(){return d.data.pinned.is},
returnPreview:function(){return d.data.preview.show},setPreview:function(a){d.data.preview.show=a;n.update()},setPinned:function(a){d.data.pinned.is=a;n.update()},setTopicID:function(a){d.data.article.topicID=a;n.update()},setTopicURL:function(a){d.data.article.link=a;n.update()},returnCloseAffordance:function(){return d.data.closeAffordance.show},setCloseAffordance:function(a){d.data.closeAffordance.show=a;n.update()},setIsLarge:function(a){d.data.size.large=a;n.update()},setTopic:function(a){n.setTopicID(a);
n.setTopicURL(a)},update:function(){if("undefined"===typeof b.storage||"undefined"===typeof b.JSON)return!1;var a=b.JSON.stringify(d);if(a.length>b.MAX_ATHENA_SIZE)return!1;try{b.storage.setItem("spaui",a)}catch(c){return!1}return!0},getLastSearches:function(){return d.data.lastSearches},getWasDismissed:function(){return d.data.dismissed},setWasDismissed:function(a){d.data.dismissed=a;n.update()},getTimeSellerViewingArticle:function(){return d.data.timeSellerViewingArticle},setTimeSellerViewingArticle:function(a){d.data.timeSellerViewingArticle=
a;n.update()},revertSellerToInfoCard:function(){n.setTopic(null)},storeSearchQuery:function(a){d.data.lastSearches.unshift(a);d.data.lastSearches=c.getUniqueArray(d.data.lastSearches);d.data.lastSearches.splice(b.numOfSearchesToTrack,d.data.lastSearches.length);n.update()},storePersistentDA:function(a){d.data.persistentDA=a;if(!n.update())throw n.clearPersistentDA(),"Storage Space Exceeded or Not Available.";},getPersistentDA:function(){return d.data.persistentDA},clearPersistentDA:function(){d.data.persistentDA=
null;n.update()},mockConfig:function(a){Object.keys(a).forEach(function(c){b[c]=a[c]})}};return{setTopic:n.setTopic,setCloseAffordance:n.setCloseAffordance,getCloseAffordance:n.returnCloseAffordance,setTopicID:n.setTopicID,setIsLarge:n.setIsLarge,setTopicURL:n.setTopicURL,setPinned:n.setPinned,setPreview:n.setPreview,getPreview:n.returnPreview,getPinned:n.returnPinned,isLargeSize:n.isLargeSize,getTopicID:n.returnTopicID,getTopicURL:n.returnTopicURL,getLastSearches:n.getLastSearches,getWasDismissed:n.getWasDismissed,
setWasDismissed:n.setWasDismissed,getTimeSellerViewingArticle:n.getTimeSellerViewingArticle,setTimeSellerViewingArticle:n.setTimeSellerViewingArticle,revertSellerToInfoCard:n.revertSellerToInfoCard,storeSearchQuery:n.storeSearchQuery,storePersistentDA:n.storePersistentDA,getPersistentDA:n.getPersistentDA,clearPersistentDA:n.clearPersistentDA,updateCfgData:n.updateCfgData,mockConfig:n.mockConfig,init:n.init}});ASPP.when("spaui-browser-support").register("spaui-shim",function(e){var g={init:function(){e.definePropertyIsSupported()&&
(g.objectKeys(),g.trim(),g.endsWith(),g.arrayIndexOf(),g.foreach(),g.filter(),g.include(),g.map(),g.bind(),g.assign())},objectKeys:function(){Object.keys||(Object.keys=function(e){var c=[],a;for(a in e)e.hasOwnProperty(a)&&c.push(a);return c})},trim:function(){"function"!==typeof String.prototype.trim&&Object.defineProperty(String.prototype,"trim",{value:function(){return this.replace(/^\s+|\s+$/g,"")}})},endsWith:function(){String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",
{value:function(e,c){var a=this.toString();if("number"!==typeof c||!isFinite(c)||Math.floor(c)!==c||c>a.length)c=a.length;c-=e.length;a=a.indexOf(e,c);return-1!==a&&a===c}})},arrayIndexOf:function(){Array.prototype.indexOf||Object.defineProperty(Array.prototype,"indexOf",{value:function(e,c){var a;if(null===this||this===B)throw new TypeError('"this" is null or not defined');var b=Object(this),d=Math.abs(b.length);if(0===d)return-1;a=+c||0;Infinity===Math.abs(a)&&(a=0);if(a>=d)return-1;for(a=Math.max(0<=
a?a:d-Math.abs(a),0);a<d;){if(a in b&&b[a]===e)return a;a++}return-1}})},foreach:function(){Array.prototype.forEach||Object.defineProperty(Array.prototype,"forEach",{value:function(e,c){var a,b;if(null===this)throw new TypeError(" this is null or not defined");var d=Object(this),g=d.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(a=c);for(b=0;b<g;){var h;b in d&&(h=d[b],e.call(a,h,b,d));b++}}})},filter:function(){Array.prototype.filter||Object.defineProperty(Array.prototype,
"filter",{value:function(e){if(void 0===this||null===this)throw new TypeError;var c=Object(this),a=c.length>>>0;if("function"!==typeof e)throw new TypeError;for(var b=[],d=2<=arguments.length?arguments[1]:void 0,g=0;g<a;g++)if(g in c){var h=c[g];e.call(d,h,g,c)&&b.push(h)}return b}})},include:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,c){var a=Object(this),b=parseInt(a.length,10)||0;if(0===b)return!1;var d=parseInt(c,10)||0;0<=d||(d=b+d,
0>d&&(d=0));for(var g;d<b;){g=a[d];if(e===g||e!==e&&g!==g)return!0;d++}return!1}})},map:function(){Array.prototype.map||Object.defineProperty(Array.prototype,"map",{value:function(e,c){var a,b,d;if(null===this)throw new TypeError(" this is null or not defined");var g=Object(this),h=g.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");1<arguments.length&&(a=c);b=Array(h);for(d=0;d<h;){var p;d in g&&(p=g[d],p=e.call(a,p,d,g),b[d]=p);d++}return b}})},bind:function(){Function.prototype.bind||
Object.defineProperty(Function.prototype,"bind",{value:function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),a=this,b=function(){},d=function(){return a.apply(this instanceof b?this:e,c.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(b.prototype=this.prototype);d.prototype=new b;return d}})},assign:function(){"function"!==typeof Object.assign&&Object.defineProperty(Object,
"assign",{value:function(e,c){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),b=1;b<arguments.length;b++){var d=arguments[b];if(null!==d)for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(a[g]=d[g])}return a},writable:!0,configurable:!0})}};return{init:g.init}});ASPP.when("ASPA","spaui-util","spaui-theming").register("spaui-state",function(e,g,k){var c,a,b,d,n,h,p,f={showBrowseAllHelpOnLoad:!0},l={autoSummonParam:"spaui-auto-summon",helpSummonParam:"spaui-help-topic"},
r={init:function(a){r.initCfg(a);r.override()},initCfg:function(e){c=e.location.search.split(/[\?&]+/);a=encodeURIComponent(document.getElementsByTagName("title")[0].innerHTML);b=e.location.pathname.split(/\/ref=/)[0];d=encodeURIComponent(e.location.hash);n="";h={title:"spaui",url:"spaui-url",spauiDebug:"spauiDebug",auiDebug:"1",stringDebug:"true",auiReset:"1",athenaNotificationMockType:B};p=e.location.search},override:function(){var d=c.length,e,f={};for(e=0;e<d;e++){var k=c[e].split(/\=/);k[0]===
h.title&&(a=k[1]);k[0]===h.url&&(b=k[1]);k[0]===h.spauiDebug?(f.spauiDebug="1",f.auiDebug="1",f.auiReset="1"):k[0]in h&&(f[k[0]]=h[k[0]]||k[1])}n=g.formatObjectAsUrlParams(f,!0)},getState:function(a){return f[a]},setState:function(a,b){f[a]=b},isParamPresent:function(a){return-1!==p.indexOf(a)},isOnUrl:function(a){return a instanceof RegExp?a.test(b):-1!==b.indexOf(a)},isAnySummoningParamPresent:function(){for(var a=Object.keys(l),b=0;b<a.length;b++)if(r.isParamPresent(l[a[b]]))return!0;return!1},
getParamValue:function(a){var b=p,c=b.indexOf(a);if(0>c)return B;a=b.indexOf("=",c);c=b.indexOf("&",c);return 0>a||a>c&&-1<c?B:0>c?b.substring(a+1):b.substring(a+1,c)},enhanceUrl:function(c){c=c.split("#");-1!==c[0].indexOf("?")?c[0]+=c[0].endsWith("&")?"":"&":c[0]+="?";c[0]=c[0]+"pageTitle="+a+"&pageUrl="+b+"&pageHash="+d+n+"&theme="+k.getTheme();return c.join("#")}};return{init:r.init,showBrowseAllHelpOnLoad:e.$.proxy(r.getState,null,"showBrowseAllHelpOnLoad"),setShowBrowseAllHelpOnLoad:e.$.proxy(r.setState,
null,"showBrowseAllHelpOnLoad"),isParamPresent:r.isParamPresent,isAnySummoningParamPresent:r.isAnySummoningParamPresent,getParamValue:r.getParamValue,summoningParams:l,enhanceUrl:r.enhanceUrl,isOnUrl:r.isOnUrl}});ASPP.when("ASPA").register("spaui-theming",function(e){var g="",k=!1,c=!1,a=999;return{init:function(){var b=e.state("spaui-theming-state");g=b.theme;k="true"===b.hideFeedbackOnInfoCard;c="true"===b.hideAllAlerts;a=parseInt(b.hideAlertLevel,10)},getTheme:function(){return g},isFeedbackDisabledOnInfoCard:function(){return k},
shouldHideAlerts:function(b){return c||b>a}}});(function(){ASPP.when("ASPA","spaui-metrics","spaui-discovery","spaui-history","spaui-expand").register("spaui-top-issues",function(e,g,k,c,a){var b,d={init:function(a){b=a;k.register("top-issues","info",!1,d.onTopIssuesLoad);k.registerWithoutAsync("top-issues-selfServiceCard","selfServiceCard",!1,d.onTopIssuesLoad);d.bind()},bind:function(){b.delegate(".spaui-top-issues "+a.selectors.collapsedElementHeader,"click",d.expand);b.delegate(".spaui-top-issues "+
a.selectors.expandedElementHeader,"click",d.collapse)},getTopIssues:function(){return b.find(".spaui-top-issues")},onTopIssuesLoad:function(){d.topIssuesPresent()&&(d.instrumentDiscovery(),b.find(".spaui-top-issue").each(function(b,c){a.transformCollapse(e.$(c))}))},topIssuesPresent:function(){return 0<e.$(".spaui-top-issues").size()},expand:function(b){a.expand(b,e.$.proxy(d.instrumentExpandCollapse,null,e.$(b.currentTarget)))},collapse:function(b){a.collapse(b,e.$.proxy(d.instrumentExpandCollapse,
null,e.$(b.currentTarget)))},instrumentExpandCollapse:function(a,b){var e={from:c.getFrom(),where:g.getContext("topIssues"),to:b,additionalObj:{issueId:d.fetchIssueId(a)}};g.send(e)},fetchIssueId:function(a){return a.parent().find(".spaui-top-issue").data("topic-id")},instrumentDiscovery:function(){var a={from:c.getFrom(),where:g.getContext("topIssues"),to:"discovered",additionalObj:{category:d.getData("top-issue-category"),issueIds:d.getData("top-issueids"),issueCount:d.getData("top-issue-count")}};
g.send(a)},getData:function(a){return d.getTopIssues().data(a)}};return{init:d.init,areTopIssuesPresent:d.topIssuesPresent}})})();ASPP.when("ASPA","spaui-util","spaui-state","spaui-history","spaui-metrics","spaui-ui","spaui-content","spaui-events","spaui-search","spaui-help","spaui-alerts","spaui-contact-deflection").register("spaui-triggers",function(e,g,k,c,a,b,d,n,h,p,f,l){var r=null,m=null,v={},w={init:function(a){v.athenaHome=a.athenaHome;w.checkForAutoSummonParam();w.checkForPinRequest(g.gebi("spaui-pin-request"));
w.checkForTabbedContent(g.gebi("spaui-hash"));w.addLegacyLinkClickListener(a);e.$("body ").delegate(".spaui-trigger","click",w.handleClick);E.ATHENA_DISABLE_EXTERNAL_LINK_ONCLICK=!0;a.footerContactUs&&w.bindContactUsLinks()},bindContactUsLinks:function(){var a=g.getContactUsFooterLink();1===a.length&&(a.addClass("spaui-trigger"),a.attr("data-spaui",'{"type":"contact-us","data":{"page":"sx-athena","context":"contactusfooter"}}'),a.attr("data-href",a.attr("href")),a.removeAttr("href"))},checkForAutoSummonParam:function(){if(k.isParamPresent(k.summoningParams.autoSummonParam))b.summoner({where:a.getContext("autoSummonParam")});
else if(k.isParamPresent(k.summoningParams.helpSummonParam)){var c=k.getParamValue(k.summoningParams.helpSummonParam);p.displayHelpTopic(c,null,{where:a.getContext("autoSummonHelpParam")});b.summoner({where:a.getContext("autoSummonHelpParam"),additionalObj:{topicID:c}})}},checkForPinRequest:function(a){a&&b.summoner({external:!0})},checkForTabbedContent:function(a){a&&(r=a,m=g.gda(r,"regex"),"onhashchange"in E&&(E.onhashchange=w.hashChange))},hashChange:function(b){var e=E.location.hash;e.match(m)&&
d.placeFeaturedAndPredictive(function(b,d){a.send({isError:!b,errorDetails:d,from:c.getFrom(),where:a.getContext("externalTrigger"),to:a.getPlace("setFeaturedContentAndPredictiveHelp"),additionalObj:{action:"tabSwitch",hash:e}})})},handleClick:function(a){if("undefined"!==typeof JSON)try{var c=JSON.parse(g.gda(a.currentTarget,"spaui"));c.data.href=a.currentTarget.href;"topic"===c.type&&(a.preventDefault(),w.placeTopic(c.data));"page"===c.type&&(a.preventDefault(),w.placePage(c.data));"search"===c.type&&
(a.preventDefault(),w.placeSearch(c.data));if("forum"===c.type)return{error:"forums are not yet supported."};"contact-us"===c.type&&w.handleContactUs(a,c.data);b.getVisible()||b.summoner({external:!0})}catch(d){}},handleContactUs:function(d,e){var f;d.preventDefault();var g=b.getVisible(),h=l.isActive();g||h?f=a.getPlace("disabledGetSupportClick"):(v.athenaHome({preventDefault:function(){}}),f=a.getPlace("setContactUsFooter"));g||b.summoner({external:!1});h?l.displayDeflectionCard(a.getContext("scFooter"),
!g):a.send({from:c.getFrom(),to:f,where:a.getContext("trigger")})},placeTopic:function(b){p.displayHelpTopic(b.id,b.href,{where:a.getContext("externalTrigger"),additionalObj:{client:b.page,context:b.context}},b.bookmark)},placePage:function(c){var d=c.id.toLowerCase();if("home"===d)if(b.isSummoned())n.publish(n.getName("goHome"));else{var e=function(){n.publish(n.getName("goHome"));n.unsubscribe("summon",e)};n.subscribe("summon",e)}else c={where:a.getContext("externalTrigger"),additionalObj:{page:c.page,
context:c.context}},"browse"===d&&p.displayBrowseAllHelp(c),"alerts"===d&&f.displayAllAlerts(c)},placeSearch:function(b){h.externalSubmitSearch(decodeURIComponent(b.query),{where:a.getContext("externalTrigger"),additionalObj:{client:b.page,context:b.context}})},parseLinkHref:function(){var a=/openModalDialog\('(.*)'\)/,b=/itemID=?([0-9]+)/,c=[E.location.protocol,"//",E.location.hostname,"/"].join("");return function(d){d=(a.exec(d)||[])[1];var e=(b.exec(d)||[])[1];return d&&e?{href:[c,"gp/help/help-popup.html?itemID=",
e].join(""),id:e}:!1}}(),handleLegacyLinkClick:function(a){if("object"!==typeof a||!a.target)return!1;a=w.parseLinkHref(a.target.href);if("object"!==typeof a)return!1;w.placeTopic({id:a.id,page:"campaign-manager",context:"page",href:a.href,bookmark:""});b.getVisible()||b.summoner({external:!0});return!0},addLegacyLinkClickListener:function(a){a=a||{};a.location=a.location||{};var b=a.location.pathname||E.location.pathname;a=0===(a.location.hash||E.location.hash).indexOf("#/hz/cm");if(0!==b.indexOf("/hz/cm")&&
!a)return!1;e.$(document).bind("click",function(a){w.handleLegacyLinkClick(a)&&a.preventDefault()});return!0}};return{init:w.init}});ASPP.when("ASPA","spaui-util","spaui-session","spaui-history","spaui-metrics","spaui-predictive","spaui-search-suggestions","spaui-featured-content","spaui-events","spaui-theming").register("spaui-ui",function(e,g,k,c,a,b,d,n,h,p){var f,l,r,m,v,w,u,x,A,t,B,G,C,z={active:!1,closeAffordance:{delay:1E3,fade:1250},duration:{show:200,hide:300,fbConfirm:2E3,spooferDelay:300,
contentFadeIn:300,delayBeforeFooterFade:5E3},distance:null,regularSize:410,externalSquishee:"#athena-controlled-width-area",ph:{adopt:!0},resize:{duration:250,percentage:.4,maximum:575},spooferHeight:0,squish:!1,visible:!1,specialSizeStyleMin:500},y={init:function(a){y.hydrate(a);y.bind();y.handleSpooferBar()},hydrate:function(a){f=e.$(E);l=a;r=a.find(".spaui-head-controls-search");m=a.find(".spaui-head-controls-search #spaui-search-icon");v=a.find(".spaui-head-controls-pop");a.find("#spaui-head-controls");
w=a.find("#spaui-close");u=a.find("#spaui-head-controls-close-affordance");x=e.$("#sc-quicklink-help").find("a");A=e.$("#helpMenuID").find("a");t=a.find("#spaui-resize");B=e.$(z.externalSquishee);G=e.$("#globalActionBar");C=a.find(".spaui-footer");0!==B.length&&(z.squish=!0);z.distance=z.regularSize},bind:function(){x.click(y.summon);A.click(y.summon);w.click(y.banish);u.hover(y.closeAffordHover);x.hover(y.triggerHover);t.click(y.resize);0!==G.length&&f.scroll(y.windowScroll)},initialState:function(){k.isLargeSize()?
y.makeLarge():y.makeSmall()},summon:function(a){a.preventDefault();h.publish(h.getName("triggerSummon"));y.summoner({})},summoner:function(a,b){y.isSummoned()||(z.active=!0,l.css("display","block"),y.setSize(z.distance),z.squish&&B.animate({width:z.distance},z.duration.show),l.animate({marginRight:0},z.duration.show,function(){y.summoned(a,b)}))},summoned:function(b,d){k.setPinned(!0);k.setPreview(!1);var f="";b.where?f=b.where:(f=b.session?a.getContext("session"):a.getContext("trigger"),b.external&&
(f=a.getContext("externalTrigger")),b.preload&&(f=a.getContext("preload")));var g={theme:p.getTheme()};b.additionalObj&&e.$.extend(g,b.additionalObj);a.send({from:c.getFrom(),to:a.getPlace("setAthenaSummoned"),where:f,additionalObj:g});z.visible=!0;z.active=!1;y.closeAffordance();h.publish(h.getName("summon"));e.$.isFunction(d)&&d()},banish:function(a){a.preventDefault();k.setWasDismissed(!0);y.banisher()},banisher:function(a){h.publish(h.getName("dismissed"));z.active||(z.active=!0,z.squish&&B.animate({width:0},
z.duration.hide),l.animate({marginRight:"-="+z.distance},z.duration.hide,function(){y.banished(a)}))},banished:function(b){l.css("display","none");k.setPinned(!1);b=e.$.extend({from:c.getFrom(),where:a.getContext("header"),to:a.getPlace("setAthenaBanished")},b);a.send(b);z.visible=!1;z.active=!1},isSummoned:function(){return z.active||z.visible},resize:function(a){a.preventDefault();y.resizer(a)},resizer:function(a){k.isLargeSize()?y.makeSmall(!0):y.makeLarge(!0)},makeSmall:function(b){b&&k.isLargeSize()&&
a.setSizeActive(a.getPlace("setSizeSmall"));k.setIsLarge(!1);y.resetSpecialClasses();t.removeClass("spaui-resize-large");y.setSize(z.regularSize)},makeLarge:function(b){b&&!k.isLargeSize()&&a.setSizeActive(a.getPlace("setSizeLarge"));k.setIsLarge(!0);y.resetSpecialClasses();t.addClass("spaui-resize-large");y.setSize(y.calculateLargeWidth())},setSpecialSize:function(a,b){a>z.specialSizeStyleMin?l.addClass("spaui-special-sizing"):y.resetSpecialClasses();y.setSize(a,!1,b)},resetSpecialClasses:function(){l.removeClass("spaui-special-sizing")},
setSize:function(a,b,c){z.distance=a;a=y.getSearchSize(z.distance);z.visible&&!c?(z.squish&&B.animate({width:z.distance},z.resize.duration),b||l.animate({width:z.distance},z.resize.duration,y.resized),r.animate({width:a},z.resize.duration,y.searchResized)):(l.width(z.distance),r.width(a));z.visible||l.css("margin-right","-"+z.distance+"px");d.resize(a+m.width()-1)},searchResized:function(){e.$(this).css("overflow","visible")},resized:function(){var b;b="<style>"+("#spaui {width:"+z.distance+"px;}");
b+="#spaui-next {right:-"+z.distance+"px;}";b+="#spaui-prev {right:"+z.distance+"px;}";b+="</style>";g.gebi("spaui-css-override").innerHTML=b;b=a.getPlace("setSizeActive");""!==b&&a.send({from:c.getFrom(),to:b,where:a.getContext("header")})},getSearchSize:function(a){a-=30;"none"!==v.css("display")&&(a-=26);a-=26;a-=y.getCloseIconSize();return a-=8},closeAffordance:function(){k.getCloseAffordance()&&(k.setCloseAffordance(!1),u.show(),setTimeout(y.closeAffordStartFade,z.closeAffordance.delay))},closeAffordStartFade:function(){u.addClass("spaui-fade");
setTimeout(y.closeAffordAfterFade,z.closeAffordance.fade)},closeAffordAfterFade:function(){u.remove()},closeAffordHover:function(a){u.remove()},triggerHover:function(a){"mouseenter"===a.type&&(a.currentTarget.style.color="#e47911",a.currentTarget.style.cursor="pointer");"mouseleave"===a.type&&(a.currentTarget.style.color="",a.currentTarget.style.cursor="auto")},calculateLargeWidth:function(){var a=Math.min(parseInt((f.width()-z.regularSize)*z.resize.percentage+z.regularSize,10),z.resize.maximum);
a<=z.regularSize&&(a=z.regularSize+1);return a},returnVisible:function(){return z.visible},handleSpooferBar:function(){g.gebi("spooferDiv")&&setTimeout(function(){z.spooferHeight=e.$("#spooferDiv").outerHeight();l.css("top",z.spooferHeight)},z.duration.spooferDelay)},windowScroll:function(a){a=0;a=0!==G.length&&"fixed"===G.css("position")?G.outerHeight():z.spooferHeight;l.css("top",a)},scrollToHash:function(a){var b;"top"===a.toLowerCase()?e.$("#spaui-content").scrollTop(0):(b=e.$("#spaui"),g.gebi(a)&&
0<e.$("#spaui-content").find('a[name="'+a+'"]').length?g.updateScrollTop(b.find("#"+a),55):(g.gebi(a)&&g.updateScrollTop(b.find("#"+a),55),0<e.$("#spaui-content").find('a[name="'+a+'"]').length&&g.updateScrollTop(b.find('a[name="'+a+'"]'),70)))},contentChanged:function(){var a=y.getSearchSize(z.distance);r.animate({width:a},z.resizeDuration,y.searchResized)},hideClose:function(){w.css("display","none");r.css("right","auto")},showClose:function(){w.css("display","");r.css("right","")},hideResizer:function(){t.hide()},
showResizer:function(){t.show()},getCloseIconSize:function(){return"none"!==w.css("display")?44:13},highlightFooterElement:function(a,b){var c=C.find(".spaui-footer-nav.spaui-footer-"+a);0<c.size()&&(c.find(".spaui-footer-highlight-message").text(b),c.addClass("highlighted"),setTimeout(y.handleHighlightRemoval,z.duration.delayBeforeFooterFade))},handleHighlightRemoval:function(){C.find(".spaui-footer-nav").removeClass("highlighted")},overrideConfig:function(a){z=e.$.extend(!0,{},z,a)}};return{scrollToHash:y.scrollToHash,
summon:y.summon,summoner:y.summoner,banish:y.banish,banisher:y.banisher,resize:y.resize,getVisible:y.returnVisible,getLargeWidth:y.calculateLargeWidth,makeSmall:y.makeSmall,makeLarge:y.makeLarge,setSpecialSize:y.setSpecialSize,isSummoned:y.isSummoned,initialState:y.initialState,contentChanged:y.contentChanged,hideClose:y.hideClose,showClose:y.showClose,hideResizer:y.hideResizer,showResizer:y.showResizer,highlightFooterElement:y.highlightFooterElement,overrideConfig:y.overrideConfig,init:y.init}});
ASPP.when("ASPA","spaui-shim").register("spaui-util",function(e,g){var k=null,c={init:function(a){k=a},textareaFocusPlaceholderFix:function(a){a.attr("placeholder")===a.val()&&a.val("")},returnTopicIDFromLocation:function(){return c.returnTopicIDFromLink(k.location.href)},returnTopicIDFromLink:function(a){var b,c=/\/help\/([\d]+)/;a.match(c)&&a.match(c)[1]&&(b=a.match(c)[1]);var c=a.split(/[\?&]+/),e=c.length;for(a=0;a<e;a++){var g=c[a].split("=");"itemID"===g[0]&&(g=g[1].match(/^([0-9]+).*/),null!==
g&&(b=g[1]))}return b},updateScrollTop:function(a,b){e.$("#spaui").find("#spaui-content").scrollTop(a.offset().top-b)},isOnArticle:function(){var a=!1,b=k.location.href,c=/\/help\/([\d]+)/;b.match(c)&&b.match(c)[1]&&(a=!0);for(var c=b.split(/[\?&]+/),e=c.length,b=0;b<e;b++)"itemID"===c[b].split("=")[0]&&(a=!0);return a},exposejQuery:function(){"function"!==typeof k.$&&(k.$=e.$)},gda:function(a,b){return a.attr?a.attr("data-"+b):a.data?a.data(b):a.dataset?a.dataset[b]:a.getAttribute("data-"+b)},gebi:function(a){return document.getElementById(a)},
delayInit:function(){var a=0;return function(b,c){clearTimeout(a);a=setTimeout(b,c)}},startsWith:function(a,b){var c=!1;a.substr(0,b.length)===b&&(c=!0);return c},contains:function(a,b){if("string"===typeof a){if(b instanceof RegExp)return b.test(a);if(-1!==a.indexOf(b))return!0}return!1},handleSigninRedirect:function(a){return 403===a?(k.location.reload(),!0):!1},openInNewWindow:function(a){k.open(a,"_blank").focus()},redirect:function(a){k.location=a},getUniqueArray:function(a){for(var b={},c=[],
e=0,g=a.length;e<g;++e)b.hasOwnProperty(a[e])||(c.push(a[e]),b[a[e]]=1);return c},isString:function(a){return"string"===typeof a||a instanceof String},isNumber:function(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a},isNull:function(a){return null===a||a===B},formatObjectAsUrlParams:function(a,b){if(e.$.isPlainObject(a)){var c=[];Object.keys(a).forEach(function(e){var g=a[e];!0===g?g="true":!1===g&&(g="false");b&&(g=encodeURIComponent(g));c.push(e+"="+g)});return 0<c.length?"&"+c.join("&"):""}return null},
getErrorDetailsFromAjaxResponse:function(a,b){var c="none";"error"===b?c=0===a.status&&0===a.readyState?"abort":500===a.status?"server-error":"unknown-error":"abort"===b&&(c="abort");return{type:c,jqueryStatus:b,httpStatus:a.status,readyState:a.readyState}},getUid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},truncateString:function(a,b,d){d===B&&(d="");if(a===B||!c.isString(a)||!c.isString(d)||
!c.isNumber(b))return"";b===B&&(b=100);return a.length>b?a.substr(0,b-d.length)+d:a},isParamPresent:function(a){return-1!==k.location.search.indexOf(a)},forEachObjectValue:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c])},getElementRightOffset:function(a){var b=a.offset();return null===b?0:document.body.clientWidth-b.left-a.width()},ensureId:function(a){if(0!==a.length&&a instanceof e.$){var b=a.attr("id");""!==b&&b!==B||a.attr("id",c.getUid())}},resetJqueryAnimation:function(a){0!==a.length&&
a instanceof e.$&&(a.css("height",""),a.css("margin-top",""),a.css("margin-bottom",""),a.css("padding-top",""),a.css("padding-bottom",""),a.css("overflow",""))},isHashOnCurrentPage:function(a){var b=c.removeHashFromUrl(c.escape(k.location.href));return(new RegExp(b+"#.*$")).test(a)},escape:function(a){return a.replace(/[-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")},removeHashFromUrl:function(a){return a.split("#")[0]},isHtmlElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:!1},
isSellerULink:function(a){return"201047930"===a},executeIf:function(a,b){return function(c){if(e.$.isFunction(a)&&a(c)||!e.$.isFunction(a)&&a)return b(c)}},executeIfElse:function(a,b,c){return function(g){return e.$.isFunction(a)&&a(g)||!e.$.isFunction(a)&&a?b(g):c(g)}},getPathArguments:function(a){var b={};a=a&&a.split("?");if(!a||2<a.length)return b;(a[1]?a[1].split("&"):[]).forEach(function(a){a=a.split("=");b[a[0]]=2>a.length?"":a[1]});return b},getContactUsFooterLink:function(){return e.$(".sc-footer, #sc_footer").find('a[href*="contact-"]').filter(function(){var a=
e.$(this).attr("href");return 0>a.indexOf("?")||a.indexOf("contact-")<a.indexOf("?")})},toggleClassOnCond:function(a,b,c){var e=a.hasClass(b);c&&!e?a.addClass(b):!c&&e&&a.removeClass(b)},stringToBool:function(a){return"true"===(a+"").toLowerCase()},selectorToClass:function(a){return 0===a.indexOf(".")?a.substring(1):a},formEncode:function(a){return encodeURIComponent(a).replace(/%20/g,"+")},hasTemplate:function(a){return null!==c.gebi("spaui-template-"+a)},stripHtmlTags:function(a){var b=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi,
c;do c=a,a=a.replace(b,"");while(a!==c);return a.replace(/</g,"&lt;")}};return{init:c.init,startsWith:c.startsWith,contains:c.contains,delayFunc:c.delayInit(),exposejQuery:c.exposejQuery,gda:c.gda,gebi:c.gebi,getTopicIDFromLink:c.returnTopicIDFromLink,getTopicIDFromLocation:c.returnTopicIDFromLocation,handleSigninRedirect:c.handleSigninRedirect,isOnArticle:c.isOnArticle,openInNewWindow:c.openInNewWindow,textareaFocusPlaceholderFix:c.textareaFocusPlaceholderFix,updateScrollTop:c.updateScrollTop,getUniqueArray:c.getUniqueArray,
isString:c.isString,isNumber:c.isNumber,isNull:c.isNull,formatObjectAsUrlParams:c.formatObjectAsUrlParams,truncateString:c.truncateString,isParamPresent:c.isParamPresent,getErrorDetailsFromAjaxResponse:c.getErrorDetailsFromAjaxResponse,getUid:c.getUid,forEachObjectValue:c.forEachObjectValue,getElementRightOffset:c.getElementRightOffset,ensureId:c.ensureId,resetJqueryAnimation:c.resetJqueryAnimation,redirect:c.redirect,isHashOnCurrentPage:c.isHashOnCurrentPage,isHtmlElement:c.isHtmlElement,isSellerULink:c.isSellerULink,
executeIf:c.executeIf,executeIfElse:c.executeIfElse,getPathArguments:c.getPathArguments,getContactUsFooterLink:c.getContactUsFooterLink,toggleClassOnCond:c.toggleClassOnCond,stringToBool:c.stringToBool,selectorToClass:c.selectorToClass,formEncode:c.formEncode,hasTemplate:c.hasTemplate,stripHtmlTags:c.stripHtmlTags}});ASPP.when("ASPA","spaui-shim","spaui-util").register("spaui-weblabs",function(e,g,k){var c={contactDeflection:"C",searchSuggestionPHRefactor:"C"},a={init:function(a){e.$.extend(c,a);
Object.keys(c).forEach(function(a){c[a]=c[a].toUpperCase()})},doesTreatmentEqual:function(b,d){return a.executeWithWeblab(b,function(a){return c[a]===d.toUpperCase()},function(){return!1})},getTreatment:function(b){return a.executeWithWeblab(b,function(a){return c[a]},function(){return"C"})},isControl:function(b){return a.doesTreatmentEqual(b,"C")},isAnyTreatment:function(b){return a.executeWithWeblab(b,function(a){return c[a].match(/^T[0-9]+$/)},function(){return!1})},executeWithWeblab:function(a,
d,e){return k.executeIfElse(c.hasOwnProperty(a),function(a){return d(a)},function(a){return e(a)})(a)}};return e.$.extend({init:a.init,doesTreatmentEqual:a.doesTreatmentEqual,getTreatment:a.getTreatment,isControl:a.isControl,isAnyTreatment:a.isAnyTreatment},{CONTACT_DEFLECTION:"contactDeflection",SEARCH_SUGGEST_PH:"searchSuggestionPHRefactor",SEARCH_SUGGEST_NGRAM:"searchSuggestionNGram"})});ASPP.when("ASPA","spaui-ajax","spaui-events","spaui-shim","spaui-util","spaui-history").register("spaui-workflows",
function(e,g,k,c,a,b){var d={},n={ID_REGEX:/workflow-id_(\S*)($|\s)/,WORKFLOW_URL:null,WORKFLOW_ID:"workflowId=",CLIENT_ID:"&clientId=",TRANSITION_TIME:400,AUGUR_POPULATE_DELAY:25},h={init:function(){n.WORKFLOW_URL=b.getAthenaUrlPrefix()+"workflow?";h.bind();h.initializeClientMapping()},bind:function(){k.subscribe(k.getName("newPage"),h.handleNewPage)},initializeClientMapping:function(){d["#_modules .workflow-placeholder"]="FullPageHelp";d[".spaui-help .workflow-placeholder"]="AthenaHelp"},handleNewPage:function(){var a=
h.scanForWorkflows();0<a.length&&a.forEach(h.replace)},scanForWorkflows:function(){var a=[],b=function(b){return function(c,d){var f=e.$(d),f=h.stripReplacementElement(f,b);null!==f&&a.push(f)}};e.$("#_modules .workflow-placeholder").each(b(d["#_modules .workflow-placeholder"]));e.$(".spaui-help .workflow-placeholder").each(b(d[".spaui-help .workflow-placeholder"]));return a},stripReplacementElement:function(a,b){var c=h.getIdFromPossibleReplacement(a),d=h.getSelectorOrCreateForElement(a);return null!==
c?{id:c,client:b,selector:d}:null},getSelectorOrCreateForElement:function(b){b.attr("id")||b.attr("id",a.getUid());return"#"+b.attr("id")},getIdFromPossibleReplacement:function(a){a=a.attr("class");a=n.ID_REGEX.exec(a);return null===a?null:a[1]},replace:function(a){g.get(n.WORKFLOW_URL+n.WORKFLOW_ID+a.id+n.CLIENT_ID+a.client,{dataType:"html"},function(b){h.flush(a.selector,b.data,!0)},function(b){h.flush(a.selector,b.data,!1)})},flush:function(a,b,c){a=e.$(a);var d=e.$(b);c&&0<d.children().size()?
"none"!==a.css("display")&&(d.hide(),a.replaceWith(d),setTimeout(function(){d.slideDown(n.TRANSITION_TIME)},n.AUGUR_POPULATE_DELAY)):a.remove()},overrideConfig:function(a){e.$.extend(n,a)}};return{init:h.init,overrideConfig:h.overrideConfig}});ASPP.when("ASPA","spaui-push-notification","spaui-alerts","spaui-external-handle").register("spaui-external-alerts",function(e,g,k,c){return c.wrap({createPushNotification:function(a,b,c,e,h){return g.createWithOptions(a,{className:b,noDismissal:!c,overrideExisting:e,
title:h,overridable:!0})},requestMastheadIcon:function(a){return k.externalDisplayShinyObject(a)},dismissPushNotification:function(){return g.hide()},dismissMastheadIcon:function(a){return k.externalDismissShinyObject(a)}})});ASPP.when("ASPA","spaui-content","spaui-state","spaui-external-handle").register("spaui-external-content",function(e,g,k,c){var a={placeWorkflow:function(b,c){g.placeEndpoint("workflow",a.getWorkflowEndpoint(b,this.client),c,!0)},getWorkflowEndpoint:function(a,c){return k.enhanceUrl("/help/inline/workflow?workflowId="+
a+"&clientId="+c)}};return c.wrap({placeWorkflow:a.placeWorkflow})});ASPP.when("ASPA","spaui-events","spaui-external-handle").register("spaui-external-events",function(e,g,k){var c={resolveName:function(a){return"spaui-external:"+a},subscribe:function(a,b){g.subscribe(c.resolveName(a),b)},unsubscribe:function(a,b){g.unsubscribe(c.resolveName(a),b)},publish:function(a,b){g.publish(c.resolveName(a),b)}};return k.wrap({subscribe:c.subscribe,unsubscribe:c.unsubscribe,publish:c.publish})});ASPP.when("ASPA",
"spaui-util","spaui-shim").register("spaui-external-handle",function(e,g){function k(c,a){if(!c||!g.isString(c))throw"Register must be given a string to identify your widget or team using our API.";this.client=c;this.monkeyPatchModule(a)}k.prototype.monkeyPatchModule=function(c){var a=function(a){var d=c[a];e.$.isFunction(d)?this[a]=this.monkeyPatchMethod(a,d):this[a]=d},a=a.bind(this);Object.keys(c).forEach(a)};k.prototype.monkeyPatchMethod=function(c,a){return function(){return a.apply(this,arguments)}};
return{wrap:function(c){return{register:function(a){return new k(a,c)}}}}});ASPP.when("ASPA","spaui-metrics","spaui-history").register("spaui-external-metrics",function(e,g,k){var c={register:function(a,b){if(a)return e.$.proxy(c.handle,null,a,b);throw"Register must be given a string to identify your widget or team using our API.";},handle:function(a,b,c,e){b={from:b?"cid-"+b:k.getFrom(),where:a,to:c};e&&(b.additionalObj=e);try{g.validate(b),g.send(b)}catch(h){throw"Error sending metric for '"+a+
"': "+h;}}};return{register:c.register}});(function(){ASPP.when("ASPA","spaui-search","spaui-ui","spaui-external-handle","spaui-shim").register("spaui-external-search",function(e,g,k,c,a){a.init();var b={wrapOnComplete:function(a){return function(b){g.isRedirectSearch(b)||k.summoner({});a(b)}},search:function(a,c,e,k){g.setSearchBoxValue(a);g.externalSubmitSearch(a,{where:"exClient"+this.client},k,null,b.wrapOnComplete(c),e)}};e={SEARCH_TYPES:Object.assign({},g.SEARCH_TYPES),search:b.search};return c.wrap(e)})})();
ASPP.when("ASPA","spaui-ui","spaui-external-handle","spaui-shim").register("spaui-external-ui",function(e,g,k){var c={FORUMS:"forum",CHAT:"chat",CASE_LOG:"caselog",CONTACT_US:"contact"},a={summon:function(a,c){g.isSummoned()?c():g.summoner({where:"ext-"+a},c)},isSummoned:function(){return g.isSummoned()},setFooterHighlight:function(b,c){if(a.validFooterElement(b))g.highlightFooterElement(b,c);else throw a.generateUnsupportedElementException(b);},validFooterElement:function(b){return 0<=a.getAllValidFooterElementValues().indexOf(b)},
generateUnsupportedElementException:function(a){throw a+" is not a valid footer element. Valid elements are ["+this.getAllValidFooterElementValues().join(", ")+"]. If possible, use the exposed FOOTER_ELEMENTS object.";},getAllValidFooterElementValues:function(){return Object.keys(c).map(function(a){return c[a]})}};return k.wrap({summon:a.summon,isSummoned:a.isSummoned,setFooterHighlight:a.setFooterHighlight,FOOTER_ELEMENTS:c})});(function(){var e=["spaui-external-alerts","spaui-external-content",
"spaui-external-events","spaui-external-search","spaui-external-ui"];J!==ASPP&&e.forEach(function(e){ASPP.when(e).execute(function(k){J.register(e,function(){return k})})})})()});